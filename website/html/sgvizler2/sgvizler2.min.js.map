{"version":3,"file":"sgvizler2.min.js","sources":["../module/sgvizler/Chart.js","../../node_modules/tslib/tslib.es6.js","../module/sgvizler/Messages.js","../module/sgvizler/SparqlTools.js","../module/sgvizler/Container.js","../module/sgvizler/visualization/Table.js","../module/sgvizler/Loader.js","../module/sgvizler/Dependency.js","../module/sgvizler/SparqlError.js","../module/sgvizler/Select.js","../module/sgvizler/Tools.js","../module/sgvizler/Logger.js","../module/sgvizler/Core.js","../module/sgvizler/Request.js","../module/sgvizler/LoadingIcon.js","../module/sgvizler/WktLiteral.js","../module/sgvizler.js","../module/bordercloud/visualization/DataTable.js","../module/bordercloud/visualization/PivotTable.js","../module/bordercloud.js","../module/google/Tools.js","../module/google/Data.js","../module/google/visualization/AnnotationChart.js","../module/google/visualization/AreaChart.js","../module/google/visualization/BarChart.js","../module/google/visualization/BubbleChart.js","../module/google/visualization/Calendar.js","../module/google/visualization/CandlestickChart.js","../module/google/visualization/ColumnChart.js","../module/google/visualization/ComboChart.js","../module/google/API.js","../module/google/visualization/GeoChart.js","../module/google/visualization/Histogram.js","../module/google/visualization/IntervalChart.js","../module/google/visualization/LineChart.js","../module/google/visualization/Map.js","../module/google/visualization/OrgChart.js","../module/google/visualization/Pie.js","../module/google/visualization/ScatterChart.js","../module/google/visualization/SteppedAreaChart.js","../module/google/visualization/Table.js","../module/google/visualization/Timeline.js","../module/google/visualization/TreeMap.js","../module/google/visualization/Trendline.js","../module/google.js","../module/d3.js","../module/d3/visualization/AreaChart.js","../module/d3/visualization/BarChart.js","../module/d3/visualization/BubbleChart.js","../module/d3/visualization/ColumnChart.js","../module/d3/visualization/Line.js","../module/d3/visualization/Pie.js","../module/d3/visualization/ScatterChart.js","../module/leaflet/API.js","../module/leaflet/visualization/Map.js","../module/leaflet.js","../module/index.js"],"sourcesContent":["import { __awaiter } from \"tslib\";\nimport { Logger, MESSAGES, CssDependency, ScriptDependency, Loader, Tools } from '../sgvizler';\n/**\n * Define the type of patterns for the options\n *\n * @class sgvizler.CHART_PATTERN_OPTIONS\n * @memberof sgvizler\n */\nexport var CHART_PATTERN_OPTIONS;\n(function (CHART_PATTERN_OPTIONS) {\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"EMPTY\"] = 0] = \"EMPTY\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"UNKNOWN\"] = 1] = \"UNKNOWN\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"VARIABLE\"] = 2] = \"VARIABLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"STYLE\"] = 3] = \"STYLE\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"CLASS\"] = 4] = \"CLASS\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"WIKI\"] = 5] = \"WIKI\";\n    CHART_PATTERN_OPTIONS[CHART_PATTERN_OPTIONS[\"OBJECT\"] = 6] = \"OBJECT\";\n})(CHART_PATTERN_OPTIONS || (CHART_PATTERN_OPTIONS = {}));\n/**\n * Abstract class for all the charts. Ensures that chart types\n * correctly inherit methods from this class.\n * @class sgvizler.Chart\n * @abstract\n * @export\n * @memberof sgvizler\n */\nexport class Chart {\n    /**\n     * Constructor of all chart types created by\n     * sgvizler.charts inherit from.\n     * @memberof sgvizler.Chart\n     * @constructor sgvizler.Chart\n     */\n    constructor() {\n        /**\n         * Give the options of chart\n         * @property options\n         * @memberof sgvizler.Chart\n         * @public\n         * @type {{}}\n         */\n        this.options = {};\n        this._tabDependences = [];\n        this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        this._width = '';\n        this._height = '';\n        this._optionsRaw = '';\n        this._class = '';\n        this._style = '';\n        this._width = '100%';\n        this._isDone = false;\n        let currentThis = this;\n        Loader.on('loaded', () => {\n            if (currentThis.container != null &&\n                !currentThis._isDone &&\n                currentThis.isLoadedAllDependencies() &&\n                currentThis._resultSparql !== null &&\n                currentThis._resultSparql !== undefined) {\n                currentThis.doDraw();\n            }\n        });\n    }\n    loadDependenciesAndDraw(result) {\n        return __awaiter(this, void 0, void 0, function* () {\n            Logger.log(this.container, 'Chart loaded dependencies : ' + this.container.id);\n            // let promisesArray: Array<any> = []\n            this._resultSparql = result;\n            if (this.isLoadedAllDependencies()) {\n                yield this.doDraw();\n            }\n            else {\n                yield this.loadDependencies();\n            }\n        });\n    }\n    loadDependencies() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let promisesArray = [];\n            for (let dep of this._tabDependences) {\n                promisesArray.push(dep.load());\n            }\n            return Promise.all(promisesArray);\n        });\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {CHART_PATTERN_OPTIONS}\n     */\n    get patternOptions() {\n        return this._patternOptions;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get classHtml() {\n        return this._class;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set classHtml(value) {\n        this._class = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get style() {\n        return this._style;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set style(value) {\n        this._style = value;\n    }\n    /**\n     *\n     * @memberof sgvizler.Chart\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get optionsRaw() {\n        return this._optionsRaw;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set optionsRaw(value) {\n        this._optionsRaw = value;\n        this.doParseOptionsRaw();\n    }\n    /**\n     * To read new options for interactive chart\n     */\n    get newOptionsRaw() {\n        return this.optionsRaw;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get height() {\n        return this._height;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set height(value) {\n        this._height = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    get width() {\n        return this._width;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @param {string} value\n     */\n    set width(value) {\n        this._width = value;\n    }\n    /**\n     * Todo\n     * @memberof sgvizler.Chart\n     * @returns {string}\n     */\n    getHTMLStyleOrClass() {\n        let html = '';\n        let opts = this.options;\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.CLASS) {\n            html = Object.keys(opts).map((property) => '${opts[property]}').join(' ');\n            html = 'class=\"' + html + '\"';\n        }\n        if (this._patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            html = Object.keys(opts).map((property) => '${property}:${opts[property]}').join(';');\n            html = 'style=\"' + html + '\"';\n        }\n        return html;\n    }\n    addScript(url, loadBefore) {\n        let dep = new ScriptDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    addCss(url, loadBefore) {\n        let dep = new CssDependency(url, loadBefore);\n        this._tabDependences.push(dep);\n        return dep;\n    }\n    isLoadedAllDependencies() {\n        for (let dep of this._tabDependences) {\n            if (!Loader.isLoaded(dep)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    doDraw() {\n        Logger.log(this.container, 'Chart started : ' + this._container.id);\n        let currentThis = this;\n        let isEmpty = false;\n        if (currentThis._resultSparql === null\n            || currentThis._resultSparql === undefined) {\n            isEmpty = true;\n        }\n        else {\n            let cols = currentThis._resultSparql.head.vars;\n            let rows = currentThis._resultSparql.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            if (noCols === 0) {\n                isEmpty = true;\n            }\n        }\n        if (isEmpty) {\n            Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_DATA_EMPTY);\n            Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n        }\n        else {\n            currentThis.draw(currentThis._resultSparql).then(function (valeur) {\n                currentThis._isDone = true;\n                Logger.log(currentThis.container, 'Chart finished : ' + currentThis._container.id);\n                Logger.fireDoneEvent(currentThis._container);\n            }, function (error) {\n                console.log(error);\n                Logger.displayFeedback(currentThis._container, MESSAGES.ERROR_CHART, [error]);\n                Logger.log(currentThis.container, 'Chart finished with error : ' + currentThis._container.id);\n            });\n        }\n    }\n    // noinspection JSValidateJSDoc\n    // noinspection tslint\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     * @param {RegExp} patternOption\n     * @param {CHART_PATTERN_OPTIONS} typePattern\n     */\n    execPattern(patternOption, typePattern) {\n        let matchArray;\n        let raw = this._optionsRaw;\n        while ((matchArray = patternOption.exec(raw)) !== null) { // tslint:disable-line\n            // this.options[matchArray[1].toLowerCase()] = matchArray[2].trim()\n            // this.options[matchArray[1]] = matchArray[2].trim()\n            Tools.assignProperty(this.options, matchArray[1], matchArray[2].trim());\n            this._patternOptions = typePattern;\n        }\n    }\n    /**\n     * todo\n     * @memberof sgvizler.Chart\n     */\n    doParseOptionsRaw() {\n        // 3 possibilities\n        // pattern option : separate by optionA=a|optionB=b\n        // pattern style : any options, only style separate by ;\n        // pattern class : words separate by space\n        // noinspection TsLint\n        let patternOption = /\\|? *([^=]*) *= *([^=|]*)/iy; // tslint:disable-line\n        let patternStyle = /([^:]+):([^:;]+) *;?/iy; // tslint:disable-line\n        let patternClass = /([^ |;]+) ?/iy; // tslint:disable-line\n        let patternWiki = /\\!? *([^=]*) *= *([^=!]*)/iy; // tslint:disable-line\n        let patternObject = /([^:{]+):([^:,}]+) *,?/iy; // tslint:disable-line // for PivotTable\n        let raw = this._optionsRaw;\n        if (raw === '') {\n            this._patternOptions = CHART_PATTERN_OPTIONS.EMPTY;\n        }\n        else {\n            this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n        }\n        if (this._optionsRaw.indexOf('{') === 0 && this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            //this.execPattern(patternObject,CHART_PATTERN_OPTIONS.OBJECT) // todo ?\n            this._patternOptions = CHART_PATTERN_OPTIONS.OBJECT;\n        }\n        if (this._optionsRaw.indexOf('|') === -1 && this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternWiki, CHART_PATTERN_OPTIONS.WIKI);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternOption, CHART_PATTERN_OPTIONS.VARIABLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            this.execPattern(patternStyle, CHART_PATTERN_OPTIONS.STYLE);\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            let matchArray;\n            let raw = this._optionsRaw;\n            let i = 0;\n            while ((matchArray = patternClass.exec(raw)) !== null) { // tslint:disable-line\n                this.options['class' + i] = matchArray[2];\n                this._patternOptions = CHART_PATTERN_OPTIONS.UNKNOWN;\n                i++;\n            }\n        }\n        if (this.patternOptions === CHART_PATTERN_OPTIONS.UNKNOWN) {\n            Logger.displayFeedback(this.container, MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN, [this._optionsRaw]);\n        }\n        else if (this.patternOptions === CHART_PATTERN_OPTIONS.WIKI ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.VARIABLE ||\n            this.patternOptions === CHART_PATTERN_OPTIONS.STYLE) {\n            if (this.options['width'] !== undefined) {\n                this.width = this.options['width'];\n            }\n            if (this.options['height'] !== undefined) {\n                this.height = this.options['height'];\n            }\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFHSCxNQUFNLEVBQ04sUUFBUSxFQUVSLGFBQWEsRUFDYixnQkFBZ0IsRUFDaEIsTUFBTSxFQUNOLEtBQUssRUFDUixNQUFNLGFBQWEsQ0FBQTtBQUVwQjs7Ozs7R0FLRztBQUNILE1BQU0sQ0FBTixJQUFZLHFCQVFYO0FBUkQsV0FBWSxxQkFBcUI7SUFDN0IsbUVBQUssQ0FBQTtJQUNMLHVFQUFPLENBQUE7SUFDUCx5RUFBUSxDQUFBO0lBQ1IsbUVBQUssQ0FBQTtJQUNMLG1FQUFLLENBQUE7SUFDTCxpRUFBSSxDQUFBO0lBQ0oscUVBQU0sQ0FBQTtBQUNWLENBQUMsRUFSVyxxQkFBcUIsS0FBckIscUJBQXFCLFFBUWhDO0FBRUQ7Ozs7Ozs7R0FPRztBQUNILE1BQU0sT0FBZ0IsS0FBSztJQXFCdkI7Ozs7O09BS0c7SUFDSDtRQTFCQTs7Ozs7O1dBTUc7UUFDSSxZQUFPLEdBQVEsRUFBRSxDQUFBO1FBR2hCLG9CQUFlLEdBQXNCLEVBQUUsQ0FBQTtRQUV2QyxvQkFBZSxHQUEwQixxQkFBcUIsQ0FBQyxLQUFLLENBQUE7UUFFcEUsV0FBTSxHQUFXLEVBQUUsQ0FBQTtRQUNuQixZQUFPLEdBQVcsRUFBRSxDQUFBO1FBQ3BCLGdCQUFXLEdBQVcsRUFBRSxDQUFBO1FBQ3hCLFdBQU0sR0FBVyxFQUFFLENBQUE7UUFDbkIsV0FBTSxHQUFXLEVBQUUsQ0FBQTtRQVN2QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQTtRQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtRQUVwQixJQUFJLFdBQVcsR0FBRyxJQUFJLENBQUE7UUFDdEIsTUFBTSxDQUFDLEVBQUUsQ0FBQyxRQUFRLEVBQUMsR0FBRyxFQUFFO1lBQ3BCLElBQUksV0FBVyxDQUFDLFNBQVMsSUFBSSxJ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","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/**\n * todo\n * @class sgvizler.MESSAGES\n * @memberof sgvizler\n */\nexport var MESSAGES;\n(function (MESSAGES) {\n    MESSAGES[MESSAGES[\"ERROR_CHART_UNKNOWN\"] = 0] = \"ERROR_CHART_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_CHART_PATTERN_OPTION_UNKNOWN\"] = 1] = \"ERROR_CHART_PATTERN_OPTION_UNKNOWN\";\n    MESSAGES[MESSAGES[\"ERROR_REQUEST\"] = 2] = \"ERROR_REQUEST\";\n    MESSAGES[MESSAGES[\"ERROR_CHART\"] = 3] = \"ERROR_CHART\";\n    MESSAGES[MESSAGES[\"ERROR_DEPENDENCIES\"] = 4] = \"ERROR_DEPENDENCIES\";\n    MESSAGES[MESSAGES[\"ERROR_ENDPOINT_FORGOT\"] = 5] = \"ERROR_ENDPOINT_FORGOT\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_EMPTY\"] = 6] = \"ERROR_DATA_EMPTY\";\n    MESSAGES[MESSAGES[\"ERROR_DATA_NOROW\"] = 7] = \"ERROR_DATA_NOROW\";\n})(MESSAGES || (MESSAGES = {}));\n/**\n *\n * @class sgvizler.Messages\n * @memberof sgvizler\n */\nexport class Messages {\n    static get(id, args) {\n        let message = '';\n        switch (id) {\n            case MESSAGES.ERROR_CHART_UNKNOWN:\n                message = 'The chart $0 does not exist.';\n                break;\n            case MESSAGES.ERROR_CHART_PATTERN_OPTION_UNKNOWN:\n                message = \"The pattern of chart options is unknown : '$0'\" +\n                    \"Use 'variable1=value1|variable1=value1' or for style 'width:100%;font:red;' or 'class1 class2'\";\n                break;\n            case MESSAGES.ERROR_REQUEST:\n                message = 'Sorry, the sparql server sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_CHART:\n                message = 'Sorry, the chart sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_DEPENDENCIES:\n                message = 'The chart dependencies sent an error. </br> $0';\n                break;\n            case MESSAGES.ERROR_ENDPOINT_FORGOT:\n                message = 'The endpoint of Sparql service is forgotten (data-sgvizler-endpoint).';\n                break;\n            case MESSAGES.ERROR_DATA_EMPTY:\n                message = 'The resquest sent null.';\n                break;\n            case MESSAGES.ERROR_DATA_NOROW:\n                message = 'The resquest sent no row.';\n                break;\n        }\n        if (args) {\n            for (let i = 0, len = args.length; i < len; i++) { // tslint:disable-line\n                message = message.replace('$' + i, args[i]);\n            }\n        }\n        return message;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvTWVzc2FnZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLFFBU1g7QUFURCxXQUFZLFFBQVE7SUFDaEIscUVBQW1CLENBQUE7SUFDbkIsbUdBQWtDLENBQUE7SUFDbEMseURBQWEsQ0FBQTtJQUNiLHFEQUFXLENBQUE7SUFDWCxtRUFBa0IsQ0FBQTtJQUNsQix5RUFBcUIsQ0FBQTtJQUNyQiwrREFBZ0IsQ0FBQTtJQUNoQiwrREFBZ0IsQ0FBQTtBQUNwQixDQUFDLEVBVFcsUUFBUSxLQUFSLFFBQVEsUUFTbkI7QUFFRDs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLFFBQVE7SUFDVixNQUFNLENBQUMsR0FBRyxDQUFFLEVBQVksRUFBQyxJQUFvQjtRQUNoRCxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUE7UUFDaEIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLFFBQVEsQ0FBQyxtQkFBbUI7Z0JBQzdCLE9BQU8sR0FBRyw4QkFBOEIsQ0FBQTtnQkFDeEMsTUFBSztZQUNULEtBQUssUUFBUSxDQUFDLGtDQUFrQztnQkFDNUMsT0FBTyxHQUFHLGdEQUFnRDtvQkFDdEQsZ0dBQWdHLENBQUE7Z0JBQ3BHLE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxhQUFhO2dCQUN2QixPQUFPLEdBQUcsa0RBQWtELENBQUE7Z0JBQzVELE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxXQUFXO2dCQUNyQixPQUFPLEdBQUcsMENBQTBDLENBQUE7Z0JBQ3BELE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxrQkFBa0I7Z0JBQzVCLE9BQU8sR0FBRyxnREFBZ0QsQ0FBQTtnQkFDMUQsTUFBSztZQUNULEtBQUssUUFBUSxDQUFDLHFCQUFxQjtnQkFDL0IsT0FBTyxHQUFHLHVFQUF1RSxDQUFBO2dCQUNqRixNQUFLO1lBQ1QsS0FBSyxRQUFRLENBQUMsZ0JBQWdCO2dCQUMxQixPQUFPLEdBQUcseUJBQXlCLENBQUE7Z0JBQ25DLE1BQUs7WUFDVCxLQUFLLFFBQVEsQ0FBQyxnQkFBZ0I7Z0JBQzFCLE9BQU8sR0FBRywyQkFBMkIsQ0FBQTtnQkFDckMsTUFBSztTQUNaO1FBRUQsSUFBSSxJQUFJLEVBQUU7WUFDTixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUUsc0JBQXNCO2dCQUNyRSxPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO2FBQzlDO1NBQ0o7UUFFRCxPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0NBQ0oifQ==","/**\n *\n * @class sgvizler.SPARQL_RESULT\n * @memberof sgvizler\n */\nexport var SPARQL_RESULT;\n(function (SPARQL_RESULT) {\n    SPARQL_RESULT[SPARQL_RESULT[\"xml\"] = 0] = \"xml\";\n    SPARQL_RESULT[SPARQL_RESULT[\"json\"] = 1] = \"json\";\n    SPARQL_RESULT[SPARQL_RESULT[\"jsonp\"] = 2] = \"jsonp\";\n})(SPARQL_RESULT || (SPARQL_RESULT = {}));\n/**\n *\n * @class sgvizler.SparqlTools\n * @memberof gvizler\n */\nexport class SparqlTools {\n    static getOutputLabel(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'xml';\n                break;\n            case SPARQL_RESULT.json:\n                str = 'json';\n                break;\n            case SPARQL_RESULT.jsonp:\n                str = 'jsonp';\n                break;\n        }\n        return str;\n    }\n    static getXMLHttpRequestResponseType(id) {\n        let type = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                type = ''; // \tDOMString (this is the default value for xhr)\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                type = 'json';\n                break;\n        }\n        return type;\n    }\n    static getHeaderAccept(id) {\n        let str = '';\n        switch (id) {\n            case SPARQL_RESULT.xml:\n                str = 'application/sparql-results+xml';\n                break;\n            case SPARQL_RESULT.json:\n            case SPARQL_RESULT.jsonp:\n                str = 'application/sparql-results+json';\n                break;\n        }\n        return str;\n    }\n    static convertString(label) {\n        let result = SPARQL_RESULT.json;\n        switch (label) {\n            case 'xml':\n                result = SPARQL_RESULT.xml;\n                break;\n            case 'json':\n                result = SPARQL_RESULT.json;\n                break;\n            case 'jsonp':\n                result = SPARQL_RESULT.jsonp;\n                break;\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sQ0FBTixJQUFZLGFBSVg7QUFKRCxXQUFZLGFBQWE7SUFDckIsK0NBQUcsQ0FBQTtJQUNILGlEQUFJLENBQUE7SUFDSixtREFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUpXLGFBQWEsS0FBYixhQUFhLFFBSXhCO0FBRUQ7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxXQUFXO0lBRWIsTUFBTSxDQUFDLGNBQWMsQ0FBRSxFQUFpQjtRQUMzQyxJQUFJLEdBQUcsR0FBVyxFQUFFLENBQUE7UUFDcEIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLGFBQWEsQ0FBQyxHQUFHO2dCQUNsQixHQUFHLEdBQUcsS0FBSyxDQUFBO2dCQUNYLE1BQUs7WUFDVCxLQUFLLGFBQWEsQ0FBQyxJQUFJO2dCQUNuQixHQUFHLEdBQUcsTUFBTSxDQUFBO2dCQUNaLE1BQUs7WUFDVCxLQUFLLGFBQWEsQ0FBQyxLQUFLO2dCQUNwQixHQUFHLEdBQUcsT0FBTyxDQUFBO2dCQUNiLE1BQUs7U0FDWjtRQUNELE9BQU8sR0FBRyxDQUFBO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBRSxFQUFpQjtRQUMxRCxJQUFJLElBQUksR0FBVyxFQUFFLENBQUE7UUFDckIsUUFBUSxFQUFFLEVBQUU7WUFDUixLQUFLLGFBQWEsQ0FBQyxHQUFHO2dCQUNsQixJQUFJLEdBQUcsRUFBRSxDQUFBLENBQUMsaURBQWlEO2dCQUMzRCxNQUFLO1lBQ1QsS0FBSyxhQUFhLENBQUMsSUFBSSxDQUFFO1lBQ3pCLEtBQUssYUFBYSxDQUFDLEtBQUs7Z0JBQ3BCLElBQUksR0FBRyxNQUFNLENBQUE7Z0JBQ2IsTUFBSztTQUNaO1FBQ0QsT0FBTyxJQUFrQyxDQUFBO0lBQzdDLENBQUM7SUFFTSxNQUFNLENBQUMsZUFBZSxDQUFFLEVBQWlCO1FBQzVDLElBQUksR0FBRyxHQUFXLEVBQUUsQ0FBQTtRQUNwQixRQUFRLEVBQUUsRUFBRTtZQUNSLEtBQUssYUFBYSxDQUFDLEdBQUc7Z0JBQ2xCLEdBQUcsR0FBRyxnQ0FBZ0MsQ0FBQTtnQkFDdEMsTUFBSztZQUNULEtBQUssYUFBYSxDQUFDLElBQUksQ0FBRTtZQUN6QixLQUFLLGFBQWEsQ0FBQyxLQUFLO2dCQUNwQixHQUFHLEdBQUcsaUNBQWlDLENBQUE7Z0JBQ3ZDLE1BQUs7U0FDWjtRQUNELE9BQU8sR0FBRyxDQUFBO0lBQ2QsQ0FBQztJQUVNLE1BQU0sQ0FBQyxhQUFhLENBQUUsS0FBYTtRQUN0QyxJQUFJLE1BQU0sR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQTtRQUM5QyxRQUFRLEtBQUssRUFBRTtZQUNYLEtBQUssS0FBSztnQkFDTixNQUFNLEdBQUcsYUFBYSxDQUFDLEdBQUcsQ0FBQTtnQkFDMUIsTUFBSztZQUNULEtBQUssTUFBTTtnQkFDUCxNQUFNLEdBQUcsYUFBYSxDQUFDLElBQUksQ0FBQTtnQkFDM0IsTUFBSztZQUNULEtBQUssT0FBTztnQkFDUixNQUFNLEdBQUcsYUFBYSxDQUFDLEtBQUssQ0FBQTtnQkFDNUIsTUFBSztTQUNaO1FBQ0QsT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztDQUNKIn0=","import { __awaiter } from \"tslib\";\nimport { Request, Tools, Logger, MESSAGES, SparqlTools, LoadingIcon } from '../sgvizler';\n/**\n *\n * @class sgvizler.\n * @memberof sgvizler\n */\nexport var CONTAINER_STATE;\n(function (CONTAINER_STATE) {\n    CONTAINER_STATE[CONTAINER_STATE[\"FAILED\"] = 0] = \"FAILED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADED\"] = 1] = \"LOADED\";\n    CONTAINER_STATE[CONTAINER_STATE[\"LOADING\"] = 2] = \"LOADING\";\n})(CONTAINER_STATE || (CONTAINER_STATE = {}));\n/**\n * Draws charts specified in HTML containers, here we call them\n * \"sgvizler-containers\".\n *\n * Example of use: The following sgvizler-container will be\n * selected by sgvizler due to the use of designated\n * attributes. The result is a pie chart (draw with\n * `google.visualization.PieChart`) showing the number of instance\n * per class in the endpoint at\n * `http://sws.ifi.uio.no/sparql/ndp`.\n *\n *     <div id=\"ex1\"\n *          data-sgvizler-endpoint=\"http://sws.ifi.uio.no/sparql/npd\"\n *          data-sgvizler-query=\"SELECT ?class (count(?instance) AS ?noOfInstances)\n *                               WHERE{ ?instance a ?class }\n *                               GROUP BY ?class\n *                               ORDER BY ?class\"\n *          data-sgvizler-chart=\"google.visualization.PieChart\"\n *          style=\"width:800px; height:400px;\"></div>\n *\n * These container must have an id attribute (or else sgvizler\n * will not know where to put the chart) and a query attribute (or\n * else the container will be ignored by sgvizler).\n *\n * Dependencies:\n *\n *  - sgvizler.util\n *  - sgvizler.loader\n *  - sgvizler.logger\n *  - sgvizler.Query\n *  - jQuery\n * @class sgvizler.Container\n * @memberof sgvizler\n */\nexport class Container {\n    /**\n     * Collects values designated for sgvizler in the given.\n     * See also property PREFIX.\n     * @param {string} elementID The ID for which the attributes should be collected.\n     */\n    constructor(elementID) {\n        this._lang = 'en';\n        this._chartOptions = '';\n        this._chartName = '';\n        this._loglevel = 0;\n        this._id = '';\n        // step 1 : read parameters and create the object Query\n        // pre-condition\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        this._state = CONTAINER_STATE.LOADING;\n        let elmAttrs = element.attributes;\n        // read basic parameters\n        if (elmAttrs[self.LANG]) {\n            this._lang = elmAttrs[self.LANG].value;\n        }\n        if (elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME]) {\n            this._loglevel = parseInt(elmAttrs[self.LOG_LEVEL_ATTRIBUTE_NAME].value, 10);\n        }\n        if (elmAttrs[self.CHART_ATTRIBUTE_NAME]) {\n            this._chartName = elmAttrs[self.CHART_ATTRIBUTE_NAME].value;\n            // This code will disappear but it's necessary for the migration with the old Sgvizler\n            switch (this._chartName) {\n                case 'google.visualization.AnnotatedTimeLine':\n                case 'google.visualization.Gauge':\n                case 'google.visualization.ImageSparkLine':\n                case 'google.visualization.MotionChart':\n                case 'sgvizler.visualization.D3ForceGraph':\n                case 'sgvizler.visualization.DefList\"':\n                case 'sgvizler.visualization.DraculaGraph':\n                case 'sgvizler.visualization.List':\n                case 'sgvizler.visualization.Text':\n                case 'sgvizler.visualization.MapWKT':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is deprecated. Please choose another chart.');\n                        this._chartName = 'bordercloud.visualization.DataTable';\n                        break;\n                    }\n                case 'sgvizler.visualization.Map':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose leaflet.visualization.Map or another chart.');\n                        this._chartName = 'leaflet.visualization.Map';\n                        break;\n                    }\n                case 'google.visualization.GeoMap':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose google.visualization.Map or another chart.');\n                        this._chartName = 'google.visualization.Map';\n                        break;\n                    }\n                case 'google.visualization.PieChart':\n                    {\n                        console.warn('Sgvizler2 : ' + this._chartName + ' is obsolete. Please choose google.visualization.Pie or another chart.');\n                        this._chartName = 'google.visualization.Pie';\n                        break;\n                    }\n            }\n        }\n        if (elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME]) {\n            this._chartOptions =\n                Tools.decodeHtml(elmAttrs[self.CHART_OPTION_ATTRIBUTE_NAME].value);\n        }\n        // build request object\n        let request = new Request();\n        request.container = this;\n        this._id = elementID;\n        if (elmAttrs[self.QUERY_ATTRIBUTE_NAME]) {\n            request.query = Tools.decodeHtml(elmAttrs[self.QUERY_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME]) {\n            request.endpoint = Tools.decodeHtml(elmAttrs[self.ENDPOINT_ATTRIBUTE_NAME].value);\n        }\n        else {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_ENDPOINT_FORGOT);\n            return;\n        }\n        if (elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME]) {\n            request.endpointOutputFormat = SparqlTools.convertString(elmAttrs[self.OUTPUT_FORMAT_ATTRIBUTE_NAME].value);\n        }\n        if (elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME]) {\n            request.method = elmAttrs[self.OUTPUT_METHOD_ATTRIBUTE_NAME].value;\n        }\n        if (elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME]) {\n            request.queryParameter = elmAttrs[self.QUERY_PARAMETER_ATTRIBUTE_NAME].value;\n        }\n        this._request = request;\n        // build the chart object\n        let chart = Tools.getObjectByPath(this.chartName);\n        if (chart === undefined) {\n            this._state = CONTAINER_STATE.FAILED;\n            Logger.displayFeedback(this, MESSAGES.ERROR_CHART_UNKNOWN, [this.chartName]);\n        }\n        else {\n            chart.container = this;\n            // read with and height of container before chart options\n            try {\n                let element = $('#' + elementID);\n                let widthCss = element.css('width');\n                let heightCss = element.css('height');\n                if (widthCss !== null) {\n                    chart.width = widthCss;\n                }\n                if (heightCss !== null && heightCss !== '0px') {\n                    chart.height = heightCss;\n                }\n            }\n            catch (e) {\n                // do nothing, unit test not support jquery\n            }\n            // read options (and replace may be with and height)\n            chart.optionsRaw = this._chartOptions;\n            this._chart = chart;\n        }\n        this.saveRefOfContainer();\n    }\n    /**\n     * Save the reference of container\n     */\n    saveRefOfContainer() {\n        let index = -1;\n        let len = Container.list.length;\n        for (let i = 0; i < len; i++) {\n            let dep = Container.list[i];\n            if (this.id === Container.list[i].id) {\n                //this._dependenciesToLoad.splice(i)\n                index = i;\n            }\n        }\n        if (index != -1) {\n            Container.list[index] = this;\n        }\n        else {\n            Container.list.push(this);\n        }\n    }\n    /**\n     * Draws the sgvizler-containers with the given element id.\n     * @method containerDraw\n     * @param {string} elementID\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            container._loadingIcon = new LoadingIcon(container);\n            container.loadingIcon.show();\n            Logger.log(container, 'drawing id: ' + elementID);\n            yield container.draw();\n        });\n    }\n    // noinspection JSValidateJSDoc\n    /**\n     * Draws all sgvizler-containers on page.\n     * @returns {Promise<any>}\n     */\n    static drawAll() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.drawWithElementId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    static loadDependenciesId(elementID, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let container = new Container(elementID);\n            // console.log(container)\n            Logger.log(container, 'Load dependencies id: ' + elementID);\n            yield container.loadDependencies();\n        });\n    }\n    static loadAllDependencies() {\n        let promisesArray = [];\n        let ids = [];\n        let iterator = document.evaluate('//div[@' + Container.PREFIX + 'query]/@id', document, null, XPathResult.ANY_TYPE, null);\n        let thisNode = iterator.iterateNext();\n        while (thisNode) {\n            ids.push(thisNode.value);\n            thisNode = iterator.iterateNext();\n        }\n        for (let id of ids) {\n            promisesArray.push(Container.loadDependenciesId(id));\n        }\n        return Promise.all(promisesArray);\n    }\n    /**\n     *\n     * @param {string} elementID\n     * @param {string} endpoint\n     * @param {string} query\n     * @param {string} chartName\n     * @param {string} options\n     * @param {string} loglevel\n     * @returns {string}\n     */\n    static create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter, lang) {\n        let element = document.getElementById(elementID);\n        if (element === null) {\n            throw new Error('elementID unknown : ' + elementID);\n        }\n        let self = Container;\n        let attrQuery = document.createAttribute(self.QUERY_ATTRIBUTE_NAME);\n        let attrEndpoint = document.createAttribute(self.ENDPOINT_ATTRIBUTE_NAME);\n        let attrChart = document.createAttribute(self.CHART_ATTRIBUTE_NAME);\n        // attrQuery.value = Tools.escapeHtml(query)\n        attrQuery.value = query;\n        attrEndpoint.value = endpoint;\n        attrChart.value = chartName;\n        element.setAttributeNode(attrQuery);\n        element.setAttributeNode(attrEndpoint);\n        element.setAttributeNode(attrChart);\n        if (options) {\n            let attrOptions = document.createAttribute(self.CHART_OPTION_ATTRIBUTE_NAME);\n            attrOptions.value = options;\n            element.setAttributeNode(attrOptions);\n        }\n        if (loglevel) {\n            let attrLevel = document.createAttribute(self.LOG_LEVEL_ATTRIBUTE_NAME);\n            attrLevel.value = loglevel;\n            element.setAttributeNode(attrLevel);\n        }\n        if (output) {\n            let attrOutput = document.createAttribute(self.OUTPUT_FORMAT_ATTRIBUTE_NAME);\n            attrOutput.value = output;\n            element.setAttributeNode(attrOutput);\n        }\n        if (method) {\n            let attrMethod = document.createAttribute(self.OUTPUT_METHOD_ATTRIBUTE_NAME);\n            attrMethod.value = method;\n            element.setAttributeNode(attrMethod);\n        }\n        if (parameter) {\n            let attrQueryAttribut = document.createAttribute(self.QUERY_PARAMETER_ATTRIBUTE_NAME);\n            attrQueryAttribut.value = parameter;\n            element.setAttributeNode(attrQueryAttribut);\n        }\n        if (lang) {\n            let attrQueryAttribut = document.createAttribute(self.LANG);\n            attrQueryAttribut.value = lang;\n            element.setAttributeNode(attrQueryAttribut);\n        }\n        return element.innerHTML;\n    }\n    /**\n     *\n     * @returns {string}\n     */\n    get id() {\n        return this._id;\n    }\n    /**\n     *\n     * @returns {string}\n     */\n    get lang() {\n        return this._lang;\n    }\n    /**\n     * Get the name of chart object.\n     * @returns {string}\n     */\n    get chartName() {\n        return this._chartName;\n    }\n    /**\n     * Get the loading icon of container.\n     * @returns {string}\n     */\n    get loadingIcon() {\n        return this._loadingIcon;\n    }\n    ///////////////////////////////////// OPTIONS\n    /**\n     *\n     * @returns {string}\n     */\n    get chartOptions() {\n        return this._chartOptions;\n    }\n    /**\n     *\n     * @returns {Chart}\n     */\n    get chart() {\n        return this._chart;\n    }\n    /**\n     *\n     * @returns {Request}\n     */\n    get request() {\n        return this._request;\n    }\n    /**\n     *\n     * @returns {number}\n     */\n    get loglevel() {\n        return this._loglevel;\n    }\n    /**\n     *\n     * @returns {Promise<void>}\n     */\n    draw() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sparqlResult;\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            try {\n                sparqlResult = yield this.request.sendRequest();\n                // console.log(queryResult)\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_REQUEST, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            if (this._state === CONTAINER_STATE.FAILED) {\n                return;\n            }\n            let sparqlResultI = sparqlResult;\n            if (sparqlResultI.head === undefined) {\n                console.log(sparqlResultI);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, ['ERROR_head_undefined']);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n            try {\n                this._chart.loadDependenciesAndDraw(sparqlResultI);\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_CHART, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n    loadDependencies() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                yield this._chart.loadDependencies();\n            }\n            catch (error) {\n                console.log(error);\n                Logger.displayFeedback(this, MESSAGES.ERROR_DEPENDENCIES, [error]);\n                this._state = CONTAINER_STATE.FAILED;\n            }\n        });\n    }\n}\nContainer.list = [];\nContainer.LANG = 'lang';\nContainer.PREFIX = 'data-sgvizler-';\nContainer.QUERY_ATTRIBUTE_NAME = Container.PREFIX + 'query';\nContainer.ENDPOINT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint';\nContainer.OUTPUT_FORMAT_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-output-format';\nContainer.QUERY_PARAMETER_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-query-parameter';\nContainer.OUTPUT_METHOD_ATTRIBUTE_NAME = Container.PREFIX + 'endpoint-method';\nContainer.CHART_ATTRIBUTE_NAME = Container.PREFIX + 'chart';\nContainer.CHART_OPTION_ATTRIBUTE_NAME = Container.PREFIX + 'chart-options';\nContainer.LOG_LEVEL_ATTRIBUTE_NAME = Container.PREFIX + 'log';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29udGFpbmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0NvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVILE9BQU8sRUFDUCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixXQUFXLEVBRVgsV0FBVyxFQUNkLE1BQU0sYUFBYSxDQUFBO0FBSXBCOzs7O0dBSUc7QUFDSCxNQUFNLENBQU4sSUFBWSxlQUlYO0FBSkQsV0FBWSxlQUFlO0lBQ3ZCLHlEQUFNLENBQUE7SUFDTix5REFBTSxDQUFBO0lBQ04sMkRBQU8sQ0FBQTtBQUNYLENBQUMsRUFKVyxlQUFlLEtBQWYsZUFBZSxRQUkxQjtBQUVEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7R0FpQ0c7QUFDSCxNQUFNLE9BQU8sU0FBUztJQXlCbEI7Ozs7T0FJRztJQUNILFlBQWEsU0FBaUI7UUFmdEIsVUFBSyxHQUFXLElBQUksQ0FBQTtRQUVwQixrQkFBYSxHQUFXLEVBQUUsQ0FBQTtRQUMxQixlQUFVLEdBQVcsRUFBRSxDQUFBO1FBQ3ZCLGNBQVMsR0FBVyxDQUFDLENBQUE7UUFDckIsUUFBRyxHQUFXLEVBQUUsQ0FBQTtRQVdwQix1REFBdUQ7UUFDdkQsZ0JBQWdCO1FBQ2hCLElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDaEQsSUFBSSxPQUFPLEtBQUssSUFBSSxFQUFFO1lBQ2xCLE1BQU0sSUFBSSxLQUFLLENBQUMsc0JBQXNCLEdBQUcsU0FBUyxDQUFDLENBQUE7U0FDdEQ7UUFFRCxJQUFJLElBQUksR0FBRyxTQUFTLENBQUE7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFBO1FBRXJDLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxVQUFVLENBQUE7UUFFakMsd0JBQXdCO1FBQ3hCLElBQUksUUFBUSxDQUFD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","import { Chart } from '../Chart';\n/**\n * Todo Table\n * @class sgvizler.visualization.Table\n * @tutorial sgvizler_visualization_Table\n * @memberof sgvizler.visualization\n */\nexport class Table extends Chart {\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'simple table';\n    }\n    get classFullName() {\n        return 'sgvizler.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-sgvizler_visualization_Table.html';\n    }\n    constructor() {\n        super();\n        //  addDependence(SparqlResult)\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let opt = Object.assign({ headings: 'true' }, currentChart.options);\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            // console.log(opt)\n            let html = '<table ' + currentChart.getHTMLStyleOrClass() + ' >';\n            if (opt.headings === 'true') {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<th>' + col + '</th>';\n                }\n                html += '</tr>';\n            }\n            for (let row of rows) {\n                html += '<tr>';\n                for (let col of cols) {\n                    html += '<td>' + row[col].value + '</td>';\n                }\n                html += '</tr>';\n            }\n            html += '</table>';\n            let obj = document.getElementById(currentChart.container.id);\n            if (obj) {\n                obj.innerHTML = html;\n            }\n            // finish\n            resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvc2d2aXpsZXIvdmlzdWFsaXphdGlvbi9UYWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBSWhDOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEtBQU0sU0FBUSxLQUFLO0lBRTVCLElBQVcsSUFBSTtRQUNYLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLDhCQUE4QixDQUFBO0lBQ3pDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDRDQUE0QyxDQUFBO0lBQ3ZELENBQUM7SUFFRDtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1QsK0JBQStCO0lBQ2pDLENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUN2QyxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsUUFBUSxFQUFFLE1BQU0sRUFBRSxFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUVuRSxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFFeEIsbUJBQW1CO1lBQ25CLElBQUksSUFBSSxHQUFHLFNBQVMsR0FBRyxZQUFZLENBQUMsbUJBQW1CLEVBQUUsR0FBRyxJQUFJLENBQUE7WUFDaEUsSUFBSSxHQUFHLENBQUMsUUFBUSxLQUFLLE1BQU0sRUFBRTtnQkFDekIsSUFBSSxJQUFJLE1BQU0sQ0FBQTtnQkFDZCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtvQkFDbEIsSUFBSSxJQUFJLE1BQU0sR0FBRyxHQUFHLEdBQUcsT0FBTyxDQUFBO2lCQUNqQztnQkFDRCxJQUFJLElBQUksT0FBTyxDQUFBO2FBQ2xCO1lBRUQsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7Z0JBQ2xCLElBQUksSUFBSSxNQUFNLENBQUE7Z0JBQ2QsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7b0JBQ2xCLElBQUksSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUE7aUJBQzVDO2dCQUNELElBQUksSUFBSSxPQUFPLENBQUE7YUFDbEI7WUFFRCxJQUFJLElBQUksVUFBVSxDQUFBO1lBRWxCLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUM1RCxJQUFJLEdBQUcsRUFBRTtnQkFDTCxHQUFHLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQTthQUN2QjtZQUNELFNBQVM7WUFDVCxPQUFPLEVBQUUsQ0FBQTtRQUNiLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUNKIn0=","import { Logger, ScriptDependency, CssDependency } from '../sgvizler';\n/**\n * Todo\n *\n * @class sgvizler.visualization.Loader\n * @memberof sgvizler.visualization\n */\nexport class Loader {\n    static on(event, fn) {\n        if (event === 'loaded') {\n            Loader._listCallEvent.push(fn);\n        }\n    }\n    static detectRoot() {\n        let resultXpath = document.evaluate('//script[contains(@src,\"sgvizler2.js\")]/@src', document, null, XPathResult.STRING_TYPE, null);\n        let srcScript = resultXpath.stringValue;\n        let match = /^(.*)sgvizler2\\.js$/.exec(srcScript);\n        if (match) {\n            Loader._pathScripts = match[1];\n        }\n    }\n    static isLoad(dep) {\n        return Loader._load.indexOf(dep.url) !== -1;\n    }\n    static isLoaded(dep) {\n        return Loader._loaded.indexOf(dep.url) !== -1;\n    }\n    static load(dep) {\n        if (dep instanceof ScriptDependency) {\n            Loader.loadScript(dep);\n        }\n        else if (dep instanceof CssDependency) {\n            Loader.loadCss(dep);\n        }\n    }\n    static fireEvent(event) {\n        for (let call of Loader._listCallEvent) {\n            call(event);\n        }\n    }\n    static checkDependenciesToLoad() {\n        //filter doublons\n        Loader._dependenciesToLoad = Loader._dependenciesToLoad.filter((v, i, a) => a.indexOf(v) === i);\n        let len = Loader._dependenciesToLoad.length;\n        for (let i = 0; i < len; i++) {\n            let dep = Loader._dependenciesToLoad[i];\n            if (dep === undefined || Loader.isLoaded(dep)) {\n                //this._dependenciesToLoad.splice(i)\n                delete this._dependenciesToLoad[i];\n            }\n        }\n        Loader._dependenciesToLoad.forEach((dep) => {\n            if (dep instanceof ScriptDependency) {\n                Loader.loadScript(dep);\n            }\n            else if (dep instanceof ScriptDependency) {\n                Loader.loadCss(dep);\n            }\n        });\n    }\n    static getAbsoluteURL(url) {\n        if (url.match(/^(\\/\\/|https?)/)) {\n            return url;\n        }\n        else {\n            return Loader._pathScripts + url;\n        }\n    }\n    static loadScript(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                //Logger.logSimple('Waiting : ' + dep.loadBefore.url + ' before ' + dep.url)\n                Loader._dependenciesToLoad.push(dep);\n                Loader.load(dep.loadBefore);\n                return resolve();\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return resolve(); // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            Logger.logSimple('Loading : ' + dep.url);\n            // Adding the script tag to the head as suggested before\n            let head = document.getElementsByTagName('head')[0];\n            let script = document.createElement('script');\n            script.type = 'text/javascript';\n            script.src = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            script.onload = function () {\n                Loader._loaded.push(url); // in first\n                dep.callBack();\n                // remember included script\n                Loader.fireEvent('loaded');\n                Loader.checkDependenciesToLoad();\n            };\n            // Fire the loading\n            head.appendChild(script);\n        });\n    }\n    static loadCss(dep) {\n        let url = dep.url;\n        return new Promise(function (resolve, reject) {\n            if (dep.loadBefore && !dep.loadBefore.endDownload) {\n                Loader._dependenciesToLoad.push(dep);\n                Loader.load(dep.loadBefore);\n                return resolve();\n            }\n            // include script only once\n            if (Loader.isLoad(dep)) {\n                return resolve(); // false;\n            }\n            else {\n                Loader._load.push(url);\n            }\n            // <link rel=\"stylesheet\" type=\"text/css\" href=\"../dist/datatables.min.css\"/>\n            let head = document.getElementsByTagName('head')[0];\n            let link = document.createElement('link');\n            link.rel = 'stylesheet';\n            link.href = Loader.getAbsoluteURL(url);\n            // Then bind the event to the callback function.\n            // There are several events for cross browser compatibility.\n            link.onload = function () {\n                Loader._loaded.push(url);\n                Logger.logSimple('Loaded : ' + url);\n                dep.callBack();\n                // remember included script\n                Loader.fireEvent('loaded');\n                Loader.checkDependenciesToLoad();\n            };\n            // Fire the loading\n            head.appendChild(link);\n        });\n    }\n}\nLoader._load = [];\nLoader._loaded = [];\nLoader._dependenciesToLoad = [];\nLoader._pathScripts = '';\nLoader._listCallEvent = [];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsTUFBTSxFQUNOLGdCQUFnQixFQUNoQixhQUFhLEVBRWhCLE1BQU0sYUFBYSxDQUFBO0FBRXBCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLE1BQU07SUFPUixNQUFNLENBQUMsRUFBRSxDQUFFLEtBQWEsRUFBQyxFQUFPO1FBQ25DLElBQUksS0FBSyxLQUFLLFFBQVEsRUFBRTtZQUNwQixNQUFNLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQTtTQUNqQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsVUFBVTtRQUNwQixJQUFJLFdBQVcsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDhDQUE4QyxFQUM5RSxRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDbEQsSUFBSSxTQUFTLEdBQUcsV0FBVyxDQUFDLFdBQVcsQ0FBQTtRQUV2QyxJQUFJLEtBQUssR0FBRyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDakQsSUFBSSxLQUFLLEVBQUU7WUFDUCxNQUFNLENBQUMsWUFBWSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNqQztJQUNMLENBQUM7SUFFTSxNQUFNLENBQUMsTUFBTSxDQUFFLEdBQWU7UUFDakMsT0FBTyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7SUFDL0MsQ0FBQztJQUVNLE1BQU0sQ0FBQyxRQUFRLENBQUUsR0FBZTtRQUNuQyxPQUFPLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FB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","import { Loader, Logger } from '../sgvizler';\nexport class Dependency {\n    constructor(url, loadBefore) {\n        this.url = url;\n        this.loadBefore = loadBefore ? loadBefore : null;\n        this.endDownload = false;\n        this.startDownload = false;\n    }\n    load() {\n        if (!this.isLoaded()) {\n            this.startDownload = true;\n            Logger.logSimple('Load started :' + this.url);\n            Loader.load(this);\n        }\n    }\n    isLoaded() {\n        if (Loader.isLoaded(this)) {\n            this.startDownload = true;\n            this.endDownload = true;\n        }\n        return this.endDownload;\n    }\n    callBack() {\n        this.endDownload = true;\n        Logger.logSimple('Load ended :' + this.url);\n    }\n}\nexport class ScriptDependency extends Dependency {\n}\nexport class CssDependency extends Dependency {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVwZW5kZW5jeS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9EZXBlbmRlbmN5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxNQUFNLEVBQ04sTUFBTSxFQUNULE1BQU0sYUFBYSxDQUFBO0FBRXBCLE1BQU0sT0FBZ0IsVUFBVTtJQU01QixZQUFhLEdBQVcsRUFBQyxVQUF1QjtRQUM1QyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQTtRQUNkLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQTtRQUNoRCxJQUFJLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQTtRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEtBQUssQ0FBQTtJQUM5QixDQUFDO0lBRU0sSUFBSTtRQUNQLElBQUksQ0FBRSxJQUFJLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDbkIsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUE7WUFDekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUNwQjtJQUNMLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFBO1lBQ3pCLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFBO1NBQzFCO1FBQ0QsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFBO0lBQzNCLENBQUM7SUFFTSxRQUFRO1FBQ1gsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUE7UUFDdkIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQy9DLENBQUM7Q0FDSjtBQUVELE1BQU0sT0FBTyxnQkFBaUIsU0FBUSxVQUFVO0NBQUc7QUFFbkQsTUFBTSxPQUFPLGFBQWMsU0FBUSxVQUFVO0NBQUcifQ==","/**\n * todo\n * @class sgvizler.SparqlError\n * @memberof sgvizler\n */\nexport class SparqlError {\n    static getErrorMessageWithStatus200(xhr) {\n        let patternWikidata = /MalformedQueryException: *(.*)/m; // tslint:disable-line\n        let errorWikidata = patternWikidata.exec(xhr.response);\n        if (errorWikidata !== null) {\n            return errorWikidata[1];\n        }\n        return xhr.response;\n    }\n    static getErrorWithOtherStatus(xhr, url) {\n        let linkError = '<a href=\"' + url + '\" target=\"_blank\">See this error</a>';\n        let message = '';\n        if (xhr.status === 0) {\n            if (xhr.statusText !== '') {\n                message = xhr.statusText + '(' + xhr.status + ')';\n            }\n            else {\n                message = 'You need to allow running insecure content in your navigator or this SPARQL service doesn\\'t exist or timed out or CORS violation or no Access-Control-Allow-Origin header set. (see console log)';\n            }\n        }\n        else {\n            message = xhr.statusText + '(' + xhr.status + ')';\n        }\n        return message + '<br/>\\n' + linkError;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3BhcnFsRXJyb3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvU3BhcnFsRXJyb3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxXQUFXO0lBRWIsTUFBTSxDQUFDLDRCQUE0QixDQUFFLEdBQW1CO1FBQzNELElBQUksZUFBZSxHQUFHLGlDQUFpQyxDQUFBLENBQUMsc0JBQXNCO1FBRTlFLElBQUksYUFBYSxHQUFHLGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFBO1FBQ3RELElBQUksYUFBYSxLQUFLLElBQUksRUFBRTtZQUN4QixPQUFPLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUMxQjtRQUVELE9BQU8sR0FBRyxDQUFDLFFBQVEsQ0FBQTtJQUN2QixDQUFDO0lBQ00sTUFBTSxDQUFDLHVCQUF1QixDQUFFLEdBQW1CLEVBQUMsR0FBVztRQUNsRSxJQUFJLFNBQVMsR0FBRyxXQUFXLEdBQUcsR0FBRyxHQUFHLHNDQUFzQyxDQUFBO1FBQzFFLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQTtRQUNoQixJQUFJLEdBQUcsQ0FBQyxNQUFNLEtBQUssQ0FBQyxFQUFFO1lBQ2xCLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxFQUFFLEVBQUU7Z0JBQ3ZCLE9BQU8sR0FBRyxHQUFHLENBQUMsVUFBVSxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQTthQUNwRDtpQkFBTTtnQkFDSCxPQUFPLEdBQUcsbU1BQW1NLENBQUE7YUFDaE47U0FDSjthQUFNO1lBQ0gsT0FBTyxHQUFHLEdBQUcsQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLEdBQUcsQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFBO1NBQ3BEO1FBQ0QsT0FBTyxPQUFPLEdBQUcsU0FBUyxHQUFHLFNBQVMsQ0FBQTtJQUMxQyxDQUFDO0NBRUoifQ==","import { __awaiter } from \"tslib\";\nimport { Tools, Core } from '../sgvizler';\n/**\n *\n * @memberof gvizler\n */\nexport class Select {\n    /**\n     *\n     * @param {string} elementID\n     * @returns {Promise<void>}\n     */\n    static drawWithElementId(elementID) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let element = document.getElementById(elementID);\n            if (element) {\n                yield Select.draw(element);\n            }\n        });\n    }\n    /**\n     *\n     * @param {Element} element\n     * @param options\n     * @returns {Promise<void>}\n     */\n    static draw(element, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let nodesOption = Select.getSelectOptions(options);\n            for (let node of nodesOption) {\n                element.appendChild(node.cloneNode(true));\n            }\n        });\n    }\n    /**\n     * todo\n     */\n    static drawAll() {\n        let nodesOption = Select.getSelectOptions();\n        let nodesSnapshot = document.evaluate(\"//select[contains(@class, '\" + Select.CLASS_NAME + \"')]\", document, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n        for (let i = 0; i < nodesSnapshot.snapshotLength; i++) {\n            for (let node of nodesOption) {\n                // @ts-ignore\n                nodesSnapshot.snapshotItem(i).appendChild(node.cloneNode(true));\n            }\n        }\n    }\n    /**\n     * Build url of chart's doc\n     * @param {string} classFullName\n     * @param {string} pathDoc\n     * @returns {string} absolute or relative URL\n     */\n    static getChartDoc(classFullName, pathDoc) {\n        let chartClass = Tools.getObjectByPath(classFullName);\n        let path = '';\n        if (pathDoc !== undefined) {\n            path = pathDoc;\n        }\n        else {\n            path = Core.DOCPATH;\n        }\n        return path + chartClass.tutorialFilename;\n    }\n    static getSelectOptions(options) {\n        let chartClass;\n        let nodeOption;\n        let nodeOptgroup;\n        let attrLabel;\n        let attrValue;\n        let attrIcon;\n        let attrSub;\n        let attrSelected;\n        let nodes = [];\n        // todo: write the option selected in the doc\n        let classSelected = options && options.selected ? options.selected : this.classOfChartSelectedByDefault;\n        for (let optgroup of this.charts) {\n            nodeOptgroup = document.createElement('optgroup');\n            attrLabel = document.createAttribute('label');\n            attrLabel.value = optgroup.label;\n            nodeOptgroup.setAttributeNode(attrLabel);\n            for (let chart of optgroup.charts) {\n                chartClass = Tools.getObjectByPath(chart);\n                nodeOption = document.createElement('option');\n                attrIcon = document.createAttribute('data-icon');\n                attrIcon.value = chartClass.icon;\n                attrSub = document.createAttribute('data-subtext');\n                // todo: write the option subtext in the doc\n                if (options.subtext === 'classFullName') {\n                    attrSub.value = chartClass.classFullName;\n                }\n                else {\n                    attrSub.value = chartClass.subtext;\n                }\n                attrValue = document.createAttribute('value');\n                attrValue.value = chartClass.classFullName;\n                if (classSelected === chart) {\n                    attrSelected = document.createAttribute('selected');\n                    nodeOption.setAttributeNode(attrSelected);\n                }\n                nodeOption.text = chartClass.label;\n                nodeOption.setAttributeNode(attrIcon);\n                nodeOption.setAttributeNode(attrSub);\n                nodeOption.setAttributeNode(attrValue);\n                nodeOptgroup.appendChild(nodeOption);\n            }\n            nodes.push(nodeOptgroup);\n        }\n        return nodes;\n    }\n}\nSelect.CLASS_NAME = 'sgvizler-select';\nSelect.classOfChartSelectedByDefault = 'bordercloud.visualization.DataTable';\n/**\n * Stores the charts\n */\nSelect.charts = [\n    {\n        // optgroup\n        label: 'bordercloud.visualization',\n        charts: [\n            'bordercloud.visualization.DataTable',\n            'bordercloud.visualization.PivotTable'\n        ]\n    },\n    // { // not ready\n    //     // optgroup\n    //     label: 'd3.visualization',\n    //     charts: [\n    //         /*'d3.visualization.AreaChart',\n    //         'd3.visualization.BarChart',\n    //         'd3.visualization.BubbleChart',\n    //         'd3.visualization.ColumnChart',*/\n    //         'd3.visualization.Line',\n    //         'd3.visualization.Pie'\n    //         /*,\n    //         'd3.visualization.ScatterChart'\n    //         */\n    //     ]\n    // },\n    {\n        // optgroup\n        label: 'leaflet.visualization',\n        charts: [\n            'leaflet.visualization.Map'\n        ]\n    },\n    {\n        // optgroup\n        label: 'google.visualization',\n        charts: [\n            'google.visualization.AnnotationChart',\n            'google.visualization.AreaChart',\n            'google.visualization.BarChart',\n            'google.visualization.BubbleChart',\n            'google.visualization.Calendar',\n            'google.visualization.CandlestickChart',\n            'google.visualization.ColumnChart',\n            'google.visualization.ComboChart',\n            'google.visualization.GeoChart',\n            'google.visualization.Histogram',\n            'google.visualization.IntervalChart',\n            'google.visualization.LineChart',\n            'google.visualization.Map',\n            // 'google.visualization.OrgChart',\n            'google.visualization.Pie',\n            'google.visualization.ScatterChart',\n            'google.visualization.SteppedAreaChart',\n            'google.visualization.Table',\n            'google.visualization.Trendline',\n            'google.visualization.Timeline',\n            'google.visualization.TreeMap'\n        ]\n    },\n    {\n        // optgroup\n        label: 'sgvizler.visualization',\n        charts: [\n            'sgvizler.visualization.Table'\n        ]\n    }\n];\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2VsZWN0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL1NlbGVjdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ1AsTUFBTSxhQUFhLENBQUE7QUFFcEI7OztHQUdHO0FBQ0gsTUFBTSxPQUFPLE1BQU07SUE0RWY7Ozs7T0FJRztJQUNJLE1BQU0sQ0FBTyxpQkFBaUIsQ0FBRSxTQUFpQjs7WUFDcEQsSUFBSSxPQUFPLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUNoRCxJQUFJLE9BQU8sRUFBRTtnQkFDVCxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7YUFDN0I7UUFDTCxDQUFDO0tBQUE7SUFFRDs7Ozs7T0FLRztJQUNJLE1BQU0sQ0FBTyxJQUFJLENBQUUsT0FBZ0IsRUFBQyxPQUFhOztZQUNwRCxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDbEQsS0FBSyxJQUFJLElBQUksSUFBSSxXQUFXLEVBQUU7Z0JBQzFCLE9BQU8sQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO2FBQzVDO1FBQ0wsQ0FBQztLQUFBO0lBRUQ7O09BRUc7SUFDSSxNQUFNLENBQUMsT0FBTztRQUNqQixJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQTtRQUUzQyxJQUFJLGFBQWEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLDZCQUE2QixHQUFHLE1BQU0sQ0FBQyxVQUFVLEdBQUcsS0FBSyxFQUMzRixRQUFRLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyw0QkFBNEIsRUFBRSxJQUFJLENBQUMsQ0FBQTtRQUNuRSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUcsYUFB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","import * as sgvizler2 from '../index';\n/**\n * Todo comment\n * @class sgvizler.Tools\n * @memberof sgvizler\n */\nexport class Tools {\n    // noinspection JSValidateJSDoc\n    /**\n     * Gets the object located at `path` from `object`. `path`\n     * is given in dot notation.\n     * Search in first in the library and after in window object\n     * @param {string} path\n     * @param object\n     * @returns { any }  or undefined\n     */\n    static getObjectByPath(path, object) {\n        let i;\n        let len;\n        let segments = path.split('.');\n        let cursor = object || sgvizler2; // search in the lib if object is empty\n        for (i = 0, len = segments.length; i < len; i += 1) {\n            if (cursor === undefined) { // create new child element.\n                break;\n            }\n            if (i < len - 1) {\n                cursor = cursor[segments[i]]; // if cursor is undefined, it remains undefined.\n            }\n            else {\n                try {\n                    cursor = new cursor[segments[i]](); // create an instance\n                }\n                catch (e) {\n                    // do nothing\n                    // cursor[segments[i]]() is not a constructor]\n                    cursor = undefined;\n                }\n            }\n        }\n        if (cursor === undefined && !object) { // window is the global scope.\n            cursor = this.getObjectByPath(path, window);\n        }\n        return cursor;\n    }\n    static assignProperty(obj, path, value) {\n        return Tools.assignJSON(obj, Tools.getJSONByPath(path, value));\n    }\n    // public static escapeHtml (str: string): string {\n    //     let text = document.createTextNode(str)\n    //     let div = document.createElement('div')\n    //     div.appendChild(text)\n    //     return div.innerHTML\n    // }\n    // public static decodeHtml (html: string): any {\n    // //     let element = document.createElement('div')\n    // //     element.innerHTML = html\n    // //     return element.textContent\n    // // }\n    // // function decodeHTMLEntities(text) {\n    // }\n    static encodeHtml(str) {\n        let buf = [];\n        for (let i = str.length - 1; i >= 0; i--) {\n            // let iC = str.charCodeAt(i)\n            // if (iC < 65 || iC > 127 ) { //|| (iC>90 && iC<97)\n            //     buf.unshift(['&#', iC, ';'].join(''))\n            // } else {\n            //     buf.unshift(str[i])\n            // }\n            switch (str[i]) {\n                case '&':\n                    buf.unshift('&amp;');\n                    break;\n                case '\"':\n                    buf.unshift('&quot;');\n                    break;\n                case \"'\":\n                    buf.unshift('&apos;');\n                    break;\n                case '<':\n                    buf.unshift('&lt;');\n                    break;\n                case '>':\n                    buf.unshift('&gt;');\n                    break;\n                // case '':\n                //     buf.unshift(['&#', str.charCodeAt(i), ';'].join(''))\n                //     break;\n                default:\n                    buf.unshift(str[i]);\n            }\n        }\n        return buf.join('');\n    }\n    static decodeHtml(str) {\n        let text = str.replace(/&#(\\d+);/g, function (match, dec) {\n            return String.fromCharCode(dec);\n        });\n        // remove \\u00a0 of &nbsp;\n        text = text.replace(/(?:[^\\S\\r\\n]|\\u00a0)/g, function (match, dec) {\n            return ' ';\n        });\n        return text;\n    }\n    static getJSONByPath(path, value) {\n        let json = '';\n        let propertyName = '';\n        let nextPath = '';\n        if (path.length === 0 || !value) {\n            return json;\n        }\n        let positionDot = path.search(/\\./);\n        if (positionDot === -1) {\n            propertyName = path.trim();\n            if (Number.isNaN(Number(value))) {\n                let valueBoolean = Tools.convertToBoolean(value);\n                if (valueBoolean === undefined) {\n                    let str = JSON.stringify(String(value));\n                    str = str.substring(1, str.length - 1);\n                    json = '{\"' + propertyName + '\":\"' + str + '\"}';\n                }\n                else {\n                    json = '{\"' + propertyName + '\":' + value + '}';\n                }\n            }\n            else {\n                json = '{\"' + propertyName + '\":' + value + '}';\n            }\n        }\n        else {\n            propertyName = path.substring(0, positionDot);\n            nextPath = path.substring(positionDot + 1, path.length);\n            json = '{\"' + propertyName.trim() + '\": ' + Tools.getJSONByPath(nextPath, value) + ' }';\n        }\n        return json;\n    }\n    static assignJSON(obj, json) {\n        Tools.mergeInObject(obj, JSON.parse(json));\n        return obj;\n    }\n    static convertToBoolean(input) {\n        if (input.length <= 5) {\n            try {\n                return JSON.parse(input);\n            }\n            catch (e) {\n                return undefined;\n            }\n        }\n        return undefined;\n    }\n    // Convert to typescript : https://github.com/gmasmejean/recursiveAssign/blob/master/index.js\n    static assign(ref, key, value) {\n        if (Tools.isPlainObject(value)) {\n            if (!Tools.isPlainObject(ref[key])) {\n                ref[key] = {};\n            }\n            Tools.mergeInObject(ref[key], value);\n        }\n        else {\n            ref[key] = value;\n        }\n    }\n    static mergeInObject(dest, data) {\n        Object.keys(data).forEach(key => {\n            Tools.assign(dest, key, data[key]);\n        });\n    }\n    static isPlainObject(o) {\n        return o !== undefined && o.constructor !== undefined && o.constructor.prototype === Object.prototype;\n    }\n    static sizeConvertInteger(x) {\n        var val = x;\n        // Fix bug: TypeError: x.replace is not a function\n        if (typeof x !== 'number') {\n            val = parseInt(x.replace(\"px\", \"\"), 10);\n        }\n        if (isNaN(val)) {\n            return null;\n        }\n        return val;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvVG9vbHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxLQUFLLFNBQVMsTUFBTSxVQUFVLENBQUE7QUFFckM7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxLQUFLO0lBRWQsK0JBQStCO0lBQy9COzs7Ozs7O09BT0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLElBQVksRUFBRSxNQUFZO1FBQ3JELElBQUksQ0FBQyxDQUFBO1FBQ0wsSUFBSSxHQUFHLENBQUE7UUFDUCxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzlCLElBQUksTUFBTSxHQUFHLE1BQU0sSUFBSSxTQUFTLENBQUEsQ0FBRSx1Q0FBdUM7UUFFekUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRTtZQUNoRCxJQUFJLE1BQU0sS0FBSyxTQUFTLEVBQUUsRUFBOEIsNEJBQTRCO2dCQUNqRixNQUFLO2FBQ1A7WUFDRCxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNiLE1BQU0sR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBSyxnREFBZ0Q7YUFDcEY7aUJBQU07Z0JBQ0gsSUFBSTtvQkFDQSxNQUFNLEdBQUcsSUFBSSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFDLHFCQUFxQjtpQkFDM0Q7Z0JBQUMsT0FBTyxDQUFDLEVBQUU7b0JBQ1IsYUFBYTtvQkFDYiw4Q0FBOEM7b0JBQzlDLE1BQU0sR0FBRyxTQUFTLENBQUE7aUJBQ3JCO2FBQ0o7U0FDSjtRQUVELElBQUksTUFBTSxLQUFLLFNBQVMsSUFBSSxD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","import * as S from '../sgvizler';\n/**\n * Handles all logging, either to console or designated HTML\n * container.\n *\n * @class sgvizler.Logger\n * @memberof sgvizler\n */\nexport class Logger {\n    static done(callback) {\n        this._doneCallEvent = callback;\n        return this;\n    }\n    static fireDoneEvent(container) {\n        container.loadingIcon.hide();\n        if (this._doneCallEvent) {\n            this._doneCallEvent(container.id);\n        }\n    }\n    static fail(callback) {\n        this._failCallEvent = callback;\n        return this;\n    }\n    static fireFailEvent(container) {\n        container.loadingIcon.hide();\n        if (this._failCallEvent) {\n            this._failCallEvent(container.id);\n        }\n    }\n    /**\n     * Logs a message.\n     * @method log\n     * @protected\n     * @param {string} message The message to log.\n     */\n    static log(container, message) {\n        if (container.loglevel === 2) {\n            console.log(this.elapsedTime() + 's: ' + message);\n        }\n    }\n    static logSimple(message) {\n        console.log(this.elapsedTime() + 's: ' + message);\n    }\n    /**\n     * Todo\n     * @param {Container} container\n     * @param {MESSAGES} messageName\n     * @param {Array<string>} args\n     */\n    static displayFeedback(container, messageName, args) {\n        let message = S.Messages.get(messageName, args);\n        if (container.loglevel === 2) {\n            if (message) {\n                let obj = document.getElementById(container.id);\n                if (obj) {\n                    obj.innerHTML = \"<p style='color:red'>\" + message + '</p>';\n                }\n            }\n        }\n        Logger.fireFailEvent(container);\n    }\n    /**\n     * @method timeElapsed\n     * @private\n     * @return {number} The number of seconds elapsed since\n     * this sgvizler got loaded.\n     */\n    static elapsedTime() {\n        return (Date.now() - this._startTime) / 1000;\n    }\n}\n/**\n * The timestamp for the load start of the current running\n * version of sgvizler. Used to calculate time elapse of\n * future events.\n */\nLogger._startTime = Date.now();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Nndml6bGVyL0xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEtBQUssQ0FBQyxNQUFNLGFBQWEsQ0FBQTtBQUdoQzs7Ozs7O0dBTUc7QUFDSCxNQUFNLE9BQU8sTUFBTTtJQUlSLE1BQU0sQ0FBQyxJQUFJLENBQUUsUUFBYTtRQUM3QixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQTtRQUM5QixPQUFPLElBQUksQ0FBQTtJQUNmLENBQUM7SUFDTSxNQUFNLENBQUMsYUFBYSxDQUFFLFNBQXNCO1FBQy9DLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0IsSUFBRyxJQUFJLENBQUMsY0FBYyxFQUFDO1lBQ25CLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1NBQ3BDO0lBQ0wsQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFJLENBQUUsUUFBYTtRQUM3QixJQUFJLENBQUMsY0FBYyxHQUFHLFFBQVEsQ0FBQTtRQUM5QixPQUFPLElBQUksQ0FBQTtJQUNmLENBQUM7SUFDTSxNQUFNLENBQUMsYUFBYSxDQUFFLFNBQXNCO1FBQy9DLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDN0IsSUFBRyxJQUFJLENBQUMsY0FBYyxFQUFFO1lBQ3BCLElBQUksQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1NBQ3BDO0lBQ0wsQ0FBQztJQVNEOzs7OztPQUtHO0lBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBRSxTQUFzQixFQUFFLE9BQWU7UUFDdEQsSUFBSSxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtZQUMxQixPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsR0FBRyxLQUFLLEdBQUcsT0FBTyxDQUFDLENBQUE7U0FDcEQ7SUFDTCxDQUFDO0lBRU0sTUFBTSxDQUFDLFNBQVMsQ0FBRSxPQUFlO1FBQ3BDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEtBQUssR0FBRyxPQUFPLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxNQUFNLENBQUMsZUFBZSxDQUFFLFNBQXNCLEVBQUUsV0FBdUIsRUFBRSxJQUFvQjtRQUNoRyxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFFOUMsSUFBSSxTQUFTLENBQUMsUUFBUSxLQUFLLENBQUMsRUFBRTtZQUMxQixJQUFJLE9BQU8sRUFBRTtnQkFDVCxJQUFJLEdBQUcsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtnQkFDL0MsSUFBSSxHQUFHLEVBQUU7b0JBQ0wsR0FBRyxDQUFDLFNBQVMsR0FBRyx1QkFBdUIsR0FBRyxPQUFPLEdBQUcsTUFBTSxDQUFBO2lCQUM3RDthQUNKO1NBQ0o7UUFFRCxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3BDLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNLLE1BQU0sQ0FBQyxXQUFXO1FBQ3RCLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLElBQUksQ0FBQTtJQUNoRCxDQUFDOztBQXBERDs7OztHQUlHO0FBQ1ksaUJBQVUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUEifQ==","/**\n *\n * @class sgvizler.Core\n * @memberof sgvizler\n */\nexport class Core {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get path() {\n        return this._path;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set path(value) {\n        this._path = value;\n    }\n}\n/**\n * The version number of this sgvizler2.\n * @static\n * @readonly\n * @type {string} VERSION\n */\nCore.VERSION = '0.0';\n/**\n * sgvizler2's homepage.\n * @static\n * @readonly\n * @type {string} HOMEPAGE\n */\nCore.HOMEPAGE = 'https://bordercloud.github.io/sgvizler2/index.html';\n/**\n * sgvizler2's docs path\n * @static\n * @readonly\n * @type {string} DOCPATH\n */\nCore.DOCPATH = 'https://bordercloud.github.io/sgvizler2/';\nCore._path = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29yZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9Db3JlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sSUFBSTtJQUViOzs7T0FHRztJQUNILE1BQU0sS0FBSyxJQUFJO1FBQ1gsT0FBTyxJQUFJLENBQUMsS0FBSyxDQUFBO0lBQ3JCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxNQUFNLEtBQUssSUFBSSxDQUFFLEtBQWE7UUFDMUIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDdEIsQ0FBQzs7QUFFRDs7Ozs7R0FLRztBQUNvQixZQUFPLEdBQVcsS0FBSyxDQUFBO0FBRTlDOzs7OztHQUtHO0FBQ29CLGFBQVEsR0FBVyxvREFBb0QsQ0FBQTtBQUU5Rjs7Ozs7R0FLRztBQUNvQixZQUFPLEdBQVcsMENBQTBDLENBQUE7QUFFcEUsVUFBSyxHQUFXLEVBQUUsQ0FBQSJ9","import { SPARQL_RESULT, SparqlTools } from '../sgvizler';\nimport { SparqlError } from './SparqlError';\n/**\n * Important class. Runs SPARQL query against SPARQL\n * endpoints.\n *\n * Dependencies:\n *\n *   - sgvizler.util\n *   - sgvizler.namespace\n *   - sgvizler.registry\n *   - sgvizler.parser\n *   - sgvizler.loader\n *   - sgvizler.logger\n *   - sgvizler.defaults\n *   - jQuery\n *   - google.visualization\n *\n *\n * Example of how to use the Query class:\n *\n *     var sparqlQueryString = \"SELECT * {?s ?p ?o} LIMIT 10\",\n *         containerID = \"myElementID\",\n *         Q = new sgvizler.Query();\n *\n *     // Note that default values may be set in the sgvizler object.\n *     Q.query(sparqlQueryString)\n *         .endpointURL(\"http://dbpedia.org/sparql\")\n *         .endpointOutputFormat(\"json\")                    // Possible values 'xml', 'json', 'jsonp'.\n *         .chartFunction(\"google.visualization.BarChart\")  // The name of the function to draw the chart.\n *         .draw(containerID);                              // Draw the chart in the designated HTML element.\n *\n * @class sgvizler.Request\n * @memberof sgvizler\n */\nexport class Request {\n    constructor() {\n        this._query = '';\n        this._endpoint = '';\n        this._endpointOutputFormat = SPARQL_RESULT.json;\n        this._method = 'GET';\n        this._queryParameter = 'query';\n        this.listeners = {};\n    }\n    // private _endpointResultsUrlPart: string\n    // // private _chartPathFunction: string\n    // private _endpointURL: string\n    /**\n     *\n     * @returns {string}\n     */\n    get method() {\n        return this._method;\n    }\n    /**\n     *\n     * @param {string} value\n     */\n    set method(value) {\n        this._method = value;\n    }\n    /**\n     *\n     * @returns {Container}\n     */\n    get container() {\n        return this._container;\n    }\n    /**\n     *\n     * @param {Container} value\n     */\n    set container(value) {\n        this._container = value;\n    }\n    /**\n     * Get query string.\n     * @method query\n     * @public\n     * @return {string}\n     */\n    get query() {\n        return this._query;\n    }\n    /**\n     * Set query string.\n     * @method query\n     * @public\n     * @chainable\n     * @param value\n     */\n    set query(value) {\n        this._query = value;\n    }\n    /**\n     * Get endpoint URL.\n     * @method endpointURL\n     * @public\n     * @return {string}\n     */\n    get endpoint() {\n        return this._endpoint;\n    }\n    /**\n     * Set endpoint URL.\n     * @method endpointURL\n     * @public\n     * @chainable\n     * @example\n     *     sgvizler.endpointURL('http://sparql.dbpedia.org');\n     *   sets this Query object's endpoint to DBpedia.\n     * @param value\n     */\n    set endpoint(value) {\n        this._endpoint = value;\n    }\n    /**\n     * Get endpoint output format.\n     * @method endpointOutputFormat\n     * @public\n     * @return {string}\n     */\n    get endpointOutputFormat() {\n        return this._endpointOutputFormat;\n    }\n    /**\n     * Set endpoint output format. Legal values are `'xml'`,\n     * `'json'`, `'jsonp'`.\n     * @method endpointOutputFormat\n     * @public\n     * @chainable\n     * @param value\n     */\n    set endpointOutputFormat(value) {\n        this._endpointOutputFormat = value;\n    }\n    /**\n     * todo\n     * @returns {string}\n     */\n    get queryParameter() {\n        return this._queryParameter;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    set queryParameter(value) {\n        this._queryParameter = value;\n    }\n    sendRequest() {\n        let myRequest = this;\n        // Create new promise with the Promise() constructor;\n        // This has as its argument a function\n        // with two parameters, resolve and reject\n        return new Promise(function (resolve, reject) {\n            // Standard XHR to load an image\n            let xhr = new XMLHttpRequest();\n            let data;\n            let url = myRequest.endpoint;\n            if (myRequest.method.toLowerCase() === 'get') {\n                url += '?' + myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query) +\n                    '&output=' + SparqlTools.getOutputLabel(myRequest.endpointOutputFormat);\n            }\n            else {\n                data = myRequest.queryParameter + '=' + encodeURIComponent(myRequest.query);\n            }\n            xhr.open(myRequest.method, url, true);\n            xhr.setRequestHeader('Accept', SparqlTools.getHeaderAccept(myRequest.endpointOutputFormat));\n            // hide errors xhr.responseType = SparqlTools.getXMLHttpRequestResponseType(myRequest.endpointOutputFormat)\n            // TODO check progress\n            xhr.onprogress = function (oEvent) {\n                if (oEvent.lengthComputable) {\n                    let percentComplete = (oEvent.loaded / oEvent.total) * 100;\n                    console.log('onprogress' + percentComplete);\n                }\n                else {\n                    // Impossible de calculer la progression puisque la taille totale est inconnue\n                }\n            };\n            // When the request loads, check whether it was successful\n            xhr.onload = function (options) {\n                if (xhr.readyState === XMLHttpRequest.DONE) {\n                    if (xhr.status === 200) {\n                        // If successful, resolve the promise by passing back the request response\n                        resolve(JSON.parse(xhr.response));\n                    }\n                    else {\n                        // If it fails, reject the promise with a error message\n                        reject(SparqlError.getErrorMessageWithStatus200(xhr));\n                    }\n                }\n            };\n            xhr.onerror = () => reject(SparqlError.getErrorWithOtherStatus(xhr, url));\n            // Send the request\n            if (data) {\n                xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\n                xhr.send(data);\n            }\n            else {\n                xhr.send();\n            }\n            // console.log(myRequest.query)\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUmVxdWVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9SZXF1ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFFSCxhQUFhLEVBQ2IsV0FBVyxFQUNkLE1BQU0sYUFBYSxDQUFBO0FBQ3BCLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUE7QUFFM0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0dBZ0NHO0FBQ0gsTUFBTSxPQUFPLE9BQU87SUFpSWhCO1FBN0hRLFdBQU0sR0FBVyxFQUFFLENBQUE7UUFDbkIsY0FBUyxHQUFXLEVBQUUsQ0FBQTtRQUN0QiwwQkFBcUIsR0FBa0IsYUFBYSxDQUFDLElBQUksQ0FBQTtRQUN6RCxZQUFPLEdBQUcsS0FBSyxDQUFBO1FBRWYsb0JBQWUsR0FBVyxPQUFPLENBQUE7UUF5SHJDLElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFBO0lBQ3ZCLENBQUM7SUF6SEQsMENBQTBDO0lBQzFDLHdDQUF3QztJQUN4QywrQkFBK0I7SUFFL0I7OztPQUdHO0lBQ0gsSUFBSSxNQUFNO1FBQ04sT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFBO0lBQ3ZCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLE1BQU0sQ0FBRSxLQUFhO1FBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO0lBQ3hCLENBQUM7SUFFRDs7O09BR0c7SUFDSCxJQUFJLFNBQVM7UUFDVCxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDMUIsQ0FBQztJQUVEOzs7T0FHRztJQUNILElBQUksU0FBUyxDQUFFLEtBQWdCO1FBQzNCLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFBO0lBQzNCLENBQUM7SUFFRDs7Ozs7T0FLRztJQUNILElBQUksS0FBSztRQUNMLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQTtJQUN0QixDQUFDO0lBRUQ7Ozs7OztPQU1H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","import { Tools } from '../sgvizler';\n/**\n * @class sgvizler.LoadingIcon\n * @memberof sgvizler\n */\nexport class LoadingIcon {\n    constructor(container) {\n        this._rotation = 0;\n        this._container = container;\n    }\n    show() {\n        let currentLoadingcon = this;\n        let obj = document.getElementById(this._container.id);\n        if (obj) {\n            obj.innerHTML = \"<canvas class='imageWait' \" +\n                \"style='position: relative;top: 50%;left: 50%;transform: translate(-50%, -50%);margin:100px auto;'></canvas>\";\n            let canvas = obj.getElementsByTagName('canvas')[0];\n            let width = Tools.sizeConvertInteger(this._container.chart.width);\n            let height = Tools.sizeConvertInteger(this._container.chart.height);\n            canvas.setAttribute('width', (width) ? this._container.chart.width : \"100\");\n            canvas.setAttribute('height', (height) ? this._container.chart.height : \"100\");\n            var image = new Image();\n            image.onload = function () {\n                currentLoadingcon._processusWaiting = setInterval(function () {\n                    let ctx = canvas.getContext('2d');\n                    if (ctx) {\n                        let xcenter = ctx.canvas.width / 2, ycenter = ctx.canvas.height / 2, sourceWidth = 65, sourceHeight = 65;\n                        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n                        ctx.save();\n                        ctx.translate(xcenter, ycenter); // to get it in the origin\n                        currentLoadingcon._rotation += 2;\n                        ctx.rotate(currentLoadingcon._rotation * Math.PI / 64); //rotate in origin\n                        ctx.drawImage(image, -sourceWidth / 2, -sourceHeight / 2);\n                        ctx.restore();\n                    }\n                }, 20);\n            };\n            image.src = LoadingIcon._imgWait;\n        }\n    }\n    hide() {\n        let obj = document.getElementById(this._container.id);\n        if (obj) {\n            let canvas = obj.getElementsByTagName('canvas')[0];\n            if (canvas) {\n                canvas.style.display = 'none';\n            }\n        }\n        clearInterval(this._processusWaiting);\n    }\n}\nLoadingIcon._imgWait = \"data:image/png;base64,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\";\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9hZGluZ0ljb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvc2d2aXpsZXIvTG9hZGluZ0ljb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUVILEtBQUssRUFDUixNQUFNLGFBQWEsQ0FBQTtBQUdwQjs7O0dBR0c7QUFDSCxNQUFNLE9BQU8sV0FBVztJQVFwQixZQUFvQixTQUFvQjtRQUhoQyxjQUFTLEdBQVUsQ0FBQyxDQUFBO1FBSXhCLElBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO0lBQ2hDLENBQUM7SUFFTSxJQUFJO1FBQ1AsSUFBSSxpQkFBaUIsR0FBRyxJQUFJLENBQUE7UUFDNUIsSUFBSSxHQUFHLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3JELElBQUksR0FBRyxFQUFFO1lBQ0wsR0FBRyxDQUFDLFNBQVMsR0FBRyw0QkFBNEI7Z0JBQ3hDLDZHQUE2RyxDQUFDO1lBRWxILElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBRSxRQUFRLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyRCxJQUFJLEtBQUssR0FBRyxLQUFLLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUU7WUFDbkUsSUFBSSxNQUFNLEdBQUcsS0FBSyxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFFO1lBQ3JFLE1BQU0sQ0FBQyxZQUFZLENBQUMsT0FBTyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUM7WUFDNUUsTUFBTSxDQUFDLFlBQVksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztZQUMvRSxJQUFJLEtBQUssR0FBRyxJQUFJLEtBQUssRUFBRSxDQUFDO1lBQ3hCLEtBQUssQ0FBQyxNQUFNLEdBQUc7Z0JBQ1gsaUJBQWlCLENBQUMsaUJBQWlCLEdBQUcsV0FBVyxDQUFDO29CQUM5QyxJQUFLLEdBQUcsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFBO29CQUNsQyxJQUFJLEdBQUcsRUFBRTt3QkFDTCxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxDQUFDLEVBQzlCLE9BQU8sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQy9CLFdBQVcsR0FBRyxFQUFFLEVBQ2hCLFlBQVksR0FBRyxFQUFFLENBQUM7d0JBQ3RCLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO3dCQUN6RCxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7d0JBQ1gsR0FBRyxDQUFDLFNBQVMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUMsQ0FBQSwwQkFBMEI7d0JBQzFELGlCQUFpQixDQUFDLFNBQVMsSUFBSSxDQUFDLENBQUM7d0JBQ2pDLEdBQUcsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQUMsU0FBUyxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQSxrQkFBa0I7d0JBQ3pFLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUMsV0FBVyxHQUFHLENBQUMsRUFBRSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUMsQ0FBQzt3QkFDMUQsR0FBRyxDQUFDLE9BQU8sRUFBRSxDQUFDO3FCQUNqQjtnQkFDTCxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUE7WUFDVixDQUFDLENBQUM7WUFDRixLQUFLLENBQUMsR0FBRyxHQUFHLFdBQVcsQ0FBQyxRQUFRLENBQUM7U0FDcEM7SUFDTCxDQUFDO0lBQ00sSUFBSTtRQUNQLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNyRCxJQUFJLEdBQUcsRUFBRTtZQUNMLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBRSxRQUFRLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyRCxJQUFHLE1BQU0sRUFBRTtnQkFDUCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7YUFDakM7U0FDSjtRQUNELGFBQWEsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQztJQUMxQyxDQUFDOztBQXREdUIsb0JBQVEsR0FBRyx3eEtBQXd4SyxDQUFDIn0=","// Doc: 11-052r4_OGC_GeoSPARQL_-_A_Geographic_Query_Language_for_RDF_Data.pdf\nexport class WktLiteral {\n    constructor(spatialReferenceSystem) {\n        this.spatialReferenceSystem = spatialReferenceSystem !== null && spatialReferenceSystem !== void 0 ? spatialReferenceSystem : 'http://www.wikidata.org/entity/Q42274'; //by default : Earth\n    }\n    static create(raw) {\n        try {\n            // Point(LONG LAT): A single point as described above (Note the lack of a comma)\n            const regexPoint = /^(?:\\s*<([^>]+)>\\s+)?Point\\s*\\(([^\\s]+) +([^\\s]+)\\)$/i;\n            const resultPoint = raw.match(regexPoint);\n            if (resultPoint != null) {\n                return new PointWktLiteral(resultPoint[2], resultPoint[3], resultPoint[1]);\n            }\n            // Linestring(LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN): A line connecting the specified points (Commas between each point)\n            const regexLinestring = /^(?:\\s*<([^>]+)>\\s+)?Linestring\\s*\\((.+)\\)$/i;\n            const regexLonLatList = /([^\\s,]+?)\\s+([^\\s,]+)/g;\n            const resultLinestring = raw.match(regexLinestring);\n            if (resultLinestring != null) {\n                let resultLinestringList = resultLinestring[2].matchAll(regexLonLatList);\n                const line = new LinestringWktLiteral(resultLinestring[1]);\n                for (const match of resultLinestringList) {\n                    line.push(new PointWktLiteral(match[1], match[2], resultLinestring[1]));\n                }\n                return line;\n            }\n            // Envelope(minLong, maxLong, maxLat, minLat): A rectangle with the specified corners (Note the commas between each and especially note the somewhat odd ordering of (min, max, max, min)).\n            const regexEnvelope = /^(?:\\s*<([^>]+)>\\s+)?Envelope\\s*\\(\\s*([^\\s,]+)\\s*,\\s*([^\\s]+)\\s*,\\s*([^\\s]+)\\s*,\\s*([^\\s]+)\\s*\\)$/i;\n            const resultEnvelope = raw.match(regexEnvelope);\n            if (resultEnvelope != null) {\n                return new EnvelopeWktLiteral(resultEnvelope[2], resultEnvelope[3], resultEnvelope[4], resultEnvelope[5], resultEnvelope[1]);\n            }\n            // Polygon(LONG1 LAT1, LONG2 LAT2, ..., LONGN LATN, LONG1 LAT1): A filled-in shape with the specified points (Note that a polygon must start and end with the same point, i.e., be closed)\n            const regexPolygon = /^(?:\\s*<([^>]+)>\\s+)?Polygon\\s*\\(\\(([^\\(\\)]+)\\)\\)$/i;\n            const resultPolygon = raw.match(regexPolygon);\n            if (resultPolygon != null) {\n                let resultPolygonList = resultPolygon[2].matchAll(regexLonLatList);\n                const polygon = new PolygonWktLiteral(resultPolygon[1]);\n                for (const match of resultPolygonList) {\n                    polygon.push(new PointWktLiteral(match[1], match[2], resultPolygon[1]));\n                }\n                return polygon;\n            }\n            //https://docs.microsoft.com/fr-fr/sql/relational-databases/spatial/multipolygon?view=sql-server-ver15\n            const regexMultiPolygon = /^(?:\\s*<([^>]+)>\\s+)?(?:MULTI)?POLYGON\\s*\\((.+)\\)$/i;\n            const regexPolygonList = /\\(\\(?(.+?)\\)\\)?/g;\n            const resultMultiPolygon = raw.match(regexMultiPolygon);\n            if (resultMultiPolygon != null) {\n                let resultPolygonList = resultMultiPolygon[2].matchAll(regexPolygonList);\n                const multipolygon = new MultiPolygonWktLiteral(resultMultiPolygon[1]);\n                for (const matchPolygon of resultPolygonList) {\n                    let resultPointList = matchPolygon[1].matchAll(regexLonLatList);\n                    let polygon = new PolygonWktLiteral(resultMultiPolygon[1]);\n                    for (const match of resultPointList) {\n                        polygon.push(new PointWktLiteral(match[1], match[2], resultMultiPolygon[1]));\n                    }\n                    multipolygon.push(polygon);\n                }\n                return multipolygon;\n            }\n        }\n        catch (e) {\n            if (e instanceof ErrorWktLiteral) {\n                throw new ErrorWktLiteral(\"Parsing error. \" + e.message + \": \" + raw);\n            }\n            else {\n                throw e;\n            }\n        }\n        throw new ErrorWktLiteral(\"Parsing error. Unknown syntax: \" + raw);\n    }\n    static getNumber(value, parameterName) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        else {\n            const valueNumber = parseFloat(value);\n            if (!isNaN(valueNumber)) {\n                return valueNumber;\n            }\n            else {\n                throw new ErrorWktLiteral(\"Value \" + value + \" of \" + parameterName + \" is not a number\");\n            }\n        }\n    }\n}\nexport class PointWktLiteral extends WktLiteral {\n    constructor(long, lat, spatialReferenceSystem) {\n        super(spatialReferenceSystem);\n        this.long = WktLiteral.getNumber(long, \"Point:longitude\");\n        this.lat = WktLiteral.getNumber(lat, \"Point:latitude\");\n    }\n    equals(obj) {\n        if (obj instanceof PointWktLiteral) {\n            const p = obj;\n            if (p.long === this.long && p.lat === this.lat) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexport class LinestringWktLiteral extends WktLiteral {\n    constructor() {\n        super(...arguments);\n        this.points = [];\n    }\n    push(pointWktLiteral) {\n        this.points.push(pointWktLiteral);\n    }\n}\nexport class EnvelopeWktLiteral extends WktLiteral {\n    constructor(minLong, maxLong, maxLat, minLat, spatialReferenceSystem) {\n        super(spatialReferenceSystem);\n        this.minLong = WktLiteral.getNumber(minLong, \"Envelope:minLong\");\n        this.maxLong = WktLiteral.getNumber(maxLong, \"Envelope:maxLong\");\n        this.maxLat = WktLiteral.getNumber(maxLat, \"Envelope:maxLat\");\n        this.minLat = WktLiteral.getNumber(minLat, \"Envelope:minLat\");\n    }\n}\nexport class PolygonWktLiteral extends WktLiteral {\n    constructor() {\n        super(...arguments);\n        this.points = [];\n    }\n    push(pointWktLiteral) {\n        this.points.push(pointWktLiteral);\n    }\n}\nexport class MultiPolygonWktLiteral extends WktLiteral {\n    constructor() {\n        super(...arguments);\n        this.polygons = [];\n    }\n    push(polygonWktLiteral) {\n        this.polygons.push(polygonWktLiteral);\n    }\n}\nexport class ErrorWktLiteral extends Error {\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiV2t0TGl0ZXJhbC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9zZ3Zpemxlci9Xa3RMaXRlcmFsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDZFQUE2RTtBQUU3RSxNQUFNLE9BQWdCLFVBQVU7SUFLNUIsWUFBWSxzQkFBOEI7UUFDdEMsSUFBSSxDQUFDLHNCQUFzQixHQUFHLHNCQUFzQixhQUF0QixzQkFBc0IsY0FBdEIsc0JBQXNCLEdBQUksdUNBQXVDLENBQUMsQ0FBQyxvQkFBb0I7SUFDekgsQ0FBQztJQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBVztRQUNyQixJQUFHO1lBQ0MsZ0ZBQWdGO1lBQ2hGLE1BQU0sVUFBVSxHQUFHLHVEQUF1RCxDQUFDO1lBQzNFLE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDMUMsSUFBRyxXQUFXLElBQUksSUFBSSxFQUFDO2dCQUNmLE9BQU8sSUFBSSxlQUFlLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQzthQUNoRjtZQUVELDBIQUEwSDtZQUMxSCxNQUFNLGVBQWUsR0FBRyw4Q0FBOEMsQ0FBQztZQUN2RSxNQUFNLGVBQWUsR0FBRyx5QkFBeUIsQ0FBQztZQUNsRCxNQUFNLGdCQUFnQixHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLENBQUM7WUFDcEQsSUFBRyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUM7Z0JBQ3hCLElBQUksb0JBQW9CLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQyxDQUFDO2dCQUN6RSxNQUFNLElBQUksR0FBRyxJQUFJLG9CQUFvQixDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzNELEtBQUssTUFBTSxLQUFL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","/**\n * @namespace sgvizler\n */\nimport * as visualizationNS from './sgvizler/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './sgvizler/Loader';\nexport * from './sgvizler/Dependency';\nexport * from './sgvizler/SparqlResultInterface';\nexport * from './sgvizler/SparqlError';\nexport * from './sgvizler/Select';\nexport * from './sgvizler/Messages';\nexport * from './sgvizler/Tools';\nexport * from './sgvizler/Logger';\nexport * from './sgvizler/Core';\nexport * from './sgvizler/Chart';\nexport * from './sgvizler/SparqlTools';\nexport * from './sgvizler/Request';\nexport * from './sgvizler/Container';\nexport * from './sgvizler/LoadingIcon';\nexport * from './sgvizler/WktLiteral';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2d2aXpsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvc2d2aXpsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDBCQUEwQixDQUFBO0FBQzNELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUE7QUFFNUMsUUFBUTtBQUVSLGNBQWMsbUJBQW1CLENBQUE7QUFDakMsY0FBYyx1QkFBdUIsQ0FBQTtBQUNyQyxjQUFjLGtDQUFrQyxDQUFBO0FBQ2hELGNBQWMsd0JBQXdCLENBQUE7QUFDdEMsY0FBYyxtQkFBbUIsQ0FBQTtBQUNqQyxjQUFjLHFCQUFxQixDQUFBO0FBQ25DLGNBQWMsa0JBQWtCLENBQUE7QUFDaEMsY0FBYyxtQkFBbUIsQ0FBQTtBQUNqQyxjQUFjLGlCQUFpQixDQUFBO0FBQy9CLGNBQWMsa0JBQWtCLENBQUE7QUFDaEMsY0FBYyx3QkFBd0IsQ0FBQTtBQUN0QyxjQUFjLG9CQUFvQixDQUFBO0FBQ2xDLGNBQWMsc0JBQXNCLENBQUE7QUFDcEMsY0FBYyx3QkFBd0IsQ0FBQTtBQUN0QyxjQUFjLHVCQUF1QixDQUFBIn0=","import { Core, Chart, MESSAGES, Logger } from '../../sgvizler';\n/**\n * Enum for tri-state values.\n * @readonly\n * @enum {number}\n */\nvar DATATABLE_COL_OPTIONS;\n(function (DATATABLE_COL_OPTIONS) {\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"TAG\"] = 0] = \"TAG\";\n    DATATABLE_COL_OPTIONS[DATATABLE_COL_OPTIONS[\"STYLE\"] = 1] = \"STYLE\";\n})(DATATABLE_COL_OPTIONS || (DATATABLE_COL_OPTIONS = {}));\n/**\n * This table uses <a href=\"https://datatables.net/\">DataTables.net</a>.\n * You can adapt each column with the option colstyle.\n *\n * @class bordercloud.visualization.DataTable\n * @memberof bordercloud.visualization\n */\nexport class DataTable extends Chart {\n    constructor() {\n        super();\n        this.addCss(Core.path + 'lib/DataTables/DataTables-1.10.21/css/dataTables.bootstrap4.min.css');\n        this.addCss(Core.path + 'lib/DataTables/Responsive-2.2.5/css/responsive.bootstrap4.min.css');\n        this.addCss(Core.path + 'lib/DataTables/Buttons-1.6.2/css/buttons.bootstrap4.min.css');\n        let jqueryDataTables = this.addScript(Core.path + 'lib/DataTables/DataTables-1.10.21/js/jquery.dataTables.min.js');\n        let dataTablesBootstrap4 = this.addScript(Core.path + 'lib/DataTables/DataTables-1.10.21/js/dataTables.bootstrap4.min.js', jqueryDataTables);\n        let dataTablesResponsive = this.addScript(Core.path + 'lib/DataTables/Responsive-2.2.5/js/dataTables.responsive.js', dataTablesBootstrap4);\n        this.addScript(Core.path + 'lib/DataTables/Responsive-2.2.5/js/responsive.bootstrap4.js', dataTablesResponsive);\n        let dataTablesButtons = this.addScript(Core.path + 'lib/DataTables/Buttons-1.6.2/js/dataTables.buttons.min.js', dataTablesBootstrap4);\n        let buttonsBootstrap4 = this.addScript(Core.path + 'lib/DataTables/Buttons-1.6.2/js/buttons.bootstrap4.min.js', dataTablesButtons);\n        let buttons = this.addScript(Core.path + 'lib/DataTables/Buttons-1.6.2/js/buttons.flash.min.js', buttonsBootstrap4);\n        this.addScript(Core.path + 'lib/DataTables/JSZip-2.5.0/jszip.min.js', buttons);\n        let pdfmake = this.addScript(Core.path + 'lib/DataTables/pdfmake-0.1.36/pdfmake.min.js', buttons);\n        this.addScript(Core.path + 'lib/DataTables/pdfmake-0.1.36/vfs_fonts.js', pdfmake);\n        this.addScript(Core.path + 'lib/DataTables/Buttons-1.6.2/js/buttons.html5.min.js', buttons);\n        this.addScript(Core.path + 'lib/DataTables/Buttons-1.6.2/js/buttons.print.min.js', buttons);\n    }\n    /**\n     * This function parses colStyle option and build the parameter ColumnDef of DataTable\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {string} codeStyle\n     * @param {number} noCols\n     * @returns {Array<any>}\n     */\n    static buildColumnDefs(codeStyle, noCols) {\n        // noinspection Annotator\n        let regex = / *col([0-9]+)\\_([a-zA-Z]+)\\_([^=;\\n]*) */ig;\n        let m;\n        let datasetColumnsDefs = [];\n        let datasetColumnsFunc;\n        let colOptions = [];\n        let optionCol;\n        let isModified;\n        // init\n        for (let c = 0; c < noCols; c++) {\n            colOptions[c] = [];\n            colOptions[c][DATATABLE_COL_OPTIONS.TAG] = '';\n            colOptions[c][DATATABLE_COL_OPTIONS.STYLE] = '';\n        }\n        // noinspection TsLint\n        while ((m = regex.exec(codeStyle)) !== null) {\n            // This is necessary to avoid infinite loops with zero-width matches\n            if (m.index === regex.lastIndex) {\n                regex.lastIndex++;\n            }\n            optionCol = parseInt(m[1], 10);\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.TAG] = m[2];\n            colOptions[optionCol][DATATABLE_COL_OPTIONS.STYLE] += m[3] + ';';\n        }\n        for (let c = 0; c < noCols; c++) {\n            isModified = true;\n            switch (colOptions[c][DATATABLE_COL_OPTIONS.TAG]) {\n                case 'img':\n                    datasetColumnsFunc = this.getFunctionColumnDefImg(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                case 'span':\n                    datasetColumnsFunc = this.getFunctionColumnDefSpan(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                /**/\n                case 'video':\n                    datasetColumnsFunc = this.getFunctionColumnDefVideo(colOptions[c][DATATABLE_COL_OPTIONS.STYLE]);\n                    break;\n                default:\n                    isModified = false;\n                    datasetColumnsFunc = this.getFunctionColumnDefDefault();\n            }\n            // noinspection TsLint\n            datasetColumnsDefs[c] = {\n                'targets': c,\n                // \"data\": \"description\",\n                'render': datasetColumnsFunc,\n                'isModified': isModified\n            };\n        }\n        return datasetColumnsDefs;\n    }\n    static getFunctionColumnDefDefault() {\n        return (function (data, type, full, meta) {\n            return data;\n        });\n    }\n    static getFunctionColumnDefImg(style) {\n        return (function (data, type, full, meta) {\n            return '<img src=\"' + data + '\"  style=\"' + style + '\"\\>';\n        });\n    }\n    static getFunctionColumnDefVideo(style) {\n        return (function (data, type, full, meta) {\n            let youtubePattern = new RegExp('youtu');\n            let facebookPattern = new RegExp('facebook');\n            let mediawikiPattern = new RegExp('commons\\.wikimedia\\.org');\n            if (youtubePattern.test(data)) {\n                let url = data.replace('watch?v=', 'embed/');\n                return '<iframe  style=\"' + style + '\" src=\"' + url + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n            else if (facebookPattern.test(data)) {\n                //data = 'https://www.facebook.com/XXXX/videos/XXXXX/' // example\n                //doc https://developers.facebook.com/docs/plugins/embedded-video-player\n                return '<iframe src=\"https://www.facebook.com/plugins/video.php?href=' + encodeURIComponent(data) + '&show_text=0&width=560\" style=\"border:none;overflow:hidden;' + style + '\" scrolling=\"no\" frameborder=\"0\" allowTransparency=\"true\" allowFullScreen=\"true\"></iframe>';\n            }\n            else if (mediawikiPattern.test(data)) {\n                //data = 'https://commons.wikimedia.org/wiki/File%3AAuguste_%26_Louis_Lumi%C3%A8re-_L'Arroseur_arros%C3%A9_(1895).webm' // example\n                //return '<iframe src=\"' + data + '?embedplayer=false\" style=\"' + style + '\" frameborder=\"0\" allowfullscreen></iframe>'\n                //doc http://html5video.org/wiki/Rewriting_HTML5_Media_Elements\n                return '<video controls style=\"' + style + '\"><source src=\"' + data + '\"></video>';\n            }\n            else {\n                return '<iframe  style=\"' + style + '\" src=\"' + data + '\" meta http-equiv=\"X-Frame-Options\" content=\"allow\" frameborder=\"0\" allowfullscreen></iframe>';\n            }\n        });\n    }\n    static getFunctionColumnDefSpan(style) {\n        return (function (data, type, full, meta) {\n            return '<span style=\"' + style + '\"\\>' + data + '</span>';\n        });\n    }\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'DataTable';\n    }\n    get subtext() {\n        return 'DataTable';\n    }\n    get classFullName() {\n        return 'bordercloud.visualization.DataTable';\n    }\n    get tutorialFilename() {\n        return 'tutorial-bordercloud_visualization_DataTable.html';\n    }\n    /**\n     * Draw a chart\n     * Available options:\n     * - 'class' :  css class (default: \"table table-striped table-bordered\")\n     * - 'cellspacing'   : cellspacing of table  (default: \"0\")\n     * - 'width'   :  width (default: \"100%\")\n     * - 'colStyle'   :   (default: \"\")\n     *\n     * Example :\n     * \"colStyle=col2_img_max-width:250px;col2_img_border-radius:50%;col2_img_display:block;col2_img_margin:auto;col3_img_max-width:300px;col3_img_max-height:300px;col2_img_opacity:0.5\"\n     *\n     * @param {SparqlResultInterface} result\n     * @returns {Promise< any >}\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // precondition\n            let obj = document.getElementById(currentChart.container.id);\n            if (!obj) {\n                Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART_UNKNOWN, [currentChart.container.id]);\n                return resolve();\n            }\n            try {\n                const optionsDateTime = { hour: 'numeric', minute: 'numeric', second: 'numeric' };\n                let lang = currentChart.container.lang;\n                let cols = result.head.vars;\n                let rows = result.results.bindings;\n                let row;\n                let datasetRow;\n                let noCols = cols.length;\n                let noRows = rows.length;\n                let idChart = currentChart.container.id + '-datatable';\n                let datasetColumns = [];\n                let datasetColumnsDefs;\n                let dataset = [];\n                let tableElement = document.createElement('table');\n                let tableId = document.createAttribute('id');\n                let tableClass = document.createAttribute('class');\n                let tableCellSpacing = document.createAttribute('cellspacing');\n                let tableWidth = document.createAttribute('width');\n                let opt = Object.assign({\n                    'class': 'table table-striped table-bordered',\n                    'cellspacing': '0',\n                    'width': '100%',\n                    'colstyle': undefined\n                }, currentChart.options);\n                for (let c = 0; c < noCols; c++) {\n                    datasetColumns[c] = { title: cols[c].replace(\"_\", \" \") };\n                }\n                if (opt.colstyle !== undefined) {\n                    datasetColumnsDefs = DataTable.buildColumnDefs(opt.colstyle, noCols);\n                }\n                for (let r = 0; r < noRows; r++) {\n                    row = rows[r];\n                    datasetRow = [];\n                    // loop cells\n                    for (let c = 0; c < noCols; c += 1) {\n                        if (row[cols[c]] !== undefined) {\n                            if (datasetColumnsDefs === undefined || !datasetColumnsDefs[c].isModified) {\n                                if (row[cols[c]].type === \"uri\") {\n                                    datasetRow[c] = '<a href=\"' + row[cols[c]].value + '\" target=\"_blank\">' + row[cols[c]].value + '</a>';\n                                }\n                                else { //litteral\n                                    switch (row[cols[c]].datatype) {\n                                        case 'http://www.w3.org/2001/XMLSchema#dateTime':\n                                            datasetRow[c] = (new Date(row[cols[c]].value)).toLocaleDateString(lang, optionsDateTime);\n                                            break;\n                                        case 'http://www.w3.org/2001/XMLSchema#date':\n                                            datasetRow[c] = (new Date(row[cols[c]].value)).toLocaleDateString(lang);\n                                            break;\n                                        default:\n                                            datasetRow[c] = row[cols[c]].value;\n                                    }\n                                }\n                            }\n                            else {\n                                datasetRow[c] = row[cols[c]].value;\n                            }\n                        }\n                        else {\n                            datasetRow[c] = '';\n                        }\n                    }\n                    dataset[r] = datasetRow;\n                }\n                tableId.value = idChart;\n                tableClass.value = opt.class;\n                tableCellSpacing.value = opt.cellspacing;\n                tableWidth.value = opt.width;\n                tableElement.setAttributeNode(tableId);\n                tableElement.setAttributeNode(tableClass);\n                tableElement.setAttributeNode(tableCellSpacing);\n                tableElement.setAttributeNode(tableWidth);\n                obj.appendChild(tableElement);\n                $.fn.dataTable.Buttons.defaults.dom.button.className = \"btn btn-outline-dark btn-sm\";\n                $('#' + idChart).DataTable({\n                    bSort: false,\n                    data: dataset,\n                    columns: datasetColumns,\n                    columnDefs: datasetColumnsDefs,\n                    dom: \"<'row'<'col'B><'col-auto'l><'col-sm-6'f>>\" + \"<'row'<'col-sm-12'tr>>\" + \"<'row'<'col-sm-5'i><'col-sm-7'p>>\",\n                    buttons: [\n                        {\n                            extend: 'csv',\n                            text: '<i class=\"fas fa-lg fa-file-csv align-text-bottom\"></i>',\n                            titleAttr: 'CSV'\n                        },\n                        {\n                            extend: 'pdf',\n                            text: '<i class=\"fas fa-lg fa-file-pdf align-text-bottom\"></i>',\n                            titleAttr: 'PDF'\n                        },\n                        {\n                            extend: 'print',\n                            text: '<i class=\"fas fa-lg fa-print align-text-bottom\"></i>',\n                            titleAttr: 'print'\n                        }\n                    ],\n                    \"language\": DataTable.geti18n(lang)\n                });\n            }\n            catch (e) {\n                return reject(e);\n            }\n            // finish\n            return resolve();\n        });\n    }\n    static geti18n(lang) {\n        switch (lang) {\n            case 'fr':\n                return {\n                    \"sProcessing\": \"Traitement en cours...\",\n                    \"sSearch\": \"Rechercher&nbsp;:\",\n                    \"sLengthMenu\": \"Afficher _MENU_ &eacute;l&eacute;ments\",\n                    \"sInfo\": \"Affichage de l'&eacute;l&eacute;ment _START_ &agrave; _END_ sur _TOTAL_ &eacute;l&eacute;ments\",\n                    \"sInfoEmpty\": \"Affichage de l'&eacute;l&eacute;ment 0 &agrave; 0 sur 0 &eacute;l&eacute;ment\",\n                    \"sInfoFiltered\": \"(filtr&eacute; de _MAX_ &eacute;l&eacute;ments au total)\",\n                    \"sInfoPostFix\": \"\",\n                    \"sLoadingRecords\": \"Chargement en cours...\",\n                    \"sZeroRecords\": \"Aucun &eacute;l&eacute;ment &agrave; afficher\",\n                    \"sEmptyTable\": \"Aucune donn&eacute;e disponible dans le tableau\",\n                    \"oPaginate\": {\n                        \"sFirst\": \"Premier\",\n                        \"sPrevious\": \"Pr&eacute;c&eacute;dent\",\n                        \"sNext\": \"Suivant\",\n                        \"sLast\": \"Dernier\"\n                    },\n                    \"oAria\": {\n                        \"sSortAscending\": \": activer pour trier la colonne par ordre croissant\",\n                        \"sSortDescending\": \": activer pour trier la colonne par ordre d&eacute;croissant\"\n                    }\n                };\n            default: //en\n                return {\n                    \"sEmptyTable\": \"No data available in table\",\n                    \"sInfo\": \"Showing _START_ to _END_ of _TOTAL_ entries\",\n                    \"sInfoEmpty\": \"Showing 0 to 0 of 0 entries\",\n                    \"sInfoFiltered\": \"(filtered from _MAX_ total entries)\",\n                    \"sInfoPostFix\": \"\",\n                    \"sInfoThousands\": \",\",\n                    \"sLengthMenu\": \"Show _MENU_ entries\",\n                    \"sLoadingRecords\": \"Loading...\",\n                    \"sProcessing\": \"Processing...\",\n                    \"sSearch\": \"Search:\",\n                    \"sZeroRecords\": \"No matching records found\",\n                    \"oPaginate\": {\n                        \"sFirst\": \"First\",\n                        \"sLast\": \"Last\",\n                        \"sNext\": \"Next\",\n                        \"sPrevious\": \"Previous\"\n                    },\n                    \"oAria\": {\n                        \"sSortAscending\": \": activate to sort column ascending\",\n                        \"sSortDescending\": \": activate to sort column descending\"\n                    }\n                };\n        }\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YVRhYmxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2JvcmRlcmNsb3VkL3Zpc3VhbGl6YXRpb24vRGF0YVRhYmxlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxJQUFJLEVBQ0osS0FBSyxFQUVMLFFBQVEsRUFDUixNQUFNLEVBQ1QsTUFBTSxnQkFBZ0IsQ0FBQTtBQUl2Qjs7OztHQUlHO0FBQ0gsSUFBSyxxQkFHSjtBQUhELFdBQUsscUJBQXFCO0lBQ3RCLCtEQUFHLENBQUE7SUFDSCxtRUFBSyxDQUFBO0FBQ1QsQ0FBQyxFQUhJLHFCQUFxQixLQUFyQixxQkFBcUIsUUFHekI7QUFFRDs7Ozs7O0dBTUc7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLEtBQUs7SUFFaEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxxRUFBcUUsQ0FBQyxDQUFBO1FBQzlGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyxtRUFBbUUsQ0FBQyxDQUFBO1FBQzVGLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyw2REFBNkQsQ0FBQyxDQUFBO1FBRXRGLElBQUksZ0JBQWdCLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLCtEQUErRCxDQUFDLENBQUE7UUFDbEgsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUVBQW1FLEVBQUMsZ0JBQWdCLENBQUMsQ0FBQTtRQUMzSSxJQUFJLG9CQUFvQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBRyw2REFBNkQsRUFBQyxvQkFBb0IsQ0FBQyxDQUFBO1FBQ3pJLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUks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","import { Core, Chart, MESSAGES, Logger, Tools } from '../../sgvizler';\n/**\n * This table uses <a href=\"https://pivottable.js.org/examples/\">PivotTable.js</a>.\n *\n * @class bordercloud.visualization.PivotTable\n * @memberof bordercloud.visualization\n */\nexport class PivotTable extends Chart {\n    //private _pivotUIOptions:any = null;\n    constructor() {\n        super();\n        // let lang = this.container.lang\n        this.addCss(Core.path + 'lib/pivottable/dist/pivot.min.css');\n        this.addCss(Core.path + 'lib/jquery-ui/jquery-ui.min.css');\n        this.addCss(Core.path + 'lib/c3/c3.min.css');\n        let dep = this.addScript(Core.path + 'lib/jquery-ui/jquery-ui.min.js');\n        let touch = this.addScript(Core.path + 'lib/jquery-ui.touch-punch/jquery.ui.touch-punch.min.js', dep);\n        let pivot = this.addScript(Core.path + 'lib/pivottable/dist/pivot.min.js', touch);\n        let plotly = this.addScript(Core.path + 'lib/plotly/plotly-latest.min.js', pivot);\n        this.addScript(Core.path + 'lib/pivottable/dist/plotly_renderers.js', plotly);\n        let d3 = this.addScript(Core.path + 'lib/d3/d3.min.js', pivot);\n        let c3 = this.addScript(Core.path + 'lib/c3/c3.min.js', d3);\n        this.addScript(Core.path + 'lib/pivottable/dist/d3_renderers.js', d3);\n        this.addScript(Core.path + 'lib/pivottable/dist/c3_renderers.js', c3);\n        this.addScript(Core.path + 'lib/pivottable/dist/export_renderers.js', pivot);\n        let gchart = this.addScript('https://www.gstatic.com/charts/loader.js', pivot);\n        this.addScript(Core.path + 'lib/pivottable/dist/gchart_renderers.js', gchart);\n        this.addScript(Core.path + 'lib/pivottable/dist/pivot.fr.min.js', pivot);\n    }\n    static init() {\n        google.load(\"visualization\", \"1\", { packages: [\"corechart\", \"charteditor\"] });\n        PivotTable._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'PivotTable';\n    }\n    get subtext() {\n        return 'PivotTable';\n    }\n    get classFullName() {\n        return 'bordercloud.visualization.PivotTable';\n    }\n    get tutorialFilename() {\n        return 'tutorial-bordercloud_visualization_PivotTable.html';\n    }\n    /**\n     * Draw a chart\n     * Options are interactives\n     *\n     * @param {SparqlResultInterface} result\n     * @returns {Promise< any >}\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            try {\n                let obj = document.getElementById(currentChart.container.id);\n                if (!obj) {\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART_UNKNOWN, [currentChart.container.id]);\n                    return resolve();\n                }\n                let lang = currentChart.container.lang;\n                let cols = result.head.vars;\n                let rows = result.results.bindings;\n                let row;\n                let datasetRow;\n                let noCols = cols.length;\n                let noRows = rows.length;\n                let idContainer = currentChart.container.id;\n                let idChart = currentChart.container.id + '-pivot';\n                let dataset = [];\n                let idSwith = currentChart.container.id + '-showUI';\n                let divElement = document.createElement('div');\n                let divId = document.createAttribute('id');\n                let defaultOptions = {\n                    renderers: $.extend($.pivotUtilities.renderers, $.pivotUtilities.plotly_renderers, $.pivotUtilities.d3_renderers, $.pivotUtilities.c3_renderers, $.pivotUtilities.gchart_renderers, $.pivotUtilities.export_renderers),\n                    rendererOptions: {\n                        width: Tools.sizeConvertInteger(currentChart.width),\n                        height: Tools.sizeConvertInteger(currentChart.height)\n                    }\n                };\n                let pivotUIOptions = null;\n                divId.value = idChart;\n                divElement.setAttributeNode(divId);\n                obj.appendChild(divElement);\n                for (let r = 0; r < noRows; r++) {\n                    row = rows[r];\n                    datasetRow = {};\n                    // loop cells\n                    for (let c = 0; c < noCols; c += 1) {\n                        datasetRow[cols[c]] = row[cols[c]] !== undefined ? row[cols[c]].value : null;\n                    }\n                    dataset[r] = datasetRow;\n                }\n                try {\n                    pivotUIOptions = JSON.parse(currentChart.optionsRaw);\n                }\n                catch (e) {\n                    pivotUIOptions = {};\n                }\n                let config = Object.assign(pivotUIOptions, defaultOptions);\n                $('#' + idChart).pivotUI(dataset, config, true, lang);\n                let txtchecked = (config.showUI === true || config.showUI === undefined) ? \"checked\" : \"\";\n                $('#' + idContainer).prepend(\"<div class=\\\"custom-control custom-switch float-right\\\"\" +\n                    \"style='z-index: 2; right: 0;'>\\n\" + //position: absolute;\n                    \"  <input type=\\\"checkbox\\\" class=\\\"custom-control-input\\\" id=\\\"\" + idSwith + \"\\\" \" + txtchecked + \">\\n\" +\n                    \"  <label class=\\\"custom-control-label\\\" for=\\\"\" + idSwith + \"\\\"> </label>\\n\" +\n                    \"</div>\");\n                $('#' + idSwith).on(\"change\", function () {\n                    let config = $('#' + idChart).data(\"pivotUIOptions\");\n                    config.showUI = this.checked;\n                    $('#' + idChart).pivotUI(dataset, config, true, lang);\n                });\n            }\n            catch (e) {\n                return reject(e);\n            }\n            // finish\n            return resolve();\n        });\n    }\n    get newOptionsRaw() {\n        let idChart = this.container.id + '-pivot';\n        var config = $('#' + idChart).data(\"pivotUIOptions\");\n        return JSON.stringify(config, ['rowOrder', 'rows', 'cols', 'aggregatorName', 'vals', 'rendererName', 'showUI']);\n    }\n}\nPivotTable._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGl2b3RUYWJsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9ib3JkZXJjbG91ZC92aXN1YWxpemF0aW9uL1Bpdm90VGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILElBQUksRUFDSixLQUFLLEVBRUwsUUFBUSxFQUNSLE1BQU0sRUFDTixLQUFLLEVBQ1IsTUFBTSxnQkFBZ0IsQ0FBQTtBQUl2Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxVQUFXLFNBQVEsS0FBSztJQUdqQyxxQ0FBcUM7SUFFckM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUVQLGlDQUFpQztRQUVqQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUNBQW1DLENBQUMsQ0FBQTtRQUM1RCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsaUNBQWlDLENBQUMsQ0FBQTtRQUMxRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsbUJBQW1CLENBQUMsQ0FBQTtRQUU1QyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsZ0NBQWdDLENBQUMsQ0FBQTtRQUN0RSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0RBQXdELEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDcEcsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGtDQUFrQyxFQUFDLEtBQUssQ0FBQyxDQUFBO1FBRWhGLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksR0FBSSxpQ0FBaUMsRUFBQyxLQUFLLENBQUMsQ0FBQTtRQUNqRixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcs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","/**\n * @namespace bordercloud\n */\nimport * as visualizationNS from './bordercloud/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYm9yZGVyY2xvdWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYm9yZGVyY2xvdWQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLDZCQUE2QixDQUFBO0FBQzlELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","/**\n * Tools\n * @class google.Tools\n * @memberof google\n */\nexport class Tools {\n    static decodeFormatSize(value) {\n        let result = value;\n        if (Number.isNaN(Number(value))) {\n            let patternPercent = /%/gi;\n            let patternPixel = /px/gi;\n            if (result.search(patternPixel) >= 0) {\n                result = result.replace('px', '');\n                if (!Number.isNaN(Number(result))) {\n                    result = Number(result);\n                }\n            }\n            else if (result.search(patternPercent) >= 0) {\n                // do nothing\n            }\n        }\n        return result;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVG9vbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvZ29vZ2xlL1Rvb2xzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sS0FBSztJQUNQLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBRSxLQUFVO1FBQ3RDLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQTtRQUNsQixJQUFJLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUU7WUFDN0IsSUFBSSxjQUFjLEdBQUcsS0FBSyxDQUFBO1lBQzFCLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQTtZQUV6QixJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxFQUFFO2dCQUNsQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUE7Z0JBQ2pDLElBQUksQ0FBRSxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFO29CQUNoQyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2lCQUMxQjthQUNKO2lCQUFNLElBQUksTUFBTSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0JBQzNDLGFBQWE7YUFDaEI7U0FDSjtRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7Q0FDSiJ9","/**\n * Data\n * @class google.Data\n * @memberof google.Data\n */\nexport class Data {\n    constructor(result, raw = false) {\n        if (raw) {\n            this.convertResultRaw(result);\n        }\n        else {\n            this.convertResult(result);\n        }\n    }\n    setRole(col, role) {\n        this._dataTable.setColumnProperty(col, 'role', role);\n    }\n    getDataTable() {\n        return this._dataTable;\n    }\n    convertResult(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            // RDF Term\tJSON form\n            // IRI I\t{\"type\": \"uri\", \"value\": \"I\"}\n            // Literal S\t{\"type\": \"literal\",\"value\": \"S\"}\n            // Literal S with language tag L\t{ \"type\": \"literal\", \"value\": \"S\", \"xml:lang\": \"L\"}\n            // Literal S with datatype IRI D\t{ \"type\": \"literal\", \"value\": \"S\", \"datatype\": \"D\"}\n            // Blank node, label B\t{\"type\": \"bnode\", \"value\": \"B\"}\n            let colName = col.replace('_', ' ');\n            if (noRows > 0) {\n                let type = rows[0][col] !== undefined ? rows[0][col].datatype : '';\n                if (type === 'http://www.w3.org/2001/XMLSchema#decimal' ||\n                    type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                    data.addColumn('number', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                    data.addColumn('boolean', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                    data.addColumn('date', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                    data.addColumn('datetime', colName);\n                }\n                else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                    data.addColumn('timeofday', colName);\n                }\n                else {\n                    data.addColumn('string', colName);\n                }\n            }\n            else {\n                data.addColumn('string', colName);\n            }\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    // data.setCell(x,y,rows[x][cols[y]].value)\n                    let type = rows[x][cols[y]] !== undefined && rows[x][cols[y]].hasOwnProperty('datatype') ? rows[x][cols[y]].datatype : '';\n                    if (type === 'http://www.w3.org/2001/XMLSchema#integer') {\n                        data.setCell(x, y, parseInt(rows[x][cols[y]].value, 10));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#decimal' || type === 'http://www.w3.org/2001/XMLSchema#float') {\n                        data.setCell(x, y, parseFloat(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#boolean') {\n                        // todo test\n                        // 'boolean' - JavaScript boolean value ('true' or 'false'). Example value: v:'true'\n                        data.setCell(x, y, rows[x][cols[y]].value === 'true' ? true : false);\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#date') {\n                        // todo test\n                        // 'date' - JavaScript Date object (zero-based month), with the time truncated. Example value: v:new Date(2008, 0, 15)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#dateTime') {\n                        // todo test\n                        // 'datetime' - JavaScript Date object including the time. Example value: v:new Date(2008, 0, 15, 14, 30, 45)\n                        data.setCell(x, y, new Date(rows[x][cols[y]].value));\n                    }\n                    else if (type === 'http://www.w3.org/2001/XMLSchema#time') {\n                        // todo test\n                        // 'timeofday' - Array of three numbers and an optional fourth, representing hour (0 indicates midnight), minute, second, and optional millisecond. Example values: v:[8, 15, 0], v: [6, 12, 1, 144]\n                        let time = new Date(rows[x][cols[y]].value);\n                        data.setCell(x, y, [time.getHours(), time.getHours(), time.getSeconds(), time.getMilliseconds()]);\n                    }\n                    else {\n                        if (rows[x][cols[y]] === undefined) {\n                            data.setCell(x, y, null);\n                        }\n                        else {\n                            // 'string' - JavaScript string value. Example value: v:'hello'\n                            //let value = rows[x][cols[y]] !== undefined ? rows[x][cols[y]].value : ''\n                            data.setCell(x, y, rows[x][cols[y]].value);\n                        }\n                    }\n                    // console.log('rows['+x+'][cols['+y+']].value = ' + rows[x][cols[y]].value + ' ' +\n                    // rows[x][cols[y]].datatype)\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n    convertResultRaw(result) {\n        let data = new google.visualization.DataTable();\n        let cols = result.head.vars;\n        let rows = result.results.bindings;\n        let noCols = cols.length;\n        let noRows = rows.length;\n        for (let col of cols) {\n            data.addColumn('string', col);\n        }\n        if (noRows > 0) {\n            data.addRows(noRows);\n            let i = 0;\n            for (let x = 0; x < noRows; x++) {\n                for (let y = 0; y < noCols; y++) {\n                    if (rows[x][cols[y]] === undefined) {\n                        data.setCell(x, y, '');\n                    }\n                    else {\n                        data.setCell(x, y, rows[x][cols[y]].value.toString());\n                    }\n                }\n            }\n        }\n        this._dataTable = data;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGF0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nb29nbGUvRGF0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFPQTs7OztHQUlHO0FBQ0gsTUFBTSxPQUFPLElBQUk7SUFJYixZQUFhLE1BQTZCLEVBQUUsTUFBZSxLQUFLO1FBQzVELElBQUksR0FBRyxFQUFFO1lBQ0wsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQ2hDO2FBQU07WUFDSCxJQUFJLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1NBQzdCO0lBQ0wsQ0FBQztJQUVELE9BQU8sQ0FBRSxHQUFXLEVBQUUsSUFBWTtRQUM5QixJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsRUFBRSxNQUFNLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDeEQsQ0FBQztJQUVELFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDMUIsQ0FBQztJQUVPLGFBQWEsQ0FBRSxNQUE2QjtRQUNoRCxJQUFJLElBQUksR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsU0FBUyxFQUFFLENBQUE7UUFFL0MsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7UUFDM0IsSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUE7UUFDbEMsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtRQUN4QixJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBRXhCLEtBQUssSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFO1lBQ2xCLHFCQUFxQjtZQUNyQixzQ0FBc0M7WUFDdEMsNkNBQTZDO1lBQzdDLG9GQUFvRjtZQUNwRixvRkFBb0Y7WUFDcEYsc0RBQXNEO1lBQ3RELElBQUksT0FBTyxHQUFHLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFD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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AnnotationChart\n * @class google.visualization.AnnotationChart\n * @tutorial google_visualization_AnnotationChart\n * @memberof google.visualization\n */\nexport class AnnotationChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['annotationchart'] });\n        AnnotationChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'AnnotationChart';\n    }\n    get subtext() {\n        return 'AnnotationChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AnnotationChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AnnotationChart.html';\n    }\n    /**\n     * Make a standard simple html AnnotationChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf AnnotationChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!AnnotationChart._isInit) {\n                AnnotationChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let AnnotationChart = new google.visualization.AnnotationChart(document.getElementById(currentChart.container.id));\n                    AnnotationChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAnnotationChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQW5ub3RhdGlvbkNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0Fubm90YXRpb25DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLGVBQWdCLFNBQVEsS0FBSztJQUd0QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLGlCQUFpQixDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ2hFLGVBQWUsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGlCQUFpQixDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGlCQUFpQixDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxzQ0FBc0MsQ0FBQTtJQUNqRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxvREFBb0QsQ0FBQTtJQUMvRCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsZUFBZSxDQUFDLE9BQU8sRUFBRTtnQkFDM0IsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3pCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksZUFBZSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ2xILGVBQWUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUNqRDtnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyx1QkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo AreaChart\n * @class google.visualization.AreaChart\n * @tutorial google_visualization_AreaChart\n * @memberof google.visualization\n */\nexport class AreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        AreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_AreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!AreaChart._isInit) {\n                AreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let areaChart = new google.visualization.AreaChart(document.getElementById(currentChart.container.id));\n                    areaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0FyZWFDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDdEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzNDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BarChart\n * @class google.visualization.BarChart\n * @tutorial google_visualization_BarChart\n * @memberof google.visualization\n */\nexport class BarChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        BarChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-align-left';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BarChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!BarChart._isInit) {\n                BarChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BarChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBarChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQmFyQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDakUsUUFBUSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDM0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNqRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDdkM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQUMsQ0FBQTtZQUNOLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFoRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo BubbleChart\n * @class google.visualization.BubbleChart\n * @tutorial google_visualization_BubbleChart\n * @memberof google.visualization\n */\nexport class BubbleChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        BubbleChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-circle';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'google.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_BubbleChart.html';\n    }\n    /**\n     * Make a standard simple html bubbleChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf BubbleChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!BubbleChart._isInit) {\n                BubbleChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.BubbleChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nBubbleChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQnViYmxlQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxXQUFXLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sa0NBQWtDLENBQUE7SUFDN0MsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sZ0RBQWdELENBQUE7SUFDM0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFdBQVcsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3ZCLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNyQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNuRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDeEM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQUMsQ0FBQTtZQUNOLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFoRmMsbUJBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Calendar\n * @class google.visualization.Calendar\n * @tutorial google_visualization_Calendar\n * @memberof google.visualization\n */\nexport class Calendar extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['calendar'] });\n        Calendar._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-calendar';\n    }\n    get label() {\n        return 'Calendar';\n    }\n    get subtext() {\n        return 'Calendar';\n    }\n    get classFullName() {\n        return 'google.visualization.Calendar';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Calendar.html';\n    }\n    /**\n     * Make a standard simple html Calendar.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Calendar\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Calendar._isInit) {\n                Calendar.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let calendar = new google.visualization.Calendar(document.getElementById(currentChart.container.id));\n                    calendar.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCalendar._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FsZW5kYXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ2FsZW5kYXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxnQkFBZ0IsQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw2Q0FBNkMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDcEIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2xCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN6QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES, Messages } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo CandlestickChart\n * @class google.visualization.CandlestickChart\n * @tutorial google_visualization_CandlestickChart\n * @memberof google.visualization\n */\nexport class CandlestickChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        CandlestickChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'CandlestickChart';\n    }\n    get subtext() {\n        return 'CandlestickChart';\n    }\n    get classFullName() {\n        return 'google.visualization.CandlestickChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_CandlestickChart.html';\n    }\n    /**\n     * Make a standard simple html CandlestickChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf CandlestickChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // console.log(noCols + \" x \" + noRows)\n            if (result.results.bindings.length === 0) {\n                return reject(Messages.get(MESSAGES.ERROR_DATA_NOROW));\n            }\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!CandlestickChart._isInit) {\n                CandlestickChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let candlestickChart = new google.visualization.CandlestickChart(document.getElementById(currentChart.container.id));\n                    candlestickChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nCandlestickChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2FuZGxlc3RpY2tDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9DYW5kbGVzdGlja0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQ0wsTUFBTSxFQUNOLFFBQVEsRUFDUixRQUFRLEVBRVgsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsS0FBSztJQUd2QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ25DLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1Q0FBdUMsQ0FBQTtJQUNsRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUc7Z0JBQ3ZDLE9BQU8sTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQTthQUN6RDtZQUVELElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLGdCQUFnQixDQUFDLE9BQU8sRUFBRTtnQkFDNUIsZ0JBQWdCLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDMUI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxnQkFBZ0IsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JILGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ2pEO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBcEZjLHdCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ColumnChart\n * @class google.visualization.ColumnChart\n * @tutorial google_visualization_ColumnChart\n * @memberof google.visualization\n */\nexport class ColumnChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'bar'] });\n        ColumnChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-bar';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ColumnChart.html';\n    }\n    /**\n     * Make a standard simple html ColumnChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                reverseCategories: false\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ColumnChart._isInit) {\n                ColumnChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let ColumnChart = new google.visualization.ColumnChart(document.getElementById(currentChart.container.id));\n                    ColumnChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nColumnChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vQ29sdW1uQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxXQUFZLFNBQVEsS0FBSztJQUdsQztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDakUsV0FBVyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDOUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sa0NBQWtDLENBQUE7SUFDN0MsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sZ0RBQWdELENBQUE7SUFDM0QsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGlCQUFpQixFQUFFLEtBQUs7YUFDM0IsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsV0FBVyxDQUFDLE9BQU8sRUFBRTtnQkFDdkIsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3JCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksV0FBVyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQzFHLFdBQVcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUM3QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxtQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ComboChart\n * @class google.visualization.ComboChart\n * @tutorial google_visualization_ComboChart\n * @memberof google.visualization\n */\nexport class ComboChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ComboChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-signal';\n    }\n    get label() {\n        return 'ComboChart';\n    }\n    get subtext() {\n        return 'ComboChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ComboChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ComboChart.html';\n    }\n    /**\n     * Make a standard simple html ComboChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ComboChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ComboChart._isInit) {\n                ComboChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let comboChart = new google.visualization.ComboChart(document.getElementById(currentChart.container.id));\n                    comboChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nComboChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tYm9DaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9Db21ib0NoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sVUFBVyxTQUFRLEtBQUs7SUFHakM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUQsVUFBVSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFlBQVksQ0FBQTtJQUN2QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxZQUFZLENBQUE7SUFDdkIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGlDQUFpQyxDQUFBO0lBQzVDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLCtDQUErQyxDQUFBO0lBQzFELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxVQUFVLENBQUMsT0FBTyxFQUFFO2dCQUN0QixVQUFVLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDcEI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxVQUFVLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDeEcsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzVDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGtCQUFPLEdBQVksS0FBSyxDQUFBIn0=","/**\n * Todo API\n * @class google.API\n * @memberof google\n */\nexport class API {\n    /**\n     * todo\n     * @returns {string}\n     */\n    static get key() {\n        return this._key;\n    }\n    /**\n     * todo\n     * @param {string} value\n     */\n    static set key(value) {\n        this._key = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._key = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2dvb2dsZS9BUEkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUNILE1BQU0sT0FBTyxHQUFHO0lBQ1o7OztPQUdHO0lBQ0gsTUFBTSxLQUFLLEdBQUc7UUFDVixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDcEIsQ0FBQztJQUVEOzs7T0FHRztJQUNILE1BQU0sS0FBSyxHQUFHLENBQUUsS0FBYTtRQUN6QixJQUFJLENBQUMsSUFBSSxHQUFHLEtBQUssQ0FBQTtJQUNyQixDQUFDOztBQUVEOzs7O0dBSUc7QUFDWSxRQUFJLEdBQVcsRUFBRSxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\nimport { API } from '../API';\n/**\n * Todo GeoChart\n * @class google.visualization.GeoChart\n * @tutorial google_visualization_GeoChart\n * @memberof google.visualization\n */\nexport class GeoChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['geochart'], mapsApiKey: API.key });\n        GeoChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-globe';\n    }\n    get label() {\n        return 'GeoChart';\n    }\n    get subtext() {\n        return 'GeoChart';\n    }\n    get classFullName() {\n        return 'google.visualization.GeoChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_GeoChart.html';\n    }\n    /**\n     * Make a standard simple html geochart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf GeoChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!GeoChart._isInit) {\n                GeoChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let geochart = new google.visualization.GeoChart(document.getElementById(currentChart.container.id));\n                    geochart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nGeoChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VvQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vR2VvQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUM5QixPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFFBQVMsU0FBUSxLQUFLO0lBRy9CO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsVUFBVSxDQUFDLEVBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUMsQ0FBQyxDQUFBO1FBQzlFLFFBQVEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzNCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywrQkFBK0IsQ0FBQTtJQUMxQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw2Q0FBNkMsQ0FBQTtJQUN4RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsUUFBUSxDQUFDLE9BQU8sRUFBRTtnQkFDcEIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2xCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksUUFBUSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3BHLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUMxQztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWpGYyxnQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Histogram\n * @class google.visualization.Histogram\n * @tutorial google_visualization_Histogram\n * @memberof google.visualization\n */\nexport class Histogram extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Histogram._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'Histogram';\n    }\n    get subtext() {\n        return 'Histogram';\n    }\n    get classFullName() {\n        return 'google.visualization.Histogram';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Histogram.html';\n    }\n    /**\n     * Make a standard simple html Histogram.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Histogram\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Histogram._isInit) {\n                Histogram.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let histogram = new google.visualization.Histogram(document.getElementById(currentChart.container.id));\n                    histogram.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nHistogram._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSGlzdG9ncmFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0hpc3RvZ3JhbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxTQUFTLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDdEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQzNDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBakZjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo IntervalChart\n * @class google.visualization.IntervalChart\n * @tutorial google_visualization_IntervalChart\n * @memberof google.visualization\n */\nexport class IntervalChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        IntervalChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Interval';\n    }\n    get subtext() {\n        return 'Interval';\n    }\n    get classFullName() {\n        return 'google.visualization.IntervalChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_IntervalChart.html';\n    }\n    /**\n     * Draw a IntervalChart\n     * @memberOf IntervalChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!IntervalChart._isInit) {\n                IntervalChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let cols = result.head.vars;\n                    let noCols = cols.length;\n                    for (let y = 2; y < noCols; y++) {\n                        data.setRole(y, 'interval');\n                    }\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nIntervalChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50ZXJ2YWxDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9JbnRlcnZhbENoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sYUFBYyxTQUFRLEtBQUs7SUFHcEM7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxXQUFXLEVBQUMsTUFBTSxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQ2pFLGFBQWEsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ2hDLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLG9DQUFvQyxDQUFBO0lBQy9DLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLGtEQUFrRCxDQUFBO0lBQzdELENBQUM7SUFFRDs7Ozs7T0FLRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBRXhDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLGFBQWEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3pCLGFBQWEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUN2QjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtvQkFDM0IsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQTtvQkFFeEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTt3QkFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLEVBQUMsVUFBVSxDQUFDLENBQUE7cUJBQzdCO29CQUVELElBQUksSUFBSSxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ2pHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN0QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBQ0QsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQXBGYyxxQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo LineChart\n * @class google.visualization.LineChart\n * @tutorial google_visualization_LineChart\n * @memberof google.visualization\n */\nexport class LineChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart', 'line'] });\n        LineChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'google.visualization.LineChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_LineChart.html';\n    }\n    /**\n     * Draw a LineChart\n     * @memberOf LineChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = '500';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!LineChart._isInit) {\n                LineChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let line = new google.visualization.LineChart(document.getElementById(currentChart.container.id));\n                    line.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nLineChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL0xpbmVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxFQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUNqRSxTQUFTLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUM1QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxnQ0FBZ0MsQ0FBQTtJQUMzQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyw4Q0FBOEMsQ0FBQTtJQUN6RCxDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUV4QyxJQUFJLE1BQU0sR0FBRyxLQUFLLENBQUE7WUFDbEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ3BCLGtCQUFrQjthQUNyQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixlQUFlO1lBQ2YsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFO2dCQUNyQixLQUFLLEVBQUUsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUM7Z0JBQ2pELE1BQU0sRUFBRSxNQUFNO2FBQ2pCLENBQUMsQ0FBQTtZQUVGLElBQUksQ0FBRSxTQUFTLENBQUMsT0FBTyxFQUFFO2dCQUNyQixTQUFTLENBQUMsSUFBSSxFQUFFLENBQUE7YUFDbkI7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDakcsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3RDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0VjLGlCQUFPLEdBQVksS0FBSyxDQUFBIn0=","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class google.visualization.Map\n * @tutorial google_visualization_Map\n * @memberof google.visualization\n */\nexport class Map extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['map'], mapsApiKey: API.key });\n        Map._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'google.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Map.html';\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                showTooltip: false,\n                showInfoWindow: true,\n                enableScrollWheel: true\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            // fix bug in local\n            if (location.origin.startsWith('file:')) {\n                opt = Object.assign({\n                    icons: {\n                        default: {\n                            normal: 'https://maps.google.com/mapfiles/ms/micons/red-dot.png',\n                            selected: 'https://maps.google.com/mapfiles/ms/micons/blue-dot.png'\n                        }\n                    }\n                }, opt);\n            }\n            // init only one time\n            if (!Map._isInit) {\n                Map.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let messageError = '';\n                    let cols = result.head.vars;\n                    let rows = result.results.bindings;\n                    let noCols = cols.length;\n                    let noRows = rows.length;\n                    let lat;\n                    let long;\n                    let description;\n                    let data = new google.visualization.DataTable();\n                    if (noCols <= 2) {\n                        messageError = 'Parameters : latitude(xsd:Decimal) longitude(xsd:Decimal) title(xsd:string' +\n                            ' optional) introduction(xsd:string optional) link(IRI optional)';\n                    }\n                    else {\n                        let latitudeCol = 0;\n                        let longitudeCol = 1;\n                        let descriptionCol = 2;\n                        data.addColumn('number', latitudeCol);\n                        data.addColumn('number', longitudeCol);\n                        if (noCols > 2) {\n                            data.addColumn('string', descriptionCol);\n                        }\n                        data.addRows(noRows);\n                        for (let x = 0; x < noRows; x++) {\n                            lat = parseFloat(rows[x][cols[latitudeCol]].value);\n                            long = parseFloat(rows[x][cols[longitudeCol]].value);\n                            description = '';\n                            if (isNaN(lat) || isNaN(long)) {\n                                messageError = 'Latitude or longitude is not a decimal. Parameters of chart :' +\n                                    ' latitude(xsd:Decimal)' +\n                                    ' longitude(xsd:Decimal) title(xsd:string' +\n                                    ' optional) introduction(xsd:string optional) link(IRI optional). ';\n                                break;\n                            }\n                            if (noCols >= 6) {\n                                // latitude longitude title text link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? \"<p style='margin: 0px'>\" + rows[x][cols[3]].value + '</p>' : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a style='font-size: large;font-style: medium;' href='\" + rows[x][cols[4]].value + \"' target='_blank'>\" + title + '</a>' : title;\n                                let img = rows[x][cols[5]] !== undefined ? \"<img src='\" + rows[x][cols[5]].value + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/>\" : '';\n                                if (rows[x][cols[3]] === undefined || rows[x][cols[3]].value.length === 0) {\n                                    description = '<div style=\"display: flow-root;min-width: 150px;min-height:150px;\">' + link + '<div>' + img + '</div></div>';\n                                }\n                                else {\n                                    description = '<div style=\"display: flow-root;width: 350px;min-height:150px;\">' + link + '<div>' + img + text + '</div></div>';\n                                }\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 5) {\n                                // latitude longitude title introduction link\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                let link = rows[x][cols[4]] !== undefined ? \"<a href='\" + rows[x][cols[4]].value + \"'>\" + title + '</a>' : title;\n                                description = '<b>' + link + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 4) {\n                                // latitude longitude title introduction\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                let text = rows[x][cols[3]] !== undefined ? rows[x][cols[3]].value : '';\n                                description = '<b>' + title + '</b><br/>' + text;\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 3) {\n                                // latitude longitude title\n                                let title = rows[x][cols[2]] !== undefined ? rows[x][cols[2]].value : '';\n                                description = '<b>' + title + '</br>';\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                                data.setCell(x, descriptionCol, description);\n                            }\n                            else if (noCols === 2) {\n                                // latitude longitude\n                                data.setCell(x, latitudeCol, lat);\n                                data.setCell(x, longitudeCol, long);\n                            }\n                        }\n                    }\n                    if (messageError !== '') {\n                        return reject(Error(messageError));\n                    }\n                    let table = new google.visualization.Map(document.getElementById(currentChart.container.id));\n                    table.draw(data, opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL01hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUVoQyxPQUFPLEVBQUUsR0FBRyxFQUFFLE1BQU0sUUFBUSxDQUFBO0FBSTVCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBRzFCO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUcsVUFBVSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO1FBQzNFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx3Q0FBd0MsQ0FBQTtJQUNuRCxDQUFDO0lBRUQ7Ozs7OztPQU1HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FB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","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo OrgChart\n * @class google.visualization.OrgChart\n * @tutorial google_visualization_OrgChart\n * @memberof google.visualization\n */\nexport class OrgChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['orgchart'] });\n        OrgChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-sitemap';\n    }\n    get label() {\n        return 'OrgChart';\n    }\n    get subtext() {\n        return 'OrgChart';\n    }\n    get classFullName() {\n        return 'google.visualization.OrgChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_OrgChart.html';\n    }\n    /**\n     * Make a standard simple html OrgChart.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf OrgChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                allowHtml: true\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!OrgChart._isInit) {\n                OrgChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let orgChart = new google.visualization.OrgChart(document.getElementById(currentChart.container.id));\n                    orgChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nOrgChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiT3JnQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vT3JnQ2hhcnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxlQUFlLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLFNBQVMsRUFBRSxJQUFJO2FBQ2xCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDMUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Pie\n * @class google.visualization.Pie\n * @tutorial google_visualization_Pie\n * @memberof google.visualization\n */\nexport class Pie extends Chart {\n    constructor() {\n        super();\n        this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'google.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Pie.html';\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Pie._isInit = true;\n    }\n    /**\n     * Make a standard simple html pie.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Pie._isInit) {\n                Pie.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let Pie = new google.visualization.PieChart(document.getElementById(currentChart.container.id));\n                    Pie.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nPie._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1BpZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBdUIxQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQzlELENBQUM7SUF6QkQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxrQkFBa0IsQ0FBQTtJQUM3QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywwQkFBMEIsQ0FBQTtJQUNyQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx3Q0FBd0MsQ0FBQTtJQUNuRCxDQUFDO0lBU08sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBRSxVQUFVLEVBQUUsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDNUQsR0FBRyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDdEIsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLEdBQUcsQ0FBQyxPQUFPLEVBQUU7Z0JBQ2YsR0FBRyxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ2I7WUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLGlCQUFpQixDQUMzQixHQUFHLEVBQUU7Z0JBQ0QsSUFBSTtvQkFDQSxJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtvQkFDM0IsSUFBSSxHQUFHLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDL0YsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3JDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBN0RjLFdBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo ScatterChart\n * @class google.visualization.ScatterChart\n * @tutorial google_visualization_ScatterChart\n * @memberof google.visualization\n */\nexport class ScatterChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        ScatterChart._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-circle';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'google.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_ScatterChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!ScatterChart._isInit) {\n                ScatterChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nScatterChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1NjYXR0ZXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFlBQWEsU0FBUSxLQUFLO0lBR25DO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUMsQ0FBQyxDQUFBO1FBQzFELFlBQVksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQy9CLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxjQUFjLENBQUE7SUFDekIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyxtQ0FBbUMsQ0FBQTtJQUM5QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxpREFBaUQsQ0FBQTtJQUM1RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsWUFBWSxDQUFDLE9BQU8sRUFBRTtnQkFDeEIsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFBO2FBQ3RCO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7b0JBQzNCLElBQUksS0FBSyxHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7b0JBQ3JHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRSxFQUFFLEdBQUcsQ0FBQyxDQUFBO2lCQUN2QztnQkFBQyxPQUFPLEtBQUssRUFBRTtvQkFDWixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO29CQUNsQixNQUFNLENBQUMsZUFBZSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsUUFBUSxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7b0JBQzdFLE1BQU0sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQyw4QkFBOEIsR0FBRyxZQUFZLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxDQUFBO2lCQUNoRztZQUNMLENBQUMsQ0FDSixDQUFBO1lBRUQsU0FBUztZQUNULE9BQU8sT0FBTyxFQUFFLENBQUE7UUFDcEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDOztBQWxGYyxvQkFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo SteppedAreaChart\n * @class google.visualization.SteppedAreaChart\n * @tutorial google_visualization_SteppedAreaChart\n * @memberof google.visualization\n */\nexport class SteppedAreaChart extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        SteppedAreaChart._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'SteppedAreaChart';\n    }\n    get subtext() {\n        return 'SteppedAreaChart';\n    }\n    get classFullName() {\n        return 'google.visualization.SteppedAreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_SteppedAreaChart.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!SteppedAreaChart._isInit) {\n                SteppedAreaChart.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let steppedAreaChart = new google.visualization.SteppedAreaChart(document.getElementById(currentChart.container.id));\n                    steppedAreaChart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nSteppedAreaChart._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3RlcHBlZEFyZWFDaGFydC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9TdGVwcGVkQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sZ0JBQWlCLFNBQVEsS0FBSztJQUd2QztRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUMxRCxnQkFBZ0IsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQ25DLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGtCQUFrQixDQUFBO0lBQzdCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1Q0FBdUMsQ0FBQTtJQUNsRCxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxREFBcUQsQ0FBQTtJQUNoRSxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxNQUFNLEdBQUcsR0FBRyxDQUFBO1lBQ2hCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2FBQ3ZEO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztZQUNwQixrQkFBa0I7YUFDckIsRUFBRSxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7WUFFeEIsZUFBZTtZQUNmLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDckIsS0FBSyxFQUFFLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO2dCQUNqRCxNQUFNLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUE7WUFFRixJQUFJLENBQUUsZ0JBQWdCLENBQUMsT0FBTyxFQUFFO2dCQUM1QixnQkFBZ0IsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUMxQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLGdCQUFnQixHQUFHLElBQUksTUFBTSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDcEgsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDbEQ7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsd0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Table\n * @class google.visualization.Table\n * @tutorial google_visualization_Table\n * @memberof google.visualization\n */\nexport class Table extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['table'] });\n        Table._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-table';\n    }\n    get label() {\n        return 'Table';\n    }\n    get subtext() {\n        return 'Table';\n    }\n    get classFullName() {\n        return 'google.visualization.Table';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Table.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = '100%';\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                raw: true,\n                showRowNumber: false\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Table._isInit) {\n                Table.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result, opt.raw);\n                    let table = new google.visualization.Table(document.getElementById(currentChart.container.id));\n                    table.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTable._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGFibGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxLQUFNLFNBQVEsS0FBSztJQUc1QjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN0RCxLQUFLLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sT0FBTyxDQUFBO0lBQ2xCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLE9BQU8sQ0FBQTtJQUNsQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sNEJBQTRCLENBQUE7SUFDdkMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sMENBQTBDLENBQUE7SUFDckQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLE1BQU0sQ0FBQTtZQUNuQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLEdBQUcsRUFBRSxJQUFJO2dCQUNULGFBQWEsRUFBRSxLQUFLO2FBQ3ZCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUU7Z0JBQ2pCLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNmO1lBRUQsTUFBTSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FDM0IsR0FBRyxFQUFFO2dCQUNELElBQUk7b0JBQ0EsSUFBSSxJQUFJLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtvQkFDbkMsSUFBSSxLQUFLLEdBQUcsSUFBSSxNQUFNLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQTtvQkFDOUYsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLEVBQUUsR0FBRyxDQUFDLENBQUE7aUJBQ3ZDO2dCQUFDLE9BQU8sS0FBSyxFQUFFO29CQUNaLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7b0JBQ2xCLE1BQU0sQ0FBQyxlQUFlLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtvQkFDN0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFDLDhCQUE4QixHQUFHLFlBQVksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLENBQUE7aUJBQ2hHO1lBQ0wsQ0FBQyxDQUNKLENBQUE7WUFDRCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7O0FBbEZjLGFBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Timeline\n * @class google.visualization.Timeline\n * @tutorial google_visualization_Timeline\n * @memberof google.visualization\n */\nexport class Timeline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['timeline'] });\n        Timeline._isInit = true;\n    }\n    get icon() {\n        return 'fa fa-tasks';\n    }\n    get label() {\n        return 'Timeline';\n    }\n    get subtext() {\n        return 'Timeline';\n    }\n    get classFullName() {\n        return 'google.visualization.Timeline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Timeline.html';\n    }\n    /**\n     * Make a standard simple html Timeline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Timeline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Timeline._isInit) {\n                Timeline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let timeline = new google.visualization.Timeline(document.getElementById(currentChart.container.id));\n                    timeline.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTimeline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVGltZWxpbmUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZ29vZ2xlL3Zpc3VhbGl6YXRpb24vVGltZWxpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUUxQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDaEMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLFNBQVMsQ0FBQTtBQUs5Qjs7Ozs7R0FLRztBQUNILE1BQU0sT0FBTyxRQUFTLFNBQVEsS0FBSztJQUcvQjtRQUNJLEtBQUssRUFBRSxDQUFBO1FBQ1AsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFBO0lBQ3hFLENBQUM7SUFFTyxNQUFNLENBQUMsSUFBSTtRQUNmLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxFQUFDLFVBQVUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUFDLENBQUMsQ0FBQTtRQUN6RCxRQUFRLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQTtJQUMzQixDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxhQUFhLENBQUE7SUFDeEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFVBQVUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFFBQVEsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNsQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLFFBQVEsR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNwRyxRQUFRLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDMUM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZ0JBQU8sR0FBWSxLQUFLLENBQUEifQ==","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo TreeMap\n * @class google.visualization.TreeMap\n * @tutorial google_visualization_TreeMap\n * @memberof google.visualization\n */\nexport class TreeMap extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['treemap'] });\n        TreeMap._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'TreeMap';\n    }\n    get subtext() {\n        return 'TreeMap';\n    }\n    get classFullName() {\n        return 'google.visualization.TreeMap';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_TreeMap.html';\n    }\n    /**\n     * Make a standard simple html table.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Table\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n            // Default options\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!TreeMap._isInit) {\n                TreeMap.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let treeMap = new google.visualization.TreeMap(document.getElementById(currentChart.container.id));\n                    treeMap.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTreeMap._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlZU1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9nb29nbGUvdmlzdWFsaXphdGlvbi9UcmVlTWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFFMUIsTUFBTSxnQkFBZ0IsQ0FBQTtBQUV2QixPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBQ2hDLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFLOUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sT0FBUSxTQUFRLEtBQUs7SUFHOUI7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsMENBQTBDLENBQUMsQ0FBQTtJQUN4RSxDQUFDO0lBRU8sTUFBTSxDQUFDLElBQUk7UUFDZixNQUFNLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsRUFBQyxVQUFVLEVBQUUsQ0FBQyxTQUFTLENBQUMsRUFBQyxDQUFDLENBQUE7UUFDeEQsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7SUFDMUIsQ0FBQztJQUVELElBQVcsSUFBSTtRQUNYLE9BQU8sbUJBQW1CLENBQUE7SUFDOUIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sU0FBUyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLFNBQVMsQ0FBQTtJQUNwQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQTtZQUNoQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixNQUFNLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQTthQUN2RDtZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDcEIsa0JBQWtCO2FBQ3JCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLE9BQU8sQ0FBQyxPQUFPLEVBQUU7Z0JBQ25CLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNqQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLE9BQU8sR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNsRyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDekM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsZUFBTyxHQUFZLEtBQUssQ0FBQSJ9","import { Chart, Logger, MESSAGES } from '../../sgvizler';\nimport { Tools } from '../Tools';\nimport { Data } from '../Data';\n/**\n * Todo Trendline\n * @class google.visualization.Trendline\n * @tutorial google_visualization_Trendline\n * @memberof google.visualization\n */\nexport class Trendline extends Chart {\n    constructor() {\n        super();\n        let dep = this.addScript('https://www.gstatic.com/charts/loader.js');\n    }\n    static init() {\n        google.charts.load('current', { 'packages': ['corechart'] });\n        Trendline._isInit = true;\n    }\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Trendline';\n    }\n    get subtext() {\n        return 'Trendline';\n    }\n    get classFullName() {\n        return 'google.visualization.Trendline';\n    }\n    get tutorialFilename() {\n        return 'tutorial-google_visualization_Trendline.html';\n    }\n    /**\n     * Make a standard simple html Trendline.\n     * Available options:\n     * - 'headings'   :  \"true\" / \"false\"  (default: \"true\")\n     * @memberOf Trendline\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let height = 500;\n            if (currentChart.height !== '') {\n                height = Tools.decodeFormatSize(currentChart.height);\n            }\n            let opt = Object.assign({\n                trendlines: { 0: {} }\n            }, currentChart.options);\n            // fix the size\n            opt = Object.assign(opt, {\n                width: Tools.decodeFormatSize(currentChart.width),\n                height: height\n            });\n            if (!Trendline._isInit) {\n                Trendline.init();\n            }\n            google.charts.setOnLoadCallback(() => {\n                try {\n                    let data = new Data(result);\n                    let chart = new google.visualization.ScatterChart(document.getElementById(currentChart.container.id));\n                    chart.draw(data.getDataTable(), opt);\n                }\n                catch (error) {\n                    console.log(error);\n                    Logger.displayFeedback(currentChart.container, MESSAGES.ERROR_CHART, [error]);\n                    Logger.log(currentChart.container, 'Chart finished with error : ' + currentChart.container.id);\n                }\n            });\n            // finish\n            return resolve();\n        });\n    }\n}\nTrendline._isInit = false;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVHJlbmRsaW5lLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2dvb2dsZS92aXN1YWxpemF0aW9uL1RyZW5kbGluZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUFFLE1BQU0sRUFBRSxRQUFRLEVBRTFCLE1BQU0sZ0JBQWdCLENBQUE7QUFFdkIsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNoQyxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sU0FBUyxDQUFBO0FBSzlCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFNBQVUsU0FBUSxLQUFLO0lBR2hDO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDLENBQUE7SUFDeEUsQ0FBQztJQUVPLE1BQU0sQ0FBQyxJQUFJO1FBQ2YsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEVBQUUsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQzNELFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO0lBQzVCLENBQUM7SUFFRCxJQUFXLElBQUk7UUFDWCxPQUFPLG1CQUFtQixDQUFBO0lBQzlCLENBQUM7SUFFRCxJQUFXLEtBQUs7UUFDWixPQUFPLFdBQVcsQ0FBQTtJQUN0QixDQUFDO0lBRUQsSUFBVyxPQUFPO1FBQ2QsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsYUFBYTtRQUNwQixPQUFPLGdDQUFnQyxDQUFBO0lBQzNDLENBQUM7SUFFRCxJQUFXLGdCQUFnQjtRQUN2QixPQUFPLDhDQUE4QyxDQUFBO0lBQ3pELENBQUM7SUFFRDs7Ozs7OztPQU9HO0lBQ0ksSUFBSSxDQUFFLE1BQTZCO1FBQ3RDLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQTtRQUN2QixPQUFPLElBQUksT0FBTyxDQUFDLFVBQVUsT0FBTyxFQUFFLE1BQU07WUFDeEMsa0JBQWtCO1lBQ2xCLHVDQUF1QztZQUV2QyxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUE7WUFDaEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsTUFBTSxHQUFHLEtBQUssQ0FBQyxnQkFBZ0IsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUE7YUFDdkQ7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixVQUFVLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFO2FBQ3hCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLGVBQWU7WUFDZixHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7Z0JBQ3JCLEtBQUssRUFBRSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDakQsTUFBTSxFQUFFLE1BQU07YUFDakIsQ0FBQyxDQUFBO1lBRUYsSUFBSSxDQUFFLFNBQVMsQ0FBQyxPQUFPLEVBQUU7Z0JBQ3JCLFNBQVMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTthQUNuQjtZQUVELE1BQU0sQ0FBQyxNQUFNLENBQUMsaUJBQWlCLENBQzNCLEdBQUcsRUFBRTtnQkFDRCxJQUFJO29CQUNBLElBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29CQUMzQixJQUFJLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBO29CQUNyRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsRUFBRSxHQUFHLENBQUMsQ0FBQTtpQkFDdkM7Z0JBQUMsT0FBTyxLQUFLLEVBQUU7b0JBQ1osT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtvQkFDbEIsTUFBTSxDQUFDLGVBQWUsQ0FBQyxZQUFZLENBQUMsU0FBUyxFQUFFLFFBQVEsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO29CQUM3RSxNQUFNLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUMsOEJBQThCLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtpQkFDaEc7WUFDTCxDQUFDLENBQ0osQ0FBQTtZQUNELFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQzs7QUFqRmMsaUJBQU8sR0FBWSxLQUFLLENBQUEifQ==","/**\n * @namespace google\n */\nimport * as visualizationNS from './google/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './google/Data';\nexport * from './google/Tools';\nexport * from './google/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ29vZ2xlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2dvb2dsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7R0FFRztBQUNILE9BQU8sS0FBSyxlQUFlLE1BQU0sd0JBQXdCLENBQUE7QUFDekQsTUFBTSxDQUFDLE1BQU0sYUFBYSxHQUFHLGVBQWUsQ0FBQTtBQUU1QyxRQUFRO0FBQ1IsY0FBYyxlQUFlLENBQUE7QUFDN0IsY0FBYyxnQkFBZ0IsQ0FBQTtBQUM5QixjQUFjLGNBQWMsQ0FBQSJ9","/**\n * @namespace d3\n */\nimport * as visualizationNS from './d3/visualization';\nexport const visualization = visualizationNS;\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZDMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvZDMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFDSCxPQUFPLEtBQUssZUFBZSxNQUFNLG9CQUFvQixDQUFBO0FBQ3JELE1BQU0sQ0FBQyxNQUFNLGFBQWEsR0FBRyxlQUFlLENBQUEifQ==","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo AreaChart\n * @class d3.visualization.AreaChart\n * @tutorial d3_visualization_AreaChart\n * @memberof d3.visualization\n */\nexport class AreaChart extends Chart {\n    get icon() {\n        return 'fas fa-chart-area';\n    }\n    get label() {\n        return 'AreaChart';\n    }\n    get subtext() {\n        return 'AreaChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.AreaChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_AreaChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf AreaChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            console.log('test');\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            /*let cols = result.head.vars\n            let rows = result.results.bindings\n            let noCols = cols.length\n            let noRows = rows.length\n            let dataset: Array<any> = []\n            let label\n            let count\n            let data = [{\n                date: '1-May-12',\n                close: 58.1\n            }]\n            for (let row of rows) {\n                label = row[cols[0]].value\n                count = Number(row[cols[1]].value)\n                if ( label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count)\n                } else {\n                    dataset.push({ label: label , count: count })\n                }\n            }\n\n            console.log(data)\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 50\n            }\n            let width = 800 - margin.left - margin.right\n            let height = 570 - margin.top - margin.bottom\n            let parseDate = d3.time.format('%d-%b-%y').parse\n            // x axis\n            let x = d3.scalePoint().range([0, width])\n            let xAxis = d3.axisBottom().scale(x).ticks(15)\n            // y axis\n            let y = d3.scaleLinear().range([height, 0])\n            let yAxis = d3.axisRight().scale(y).ticks(17)\n\n            let valueline = d3.line()\n                .x(function (d: any) {\n                  return x(d.date)\n                })\n                .y(function (d: any) {\n                  return y(d.close)\n                })\n            let svg = d3.select( '#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')\n// get data\n\ndata.forEach(function (d: any) {\n    d.date = parseDate(d.date)\n    d.close = +d.close\n})\n            svg.append('path') // Add the valueline path.\n            // .attr('fill', 'none')\n           // .attr('stroke', 'steelblue')\n           // .attr('stroke-linejoin', 'round')\n           // .attr('stroke-linecap', 'round')\n           // .attr('stroke-width', 1.5)\n          //  .attr('d', valueline(dataset))\n           .attr('d', valueline(data))\n            svg.append('g') // Add the X Axis\n            .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis)\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis)*/\n            // finish\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    // .attr('class', 'x axis')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    // .attr('class', 'y axis')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXJlYUNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vQXJlYUNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBR0wsSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sU0FBVSxTQUFRLEtBQUs7SUFFaEMsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sV0FBVyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyw0QkFBNEIsQ0FBQTtJQUN2QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTywwQ0FBMEMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUMsQ0FBQTtJQUM1RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUNuQixJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUE7WUFDdEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsU0FBUyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7YUFDbEM7WUFFRCxJ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","/** Work in progress, help us ! */\nimport { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo BarChart\n * @class d3.visualization.BarChart\n * @tutorial d3_visualization_BarChart\n * @memberof d3.visualization\n */\nexport class BarChart extends Chart {\n    get icon() {\n        return 'far fa-chart-bar';\n    }\n    get label() {\n        return 'BarChart';\n    }\n    get subtext() {\n        return 'BarChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BarChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BarChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf BarChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                /*let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)*/\n                /*let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let pie = d3.pie()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)*/\n                /*let path = svg.selectAll('path')\n                    .data(pie(dataset)\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })*/\n                let bars = svg.selectAll('rect')\n                    .data(dataset)\n                    .enter()\n                    .append('rect')\n                    .attr('width', function (i) { return i.count / 10000; })\n                    .attr('height', 50)\n                    .attr('y', function (i, j) { return j * 50; })\n                    .attr('fill', '#3399FF');\n                console.log('dataset : ' + dataset);\n                // Todo limit nb (look pie chart of Google)\n                /*let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmFyQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CYXJDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxrQ0FBa0M7QUFFbEMsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sUUFBUyxTQUFRLEtBQUs7SUFFL0IsSUFBVyxJQUFJO1FBQ1gsT0FBTyxrQkFBa0IsQ0FBQTtJQUM3QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxVQUFVLENBQUE7SUFDckIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTywyQkFBMkIsQ0FBQTtJQUN0QyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyx5Q0FBeUMsQ0FBQTtJQUNwRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUMsQ0FBQTtJQUM1RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFFdkMsSUFBSSxTQUFTLEdBQUcsTUFBTSxDQUFBO1lBQ3RCLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFBO2FBQ2xDO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxD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","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo BubbleChart\n * @class d3.visualization.BubbleChart\n * @tutorial d3_visualization_BubbleChart\n * @memberof d3.visualization\n */\nexport class BubbleChart extends Chart {\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'BubbleChart';\n    }\n    get subtext() {\n        return 'BubbleChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.BubbleChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_BubbleChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            /*let dataset: Array<any> = []\n            let label\n            let counter\n            for (let row of rows) {\n                label = row[cols[0]].value\n                counter = Number(row[cols[1]].value)\n                if ( label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter)\n                } else {\n                    dataset.push({ label: label , count: counter })\n                }\n            }*/\n            // console.log(data)\n            // Example\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let margin = { top: 20, right: 20, bottom: 30, left: 40 };\n                let widthChart = width - (margin.left + margin.right);\n                let heightChart = height - (margin.top + margin.bottom);\n                let xScale = d3.scaleLinear();\n                let yScale = d3.scaleLinear();\n                let xAxisCall = d3.axisBottom();\n                let yAxisCall = d3.axisLeft();\n                xScale.domain([0, 100]).range([0, widthChart]);\n                yScale.domain([0, 100]).range([heightChart, 0]);\n                xAxisCall.scale(xScale);\n                yAxisCall.scale(yScale);\n                let newX = svg.append('g')\n                    // .attr('class', 'x axis')\n                    .attr('transform', 'translate(' + [margin.left, heightChart + margin.top] + ')')\n                    .call(xAxisCall);\n                let newY = svg.append('g')\n                    // .attr('class', 'y axis')\n                    .attr('transform', 'translate(' + [margin.left, margin.top] + ')')\n                    .call(yAxisCall);\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQnViYmxlQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9CdWJibGVDaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFdBQVksU0FBUSxLQUFLO0lBRTlCLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUE7WUFDdEIsSUFBSSxZQUFZLENBQUMsTUFBTSxLQUFLLEVBQUUsRUFBRTtnQkFDNUIsU0FBUyxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUE7YUFDbEM7WUFFRCxJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixhQUFhLEVBQUUsS0FBSztnQkFDcEIs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","import { Chart, Core } from '../../sgvizler';\n/**\n * Todo ColumnChart\n * @class d3.visualization.ColumnChart\n * @tutorial d3_visualization_ColumnChart\n * @memberof d3.visualization\n */\nexport class ColumnChart extends Chart {\n    get icon() {\n        return 'far fa-chart-bar';\n    }\n    get label() {\n        return 'ColumnChart';\n    }\n    get subtext() {\n        return 'ColumnChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ColumnChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ColumnChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple ColumnChart.\n     * Available options:\n     * -\n     * @memberOf ColumnChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            /*\n                        // build the datatable\n                        let cols = result.head.vars\n                        let rows = result.results.bindings\n                        let noCols = cols.length\n                        let noRows = rows.length\n                        let dataset: Array<any> = []\n                        let label\n                        let counter\n                        for (let row of rows) {\n                            label = row[cols[0]].value\n                            counter = Number(row[cols[1]].value)\n                            if ( label === undefined || counter === undefined) {\n                                Logger.logSimple('Erreur ? D3JS:ColumnChart label ' + label + ' count ' + counter)\n                            }else {\n                                dataset.push({ label: label , count: counter })\n                            }\n                        }\n            \n                        // console.log(data)\n                        let containerElement = d3.select('#' + currentChart.container.id)\n                        let containerElementNode = containerElement.node() as any\n                        if (containerElementNode) {\n                            let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                            let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                            let svg = containerElement.append('svg') // associate our data with the document\n                                .attr('width', width)\n                                .attr('height', height)\n                                .attr('id', 'idtest')\n            \n                            let radius = Math.min(width, height) / 2\n            \n                            svg = svg.append('g') // make a group to hold our ColumnChart chart\n                                .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n            \n                            // var donutWidth = 75;\n                            let legendRectSize = 18\n                            let legendSpacing = 4\n                            let color = d3.scaleOrdinal(d3.schemeCategory10)\n            \n                            let arc = d3.arc()\n                               // .innerRadius(radius - donutWidth)\n                                .innerRadius(0)\n                                .outerRadius(radius)\n                            let ColumnChart = d3.ColumnChart()\n                                .value(function (d: any) { return d.count })\n                                .sort(null)\n                            let path = svg.selectAll('path')\n                                .data(ColumnChart(dataset))\n                                .enter()\n                                .append('path')\n                                .attr('d', arc)\n                                .attr('fill', function (d: any, i: any) {\n                                    return color(d.data.label)\n                                })\n            \n                            // Todo limit nb (look ColumnChart chart of Google)\n                            let legend = svg.selectAll('.legend')\n                                .data(color.domain())\n                                .enter()\n                                .append('g')\n                                .attr('class', 'legend')\n                                .attr('transform', function (d: any, i: any) {\n                                    let height = legendRectSize + legendSpacing\n                                    let offset = height * color.domain().length / 2\n                                    let horz = -2 * legendRectSize\n                                    let vert = i * height - offset\n                                    return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                                })\n                            legend.append('rect')\n                                .attr('width', legendRectSize)\n                                .attr('height', legendRectSize)\n                                .style('fill', color)\n                                .style('stroke', color)\n                            legend.append('text')\n                                .attr('x', legendRectSize + legendSpacing)\n                                .attr('y', legendRectSize - legendSpacing)\n                                .text(function (d: any) { return d })\n                        }\n                        */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29sdW1uQ2hhcnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvZDMvdmlzdWFsaXphdGlvbi9Db2x1bW5DaGFydC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0gsS0FBSyxFQUdMLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFdBQVksU0FBUSxLQUFLO0lBRWxDLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sYUFBYSxDQUFBO0lBQ3hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGFBQWEsQ0FBQTtJQUN4QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sOEJBQThCLENBQUE7SUFDekMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNENBQTRDLENBQUE7SUFDdkQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxTQUFTO2FBQ3BCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQ3BDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQStFYztZQUNGLFNBQVM7WUFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO1FBQ3BCLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztDQUVKIn0=","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Line\n * @class d3.visualization.Line\n * @tutorial d3_visualization_Line\n * @memberof d3.visualization\n */\nexport class Line extends Chart {\n    get icon() {\n        return 'fas fa-chart-line';\n    }\n    get label() {\n        return 'Line';\n    }\n    get subtext() {\n        return 'Line';\n    }\n    get classFullName() {\n        return 'd3.visualization.Line';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Line.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple line.\n     * Available options:\n     * -\n     * @memberOf Line\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            //console.log('test')\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: true,\n                width: currentChart.width,\n                height: heightOpt\n                // hAxisscaleType: true\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let count;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                count = Number(row[cols[1]].value);\n                if (label === undefined || count === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + count);\n                }\n                else {\n                    dataset.push({ label: label, count: count });\n                }\n            }\n            console.log(dataset);\n            let margin = {\n                top: 30,\n                right: 20 * 3,\n                bottom: 30,\n                left: 70\n            };\n            let width = 800 - margin.left - margin.right;\n            let height = 570 - margin.top - margin.bottom;\n            // x axis\n            let x = d3.scalePoint()\n                .domain(dataset.map(function (entry) {\n                return entry.label;\n            }))\n                .rangeRound([0, 800])\n                .padding(0.5);\n            let xAxis = d3.axisBottom().scale(x).ticks(15);\n            // y axis\n            let y = d3.scaleLinear().range([height, 0]);\n            y.domain([0, d3.max(dataset, function (d) {\n                    return d.count;\n                })]);\n            let yAxis = d3.axisLeft().scale(y).ticks(17);\n            let valueline = d3.line()\n                .x(function (d) {\n                return x(d.label);\n            })\n                .y(function (d) {\n                return y(d.count);\n            });\n            let svg = d3.select('#' + currentChart.container.id)\n                .append('svg')\n                .attr('width', width + margin.left + margin.right)\n                .attr('height', height + margin.top + margin.bottom)\n                .append('g')\n                .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');\n            svg.append('path') // Add the valueline path.\n                .attr('fill', 'none')\n                .attr('stroke', 'steelblue')\n                .attr('stroke-linejoin', 'round')\n                .attr('stroke-linecap', 'round')\n                .attr('stroke-width', 1.5)\n                .attr('d', valueline(dataset));\n            svg.append('g') // Add the X Axis\n                .attr('class', 'x axis')\n                .attr('transform', 'translate(0,' + height + ')')\n                .call(xAxis);\n            svg.append('g') // Add the Y Axis\n                .attr('class', 'y axis')\n                .call(yAxis);\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTGluZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9kMy92aXN1YWxpemF0aW9uL0xpbmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxNQUFNLEVBQ04sSUFBSSxFQUNQLE1BQU0sZ0JBQWdCLENBQUE7QUFJdkI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sSUFBSyxTQUFRLEtBQUs7SUFFM0IsSUFBVyxJQUFJO1FBQ1gsT0FBTyxtQkFBbUIsQ0FBQTtJQUM5QixDQUFDO0lBRUQsSUFBVyxLQUFLO1FBQ1osT0FBTyxNQUFNLENBQUE7SUFDakIsQ0FBQztJQUVELElBQVcsT0FBTztRQUNkLE9BQU8sTUFBTSxDQUFBO0lBQ2pCLENBQUM7SUFFRCxJQUFXLGFBQWE7UUFDcEIsT0FBTyx1QkFBdUIsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsSUFBVyxnQkFBZ0I7UUFDdkIsT0FBTyxxQ0FBcUMsQ0FBQTtJQUNoRCxDQUFDO0lBRUQ7UUFDSSxLQUFLLEVBQUUsQ0FBQTtRQUNQLDJDQUEyQztRQUMzQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsa0JBQWtCLENBQUMsQ0FBQTtJQUM1RCxDQUFDO0lBRUQ7Ozs7Ozs7T0FPRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLGtCQUFrQjtZQUNsQix1Q0FBdUM7WUFDdkMscUJBQXFCO1lBQ3JCLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFN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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo Pie\n * @class d3.visualization.Pie\n * @tutorial d3_visualization_Pie\n * @memberof d3.visualization\n */\nexport class Pie extends Chart {\n    get icon() {\n        return 'fas fa-chart-pie';\n    }\n    get label() {\n        return 'Pie';\n    }\n    get subtext() {\n        return 'Pie';\n    }\n    get classFullName() {\n        return 'd3.visualization.Pie';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_Pie.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple pie.\n     * Available options:\n     * -\n     * @memberOf Pie\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '100%';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:pie label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            // console.log(data)\n            let containerElement = d3.select('#' + currentChart.container.id);\n            let containerElementNode = containerElement.node();\n            if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300;\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150;\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest');\n                let radius = Math.min(width, height) / 2;\n                svg = svg.append('g') // make a group to hold our pie chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')');\n                // var donutWidth = 75;\n                let legendRectSize = 18;\n                let legendSpacing = 4;\n                let color = d3.scaleOrdinal(d3.schemeCategory10);\n                let arc = d3.arc()\n                    // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius);\n                let pie = d3.pie()\n                    .value(function (d) { return d.count; })\n                    .sort(null);\n                let path = svg.selectAll('path')\n                    .data(pie(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d, i) {\n                    return color(d.data.label);\n                });\n                // Todo limit nb (look pie chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d, i) {\n                    let height = legendRectSize + legendSpacing;\n                    let offset = height * color.domain().length / 2;\n                    let horz = -2 * legendRectSize;\n                    let vert = i * height - offset;\n                    return 'translate(' + (horz + radius * 2 + 20) + ',' + vert + ')';\n                });\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color);\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d) { return d; });\n            }\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGllLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vUGllLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLEdBQUksU0FBUSxLQUFLO0lBRTFCLElBQVcsSUFBSTtRQUNYLE9BQU8sa0JBQWtCLENBQUE7SUFDN0IsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sc0JBQXNCLENBQUE7SUFDakMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sb0NBQW9DLENBQUE7SUFDL0MsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUd4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLE1BQU0sQ0FBQTtZQUN0QixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFB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","import { Chart, Logger, Core } from '../../sgvizler';\n/**\n * Todo ScatterChart\n * @class d3.visualization.ScatterChart\n * @tutorial d3_visualization_ScatterChart\n * @memberof d3.visualization\n */\nexport class ScatterChart extends Chart {\n    get icon() {\n        return 'fa fa-ScatterChart-chart';\n    }\n    get label() {\n        return 'ScatterChart';\n    }\n    get subtext() {\n        return 'ScatterChart';\n    }\n    get classFullName() {\n        return 'd3.visualization.ScatterChart';\n    }\n    get tutorialFilename() {\n        return 'tutorial-d3_visualization_ScatterChart.html';\n    }\n    constructor() {\n        super();\n        //this.addCss(Core.path + '/lib/d3/d3.css')\n        let dep = this.addScript(Core.path + 'lib/d3/d3.min.js');\n    }\n    /**\n     * Make a simple ScatterChart.\n     * Available options:\n     * -\n     * @memberOf ScatterChart\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            // transform query\n            // console.log(noCols + \" x \" + noRows)\n            let heightOpt = '500';\n            if (currentChart.height !== '') {\n                heightOpt = currentChart.height;\n            }\n            let opt = Object.assign({\n                showRowNumber: false,\n                width: currentChart.width,\n                height: heightOpt\n            }, currentChart.options);\n            // build the datatable\n            let cols = result.head.lets;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let dataset = [];\n            let label;\n            let counter;\n            for (let row of rows) {\n                label = row[cols[0]].value;\n                counter = Number(row[cols[1]].value);\n                if (label === undefined || counter === undefined) {\n                    Logger.logSimple('Erreur ? D3JS:ScatterChart label ' + label + ' count ' + counter);\n                }\n                else {\n                    dataset.push({ label: label, count: counter });\n                }\n            }\n            console.log(dataset);\n            // let containerElement = d3.select('#' + currentChart.container.id)\n            //  let containerElementNode = containerElement.node() as any\n            /*if (containerElementNode) {\n                let width = containerElementNode.clientWidth !== 0 ? containerElementNode.clientWidth : 300\n                let height = containerElementNode.clientHeight !== 0 ? containerElementNode.clientHeight : 150\n                let svg = containerElement.append('svg') // associate our data with the document\n                    .attr('width', width)\n                    .attr('height', height)\n                    .attr('id', 'idtest')\n\n                let radius = Math.min(width, height) / 2\n\n                svg = svg.append('g') // make a group to hold our ScatterChart chart\n                    .attr('transform', 'translate(' + (width / 2) + ',' + (height / 2) + ')')\n\n                // let donutWidth = 75;\n                let legendRectSize = 18\n                let legendSpacing = 4\n                let color = d3.scaleOrdinal(d3.schemeCategory10)\n\n                let arc = d3.arc()\n                   // .innerRadius(radius - donutWidth)\n                    .innerRadius(0)\n                    .outerRadius(radius)\n                let ScatterChart = d3.ScatterChart()\n                    .value(function (d: any) { return d.count })\n                    .sort(null)\n                let path = svg.selectAll('path')\n                    .data(ScatterChart(dataset))\n                    .enter()\n                    .append('path')\n                    .attr('d', arc)\n                    .attr('fill', function (d: any, i: any) {\n                        return color(d.data.label)\n                    })\n\n                // Todo limit nb (look ScatterChart chart of Google)\n                let legend = svg.selectAll('.legend')\n                    .data(color.domain())\n                    .enter()\n                    .append('g')\n                    .attr('class', 'legend')\n                    .attr('transform', function (d: any, i: any) {\n                        let height = legendRectSize + legendSpacing\n                        let offset = height * color.domain().length / 2\n                        let horz = -2 * legendRectSize\n                        let vert = i * height - offset\n                        return 'translate(' + (horz + radius * 2 + 20 ) + ',' + vert + ')'\n                    })\n                legend.append('rect')\n                    .attr('width', legendRectSize)\n                    .attr('height', legendRectSize)\n                    .style('fill', color)\n                    .style('stroke', color)\n                legend.append('text')\n                    .attr('x', legendRectSize + legendSpacing)\n                    .attr('y', legendRectSize - legendSpacing)\n                    .text(function (d: any) { return d })*/\n            /*\n                                let width = 500\n                                let height = 300\n                                let padding = 30\n                                let numDataPoints = 50\n                                let xRange = Math.random() * 1000\n                                let yRange = Math.random() * 1000\n                            for (let i = 0; i < numDataPoints; i++) {\n                              let newNumber1 = Math.floor(Math.random() * xRange)\n                              let newNumber2 = Math.floor(Math.random() * yRange)\n                               dataset.push([newNumber1, newNumber2])\n                            }\n                            // Create scale functions\n                            let xScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[0]\n                                           }) ])\n                                           .range([padding, width - padding * 2])\n                            let yScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                           .range([height - padding, padding])\n                            let rScale = d3.scale.linear()\n                                           .domain([0, d3.max(dataset, function (d: any) {\n                                             return d[1]\n                                           })])\n                                                        .range([2, 5])\n                            let formatAsPercentage = d3.tickFormat('.1%')\n                           // Define X axis\n                            let xAxis = d3.svg.axis()\n                                          .scale(xScale)\n                                          .orient('bottom')\n                                          .ticks(5)\n                                          .tickFormat(formatAsPercentage)\n                            // Define Y axis\n                            let yAxis = d3.svg.axis()\n                                          .scale(yScale)\n                                            .orient('left')\n                                            .ticks(5)\n                                            .tickFormat(formatAsPercentage)\n                            // Create SVG element\n                            let svg = d3.select('#' + currentChart.container.id)\n                                                    .append('svg')\n                                                    .attr('width', width)\n                                                    .attr('height', height)\n                                                    .append('g')\n                            // Create circles\n                            svg.selectAll('circle')\n                                 .data(dataset)\n                               .enter()\n                                 .append('circle')\n                                 .attr('cx', function (d: any) {\n                                   return xScale(d[0])\n                                 })\n                                 .attr('cy', function (d: any) {\n                                   return yScale(d[1])\n                                 })\n                                 .attr('r', function (d: any) {\n                                   return rScale(d[1])\n                                 })\n                            // Create labels\n                            svg.selectAll('text')\n                               .data(dataset)\n                               .enter()\n                               .append('text')\n                               .text(function (d: any) {\n                                       return d[0] + ',' + d[1]\n                               })\n                               .attr('x', function (d: any) {\n                                       return xScale(d[0])\n                               })\n                               .attr('y', function (d: any) {\n                                       return yScale(d[1])\n                               })\n                               .attr('font-family', 'sans-serif')\n                               .attr('font-size', '11px')\n                               .attr('fill', 'red')\n                            // Create X axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(0,' + (height - padding) + ')')\n                               .call(xAxis)\n                            // Create Y axis\n                            svg.append('g')\n                               .attr('class', 'axis')\n                               .attr('transform', 'translate(' + padding + ',0)')\n                               .call(yAxis)\n                               */\n            // finish\n            return resolve();\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2NhdHRlckNoYXJ0LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2QzL3Zpc3VhbGl6YXRpb24vU2NhdHRlckNoYXJ0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDSCxLQUFLLEVBRUwsTUFBTSxFQUNOLElBQUksRUFDUCxNQUFNLGdCQUFnQixDQUFBO0FBSXZCOzs7OztHQUtHO0FBQ0gsTUFBTSxPQUFPLFlBQWEsU0FBUSxLQUFLO0lBRW5DLElBQVcsSUFBSTtRQUNYLE9BQU8sMEJBQTBCLENBQUE7SUFDckMsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sY0FBYyxDQUFBO0lBQ3pCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLGNBQWMsQ0FBQTtJQUN6QixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sK0JBQStCLENBQUE7SUFDMUMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8sNkNBQTZDLENBQUE7SUFDeEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCwyQ0FBMkM7UUFDM0MsSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxHQUFHLGtCQUFrQixDQUFDLENBQUE7SUFDNUQsQ0FBQztJQUVEOzs7Ozs7O09BT0c7SUFDSSxJQUFJLENBQUUsTUFBNkI7UUFDdEMsSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFBO1FBQ3ZCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBVSxPQUFPLEVBQUUsTUFBTTtZQUN4QyxrQkFBa0I7WUFDbEIsdUNBQXVDO1lBRXZDLElBQUksU0FBUyxHQUFHLEtBQUssQ0FBQTtZQUNyQixJQUFJLFlBQVksQ0FBQyxNQUFNLEtBQUssRUFBRSxFQUFFO2dCQUM1QixTQUFTLEdBQUcsWUFBWSxDQUFDLE1BQU0sQ0FBQTthQUNsQztZQUVELElBQUksR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQ3BCLGFBQWEsRUFBRSxLQUFLO2dCQUNwQixLQUFLLEVBQUUsWUFBWSxDQUFDLEtBQUs7Z0JBQ3pCLE1BQU0sRUFBRSxTQUFTO2FBQ3BCLEVBQUUsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBRXhCLHNCQUFzQjtZQUN0QixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFDeEIsSUFBSSxPQUFPLEdBQWUsRUFBRSxDQUFBO1lBQzVCLElBQUksS0FBSyxDQUFBO1lBQ1QsSUFBSSxPQUFPLENBQUE7WUFDWCxLQUFLLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtnQkFDbEIsS0FBSyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7Z0JBQzFCLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO2dCQUNwQyxJQUFLLEtBQUssS0FBSyxTQUFTLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBRTtvQkFDL0MsTUFBTSxDQUFDLFNBQVMsQ0FBQyxtQ0FBbUMsR0FBRyxLQUFLLEdBQUcsU0FBUyxHQUFHLE9BQU8sQ0FBQyxDQUFBO2lCQUN0RjtxQkFBTTtvQkFDSCxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRyxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQTtpQkFDbEQ7YUFDSjtZQUVELE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDcEIsb0VBQW9FO1lBQ3RFLDZEQUE2RDtZQUMzRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzsyREF1RCtDO1lBQzNEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2lDQXdGcUI7WUFDVCxTQUFTO1lBQ1QsT0FBTyxPQUFPLEVBQUUsQ0FBQTtRQUNwQixDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FFSiJ9","/**\n * Todo API\n * @class leaflet.API\n * @memberof google\n */\nexport class API {\n    static get osmAccessToken() {\n        return this._osmAccessToken;\n    }\n    static set osmAccessToken(value) {\n        this._osmAccessToken = value;\n    }\n}\n/**\n * todo\n * @type {string}\n * @private\n */\nAPI._osmAccessToken = '';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQVBJLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xlYWZsZXQvQVBJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFDSCxNQUFNLE9BQU8sR0FBRztJQUNaLE1BQU0sS0FBSyxjQUFjO1FBQ3JCLE9BQU8sSUFBSSxDQUFDLGVBQWUsQ0FBQTtJQUMvQixDQUFDO0lBRUQsTUFBTSxLQUFLLGNBQWMsQ0FBRSxLQUFhO1FBQ3BDLElBQUksQ0FBQyxlQUFlLEdBQUcsS0FBSyxDQUFBO0lBQ2hDLENBQUM7O0FBRUQ7Ozs7R0FJRztBQUNZLG1CQUFlLEdBQVcsRUFBRSxDQUFBIn0=","import { Chart, Core, WktLiteral, PointWktLiteral, PolygonWktLiteral, MultiPolygonWktLiteral, LinestringWktLiteral, EnvelopeWktLiteral, ErrorWktLiteral } from '../../sgvizler';\nimport { API } from '../API';\n/**\n * Todo Table\n * @class leaflet.visualization.Map\n * @tutorial leaflet_visualization_Map\n * @memberof leaflet.visualization\n */\nexport class Map extends Chart {\n    get icon() {\n        return 'fa fa-map';\n    }\n    get label() {\n        return 'Map';\n    }\n    get subtext() {\n        return 'Map';\n    }\n    get classFullName() {\n        return 'leaflet.visualization.Map';\n    }\n    get tutorialFilename() {\n        return 'tutorial-leaflet_visualization_Map.html';\n    }\n    constructor() {\n        super();\n        this.addCss(Core.path + 'lib/leaflet/leaflet.css');\n        this.addCss(Core.path + 'lib/leaflet/MarkerCluster.Default.css');\n        let dep = this.addScript(Core.path + 'lib/leaflet/leaflet.js');\n        this.addScript(Core.path + 'lib/leaflet/leaflet.markercluster.js', dep);\n    }\n    /**\n     * Make a Google map\n     * todo\n     * @memberOf Map\n     * @returns {Promise<void>}\n     * @param result\n     */\n    draw(result) {\n        let currentChart = this;\n        return new Promise(function (resolve, reject) {\n            let messageError = '';\n            let messageErrorParameters = 'Incorrect parameters. Parameters of chart :' +\n                ' [ wktLiteral(geosparql:wktLiteral) | latitude(xsd:Decimal) longitude(xsd:Decimal)] ' +\n                ' title(xsd:string optional) introduction(xsd:string optional) link(IRI optional) image(IRI optional). ';\n            let cols = result.head.vars;\n            let rows = result.results.bindings;\n            let noCols = cols.length;\n            let noRows = rows.length;\n            let map;\n            let height = '180px';\n            let idChart = currentChart.container.id + '-leaflet';\n            let element = document.getElementById(currentChart.container.id);\n            let groupArray = []; // create new markers array\n            let group;\n            let markers;\n            let marker;\n            let lat;\n            let long;\n            let wktLiteralStr;\n            let wktLiteralType;\n            let wktLiteral;\n            let tileAttributionFinal;\n            let polylinelatlngs;\n            let polyline;\n            let rectangleBounds;\n            let rectangle;\n            let polygon;\n            let pointWktLiteral;\n            let linestringWktLiteral;\n            let envelopeWktLiteral;\n            let polygonWktLiteral;\n            let multipolygonWktLiteral;\n            let polygonPointslatlngs;\n            let mapUri;\n            let geoJSON;\n            if (currentChart.height !== '') {\n                height = currentChart.height;\n            }\n            let opt = Object.assign({\n                width: currentChart.width,\n                height: height,\n                // showTooltip: true,\n                // showInfoWindow: true,\n                tileLayerTemplate: 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}',\n                tileLayerAttributionHTML: '© <a href=\"https://www.mapbox.com/about/maps/\" target=\\'_blank\\'>Mapbox</a> © <a href=\"http://www.openstreetmap.org/copyright\" target=\\'_blank\\'>OpenStreetMap</a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a></strong>',\n                tileLayerAttribution: null,\n                tileLayerAttributionLink: null,\n                tileLayerId: 'mapbox/streets-v11',\n                tileLayerAccessToken: API.osmAccessToken,\n                tileLayerTileSize: 512,\n                tileLayerZoomOffset: -1,\n                tileLayerTms: false,\n                tileLayerZoom: 13\n            }, currentChart.options);\n            if (element) {\n                element.innerHTML = \"<div id='\" + idChart + \"' style='width: \" + opt.width + '; height: ' + opt.height + \";'></div>\";\n                if (opt.tileLayerAttribution != null) {\n                    if (opt.tileLayerAttributionLink != null) {\n                        tileAttributionFinal = \"<a href=\\\"\" + opt.tileLayerAttributionLink + \"\\\" target='_blank'>\" + opt.tileLayerAttribution + \"</a>\";\n                    }\n                    else {\n                        tileAttributionFinal = opt.tileLayerAttribution;\n                    }\n                }\n                else {\n                    tileAttributionFinal = opt.tileLayerAttributionHTML;\n                }\n                let tileLayer = new L.tileLayer(opt.tileLayerTemplate, {\n                    attribution: tileAttributionFinal,\n                    tileSize: opt.tileLayerTileSize,\n                    zoomOffset: opt.tileLayerZoomOffset,\n                    maxZoom: 18,\n                    id: opt.tileLayerId,\n                    accessToken: opt.tileLayerAccessToken,\n                    tms: opt.tileLayerTms,\n                    zoom: opt.tileZoom,\n                });\n                map = L.map(idChart, { layers: [tileLayer] });\n                // todo insert option\n                markers = L.markerClusterGroup({\n                    chunkedLoading: true,\n                    spiderfyOnMaxZoom: true,\n                    showCoverageOnHover: true,\n                    zoomToBoundsOnClick: true\n                });\n                if (noCols < 1) {\n                    messageError = messageErrorParameters;\n                }\n                else {\n                    for (let row of rows) {\n                        //check geoJSON\n                        if (row[cols[0]].type === \"uri\") {\n                            mapUri = row[cols[0]].value;\n                            let xhr = new XMLHttpRequest();\n                            //mapUri = \"http://commons.wikimedia.org/data/main/Data:Paris.map\"\n                            //mapUri = \"https://gist.githubusercontent.com/wavded/1200773/raw/e122cf709898c09758aecfef349964a8d73a83f3/sample.json\"\n                            xhr.open('GET', mapUri, false);\n                            xhr.send(null);\n                            if (xhr.status === 200) {\n                                // @ts-ignore\n                                geoJSON = L.geoJSON(JSON.parse(xhr.response));\n                                geoJSON.addTo(map);\n                                groupArray.push(geoJSON);\n                            }\n                            continue;\n                        }\n                        //check  wktLiteral\n                        wktLiteralType = row[cols[0]].datatype;\n                        if (wktLiteralType == \"http://www.opengis.net/ont/geosparql#wktLiteral\") {\n                            wktLiteralStr = row[cols[0]].value;\n                            try {\n                                wktLiteral = WktLiteral.create(wktLiteralStr);\n                                if (wktLiteral instanceof PointWktLiteral) {\n                                    pointWktLiteral = wktLiteral;\n                                    lat = wktLiteral.lat;\n                                    long = wktLiteral.long;\n                                    marker = L.marker([lat, long]);\n                                    marker = Map.readOtherParametersWithPoint(row, cols.slice(1), marker);\n                                    markers.addLayer(marker);\n                                    groupArray.push(marker);\n                                }\n                                else if (wktLiteral instanceof LinestringWktLiteral) {\n                                    linestringWktLiteral = wktLiteral;\n                                    polylinelatlngs = [];\n                                    for (let point of linestringWktLiteral.points) {\n                                        polylinelatlngs.push([point.lat, point.long]);\n                                    }\n                                    polyline = L.polyline(polylinelatlngs, { color: 'red' });\n                                    polyline = Map.readOtherParametersWithPoint(row, cols.slice(1), polyline);\n                                    polyline.addTo(map);\n                                    groupArray.push(polyline);\n                                }\n                                else if (wktLiteral instanceof EnvelopeWktLiteral) {\n                                    envelopeWktLiteral = wktLiteral;\n                                    rectangleBounds = [[envelopeWktLiteral.minLat, envelopeWktLiteral.minLong], [envelopeWktLiteral.maxLat, envelopeWktLiteral.maxLong]];\n                                    rectangle = L.rectangle(rectangleBounds, { color: \"#ff7800\", weight: 1 });\n                                    rectangle = Map.readOtherParametersWithPoint(row, cols.slice(1), rectangle);\n                                    rectangle.addTo(map);\n                                    groupArray.push(rectangle);\n                                }\n                                else if (wktLiteral instanceof PolygonWktLiteral) {\n                                    polygonWktLiteral = wktLiteral;\n                                    polygonPointslatlngs = [];\n                                    for (let point of polygonWktLiteral.points) {\n                                        polygonPointslatlngs.push([point.lat, point.long]);\n                                    }\n                                    polygon = L.polygon(polygonPointslatlngs, { color: 'green', weight: 1 });\n                                    polygon = Map.readOtherParametersWithPoint(row, cols.slice(1), polygon);\n                                    polygon.addTo(map);\n                                    groupArray.push(polygon);\n                                }\n                                else if (wktLiteral instanceof MultiPolygonWktLiteral) {\n                                    multipolygonWktLiteral = wktLiteral;\n                                    for (let polygonWktLiteral of multipolygonWktLiteral.polygons) {\n                                        polygonPointslatlngs = [];\n                                        for (let point of polygonWktLiteral.points) {\n                                            polygonPointslatlngs.push([point.lat, point.long]);\n                                        }\n                                        polygon = L.polygon(polygonPointslatlngs, { color: 'green', weight: 1 });\n                                        polygon = Map.readOtherParametersWithPoint(row, cols.slice(1), polygon);\n                                        polygon.addTo(map);\n                                        groupArray.push(polygon);\n                                    }\n                                }\n                            }\n                            catch (e) {\n                                if (e instanceof ErrorWktLiteral) {\n                                    messageError = e.message;\n                                    // console.log(\"ERROR SGVIZLER2: wktLiteral: \"+  e.message)\n                                    // continue //not fail\n                                }\n                                else {\n                                    throw e;\n                                }\n                            }\n                        }\n                        else {\n                            lat = parseFloat(row[cols[0]].value);\n                            long = parseFloat(row[cols[1]].value);\n                            if (!isNaN(lat) && !isNaN(long)) {\n                                marker = L.marker([lat, long]);\n                                marker = Map.readOtherParametersWithPoint(row, cols.slice(2), marker);\n                                markers.addLayer(marker);\n                                groupArray.push(marker);\n                            }\n                            else {\n                                messageError = messageErrorParameters;\n                            }\n                        }\n                    }\n                }\n                if (messageError !== '') {\n                    return reject(Error(messageError));\n                }\n                if (noRows > 0) {\n                    map.addLayer(markers);\n                    // zoom on the markers\n                    group = L.featureGroup(groupArray);\n                    map.fitBounds(group.getBounds());\n                }\n                else {\n                    map.fitWorld({ reset: true }).zoomIn();\n                }\n                // finish\n                return resolve();\n            }\n        });\n    }\n    static readOtherParametersWithPoint(row, cols, marker) {\n        const title = row[cols[0]] !== undefined ? row[cols[0]].value : undefined;\n        const text = row[cols[1]] !== undefined ? row[cols[1]].value : undefined;\n        const link = row[cols[2]] !== undefined ? row[cols[2]].value : undefined;\n        const img = row[cols[3]] !== undefined ? row[cols[3]].value : undefined;\n        if (title === undefined\n            && text === undefined\n            && link === undefined\n            && img === undefined) {\n            return marker;\n        }\n        if (img !== undefined) {\n            if (title !== undefined\n                && text !== undefined\n                && link !== undefined) {\n                marker.bindPopup('<div style=\"display: flow-root;min-height:150px;\">' +\n                    \"<a style='font-size: large;font-style: normal;' href='\" + link + \"' target='_blank'>\" + title + '</a>' +\n                    '<div style=\"display: table-cell;vertical-align: top\">' +\n                    \"<p style='margin: 0px'>\" + text + '</p>' +\n                    '</div>' +\n                    '<div style=\"display: table-cell;\">' +\n                    \"<a href='\" + link + \"' target='_blank'><img src='\" + img + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/></a>\" +\n                    '</div>' +\n                    '</div>');\n            }\n            else if (title !== undefined\n                && text !== undefined) {\n                marker.bindPopup('<div style=\"display: flow-root;min-height:150px;min-height:150px;\">' +\n                    \"<span style='font-size: large;font-style: normal;'>\" + title + '</span>' +\n                    '<div style=\"display: table-cell;vertical-align: top\">' +\n                    \"<p style='margin: 0px'>\" + text + '</p>' +\n                    '</div>' +\n                    '<div style=\"display: table-cell;\">' +\n                    \"<a href='\" + img + \"' target='_blank'><img src='\" + img + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/></a>\" +\n                    '</div>' +\n                    '</div>');\n            }\n            else if (title !== undefined\n                && link !== undefined) {\n                marker.bindPopup('<div style=\"display: flow-root;min-height:150px;min-height:150px;\">' +\n                    \"<a style='font-size: large;font-style: normal;' href='\" + link + \"' target='_blank'>\" + title + '</a>' +\n                    '<div style=\"display: table-cell;\">' +\n                    \"<a href='\" + link + \"' target='_blank'><img src='\" + img + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/></a>\" +\n                    '</div>' +\n                    '</div>');\n            }\n            else if (title !== undefined) {\n                marker.bindPopup('<div style=\"display: flow-root;min-height:150px;min-height:150px;\">' +\n                    \"<span style='font-size: large;font-style: normal;'>\" + title + '</span>' +\n                    '<div style=\"display: table-cell;\">' +\n                    \"<a href='\" + img + \"' target='_blank'><img src='\" + img + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/></a>\" +\n                    '</div>' +\n                    '</div>');\n            }\n            else {\n                marker.bindPopup('<div style=\"display: table-cell;\">' +\n                    \"<a href='\" + img + \"' target='_blank'><img src='\" + img + \"' style='margin-left:5px;margin-bottom:5px;width:150px;float:right;'/></a>\" +\n                    '</div>');\n            }\n        }\n        else {\n            if (title !== undefined\n                && text !== undefined\n                && link !== undefined) {\n                marker.bindPopup(\"<a style='font-size: large;font-style: normal;' href='\" + link + \"' target='_blank'>\" + title + '</a>' +\n                    \"<p style='margin: 0px'>\" + text + '</p>');\n            }\n            else if (title !== undefined\n                && text !== undefined) {\n                marker.bindPopup(\"<span style='font-size: large;font-style: normal;'>\" + title + '</span>' +\n                    \"<p style='margin: 0px'>\" + text + '</p>');\n            }\n            else if (title !== undefined\n                && link !== undefined) {\n                marker.bindPopup(\"<a style='font-size: large;font-style: normal;' href='\" + link + \"' target='_blank'>\" + title + '</a>');\n            }\n            else if (title !== undefined) {\n                marker.bindPopup(\"<span style='font-size: large;font-style: normal;'>\" + title + '</span>');\n            }\n        }\n        return marker;\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWFwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2xlYWZsZXQvdmlzdWFsaXphdGlvbi9NYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNILEtBQUssRUFFTCxJQUFJLEVBQ0osVUFBVSxFQUNWLGVBQWUsRUFDZixpQkFBaUIsRUFDakIsc0JBQXNCLEVBQ3RCLG9CQUFvQixFQUNwQixrQkFBa0IsRUFDbEIsZUFBZSxFQUVsQixNQUFNLGdCQUFnQixDQUFBO0FBRXZCLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxRQUFRLENBQUE7QUFXNUI7Ozs7O0dBS0c7QUFDSCxNQUFNLE9BQU8sR0FBSSxTQUFRLEtBQUs7SUFFMUIsSUFBVyxJQUFJO1FBQ1gsT0FBTyxXQUFXLENBQUE7SUFDdEIsQ0FBQztJQUVELElBQVcsS0FBSztRQUNaLE9BQU8sS0FBSyxDQUFBO0lBQ2hCLENBQUM7SUFFRCxJQUFXLE9BQU87UUFDZCxPQUFPLEtBQUssQ0FBQTtJQUNoQixDQUFDO0lBRUQsSUFBVyxhQUFhO1FBQ3BCLE9BQU8sMkJBQTJCLENBQUE7SUFDdEMsQ0FBQztJQUVELElBQVcsZ0JBQWdCO1FBQ3ZCLE9BQU8seUNBQXlDLENBQUE7SUFDcEQsQ0FBQztJQUVEO1FBQ0ksS0FBSyxFQUFFLENBQUE7UUFDUCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcseUJBQXlCLENBQUMsQ0FBQTtRQUNsRCxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsdUNBQXVDLENBQUMsQ0FBQTtRQUVoRSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0JBQXdCLENBQUMsQ0FBQTtRQUM5RCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLEdBQUcsc0NBQXNDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDMUUsQ0FBQztJQUNEOzs7Ozs7T0FNRztJQUNJLElBQUksQ0FBRSxNQUE2QjtRQUN0QyxJQUFJLFlBQVksR0FBRyxJQUFJLENBQUE7UUFDdkIsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLE9BQU8sRUFBRSxNQUFNO1lBQ3hDLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQTtZQUNyQixJQUFJLHNCQUFzQixHQUFHLDZDQUE2QztnQkFDdEUsc0ZBQXNGO2dCQUN0Rix3R0FBd0csQ0FBQTtZQUM1RyxJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtZQUMzQixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQTtZQUNsQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBO1lBQ3hCLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUE7WUFFeEIsSUFBSSxHQUFHLENBQUE7WUFDUCxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUE7WUFDcEIsSUFBSSxPQUFPLEdBQUcsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLEdBQUcsVUFBVSxDQUFBO1lBQ3BELElBQUksT0FBTyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtZQUNoRSxJQUFJLFVBQVUsR0FBZSxFQUFFLENBQUEsQ0FBQywyQkFBMkI7WUFDM0QsSUFBSSxLQUFLLENBQUE7WUFDVCxJQUFJLE9BQU8sQ0FBQTtZQUNYLElBQUksTUFBTSxDQUFBO1lBQ1YsSUFBSSxHQUFHLENBQUE7WUFDUCxJQUFJLElBQUksQ0FBQTtZQUNSLElBQUksYUFBYSxDQUFBO1lBQ2pCLElBQUksY0FBYyxDQUFBO1lBQ2xCLElBQUksVUFBVSxDQUFBO1lBQ2QsSUFBSSxvQkFBb0IsQ0FBQTtZQUN4QixJQUFJLGVBQWUsQ0FBQTtZQUNuQixJQUFJLFFBQVEsQ0FBQTtZQUNaLElBQUksZUFBZSxDQUFBO1lBQ25CLElBQUksU0FBUyxDQUFBO1lBQ2IsSUFBSSxPQUFPLENBQUE7WUFDWCxJQUFJLGVBQWUsQ0FBQTtZQUNuQixJQUFJLG9CQUFvQixDQUFBO1lBQ3hCLElBQUksa0JBQWtCLENBQUE7WUFDdEIsSUFBSSxpQkFBaUIsQ0FBQTtZQUNyQixJQUFJLHNCQUFzQixDQUFBO1lBQzFCLElBQUksb0JBQW9CLENBQUE7WUFDeEIsSUFBSSxNQUFNLENBQUE7WUFDVixJQUFJLE9BQU8sQ0FBQTtZQUVYLElBQUksWUFBWSxDQUFDLE1BQU0sS0FBSyxFQUFFLEVBQUU7Z0JBQzVCLE1BQU0sR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFBO2FBQy9CO1lBRUQsSUFBSSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztnQkFDcEIsS0FBSyxFQUFFLFlBQVksQ0FBQyxLQUFLO2dCQUN6QixNQUFNLEVBQUUsTUFBTTtnQkFDZCxxQkFBcUI7Z0JBQ3JCLHdCQUF3QjtnQkFDeEIsaUJBQWlCLEVBQUUsb0ZBQW9GO2dCQUN2Ryx3QkFBd0IsRUFBRSx5UUFBeVE7Z0JBQ25TLG9CQUFvQixFQUFFLElBQUk7Z0JBQzFCLHdCQUF3QixFQUFFLElBQUk7Z0JBQzlCLFdBQVcsRUFBRSxvQkFBb0I7Z0JBQ2pDLG9CQUFvQixFQUFFLEdBQUcsQ0FBQyxjQUFjO2dCQUN4QyxpQkFBaUIsRUFBRSxHQUFHO2dCQUN0QixtQkFBbUIsRUFBRSxDQUFDLENBQUM7Z0JBQ3ZCLFlBQVksRUFBRSxLQUFLO2dCQUNuQixhQUFhLEVBQUUsRUFBRTthQUNwQixFQUFFLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUV4QixJQUFJLE9BQU8sRUFBRTtnQkFDVCxPQUFPLENBQUMsU0FBUyxHQUFHLFdBQVcsR0FBRyxPQUFPLEdBQUcsa0JBQWtCLEdBQUcsR0FBRyxDQUFDLEtBQUssR0FBRyxZQUFZLEdBQUcsR0FBRyxDQUFDLE1BQU0sR0FBRyxXQUFXLENBQUE7Z0JBRXBILElBQUcsR0FBRyxDQUFDLG9CQUFvQixJQUFJLElBQUksRUFBQztvQkFDaEMsSUFBRyxHQUFHLENBQUMsd0JBQXdCLElBQUksSUFBSSxFQUFDO3dCQUNwQyxvQkFBb0IsR0FBRyxZQUFZLEdBQUMsR0FBRyxDQUFDLHdCQUF3QixHQUFDLHFCQUFxQixHQUFDLEdBQUcsQ0FBQyxvQkFBb0IsR0FBQyxNQUFNLENBQUE7cUJBQ3pIO3lCQUFJO3dCQUNELG9CQUFvQixHQUFHLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQTtxQkFDbEQ7aUJBQ0o7cUJBQUk7b0JBQ0Qsb0JBQW9CLEdBQUcsR0FBRyxDQUFDLHdCQUF3QixDQUFDO2lCQUN2RDtnQkFDRCxJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLGlCQUFpQixFQUFFO29CQUNuRCxXQUFXLEVBQUUsb0JBQW9CO29CQUNqQyxRQUFRLEVBQUUsR0FBRyxDQUFDLGlCQUFpQjtvQkFDL0IsVUFBVSxFQUFFLEdBQUcsQ0FBQyxtQkFBbUI7b0JBQ25DLE9BQU8sRUFBRSxFQUFFO29CQUNYLEVBQUUsRUFBRSxHQUFHLENBQUMsV0FBVztvQkFDbkIsV0FBVyxFQUFFLEdBQUcsQ0FBQyxvQkFBb0I7b0JBQ3JDLEdBQUcsRUFBRSxHQUFHLENBQUMsWUFBWTtvQkFDckIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxRQUFRO2lCQUNyQixDQUFDLENBQUE7Z0JBRUYsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLEVBQUMsTUFBTSxFQUFFLENBQUMsU0FBUyxDQUFDLEVBQUMsQ0FBQyxDQUFBO2dCQUUzQyxxQkFBcUI7Z0JBQ3JCLE9BQU8sR0FBRyxDQUFDLENBQUMsa0JBQWtCLENBQUM7b0JBQzNCLGNBQWMsRUFBRSxJQUFJO29CQUNwQixpQkFBaUIsRUFBRSxJQUFJO29CQUN2QixtQkFBbUIsRUFBRSxJQUFJO29CQUN6QixtQkFBbUIsRUFBRSxJQUFJO2lCQUM1QixDQUFDLENBQUE7Z0JBRUYsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUNaLFlBQVksR0FBRyxzQkFBc0IsQ0FBQTtpQkFDeEM7cUJBQU07b0JBQ0gsS0FBSyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7d0JBQ2xCLGVBQWU7d0JBQ2YsSUFBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLEtBQUssRUFBQzs0QkFDM0IsTUFBTSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7NEJBQzNCLElBQUksR0FBRyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUE7NEJBQzlCLGtFQUFrRTs0QkFDbEUsdUhBQXVIOzRCQUN2SCxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQyxNQUFNLEVBQUMsS0FBSyxDQUFDLENBQUE7NEJBQzVCLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBRWYsSUFBSSxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsRUFBRTtnQ0FDcEIsYUFBYTtnQ0FDYixPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFBO2dDQUM3QyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dDQUNuQixVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBOzZCQUMzQjs0QkFDRCxTQUFRO3lCQUNYO3dCQUVELG1CQUFtQjt3QkFDbkIsY0FBYyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUE7d0JBQ3RDLElBQUksY0FBYyxJQUFJLGlEQUFpRCxFQUFFOzRCQUNyRSxhQUFhLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQTs0QkFDbEMsSUFBRztnQ0FDQyxVQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQTtnQ0FDN0MsSUFBSSxVQUFVLFlBQVksZUFBZSxFQUFFO29DQUN2QyxlQUFlLEdBQXFCLFVBQVUsQ0FBQTtvQ0FDOUMsR0FBRyxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUM7b0NBQ3JCLElBQUksR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDO29DQUV2QixNQUFNLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFBO29DQUU5QixNQUFNLEdBQUcsR0FBRyxDQUFDLDRCQUE0QixDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFBO29DQUNyRSxPQUFPLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFBO29DQUN4QixVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFBO2lDQUMxQjtxQ0FBTSxJQUFJLFVBQVUsWUFBWSxvQkFBb0IsRUFBRTtvQ0FDbkQsb0JBQW9CLEdBQTBCLFVBQVUsQ0FBQTtvQ0FFeEQsZUFBZSxHQUFHLEVBQUUsQ0FBQztvQ0FDckIsS0FBSyxJQUFJLEtBQUssSUFBSSxvQkFBb0IsQ0FBQyxNQUFNLEVBQUU7d0NBQzNDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO3FDQUMvQztvQ0FFRCxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxlQUFlLEVBQUUsRUFBQyxLQUFLLEVBQUUsS0FBSyxFQUFDLENBQUMsQ0FBQTtvQ0FDdEQsUUFBUSxHQUFHLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLENBQUMsQ0FBQTtvQ0FDekUsUUFBUSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtvQ0FDbkIsVUFBVSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtpQ0FDNUI7cUNBQU0sSUFBSSxVQUFVLFlBQVksa0JBQWtCLEVBQUU7b0NBQ2pELGtCQUFrQixHQUF3QixVQUFVLENBQUE7b0NBRXBELGVBQWUsR0FBRyxDQUFDLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsa0JBQWtCLENBQUMsTUFBTSxFQUFDLGtCQUFrQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7b0NBRW5JLFNBQVMsR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLGVBQWUsRUFBRSxFQUFDLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUE7b0NBQ3ZFLFNBQVMsR0FBRyxHQUFHLENBQUMsNEJBQTRCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUE7b0NBQzNFLFNBQVMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7b0NBQ3BCLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUE7aUNBQzdCO3FDQUFNLElBQUksVUFBVSxZQUFZLGlCQUFpQixFQUFFO29DQUNoRCxpQkFBaUIsR0FBdUIsVUFBVSxDQUFBO29DQUNsRCxvQkFBb0IsR0FBRyxFQUFFLENBQUM7b0NBRTFCLEtBQUssSUFBSSxLQUFLLElBQUksaUJBQWlCLENBQUMsTUFBTSxFQUFFO3dDQUN4QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO3FDQUNwRDtvQ0FDRCxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsRUFBRSxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUE7b0NBRXRFLE9BQU8sR0FBRyxHQUFHLENBQUMsNEJBQTRCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUE7b0NBQ3ZFLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7b0NBQ2xCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7aUNBQzNCO3FDQUFNLElBQUksVUFBVSxZQUFZLHNCQUFzQixFQUFFO29DQUNyRCxzQkFBc0IsR0FBNEIsVUFBVSxDQUFBO29DQUU1RCxLQUFLLElBQUksaUJBQWlCLElBQUksc0JBQXNCLENBQUMsUUFBUSxFQUFFO3dDQUMzRCxvQkFBb0IsR0FBRyxFQUFFLENBQUM7d0NBQzFCLEtBQUssSUFBSSxLQUFLLElBQUksaUJBQWlCLENBQUMsTUFBTSxFQUFFOzRDQUN4QyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO3lDQUNyRDt3Q0FDRCxPQUFPLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsRUFBRSxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBQyxDQUFDLENBQUE7d0NBQ3RFLE9BQU8sR0FBRyxHQUFHLENBQUMsNEJBQTRCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUE7d0NBQ3ZFLE9BQU8sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7d0NBQ2xCLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7cUNBQzNCO2lDQUNKOzZCQUNKOzRCQUFBLE9BQU8sQ0FBQyxFQUFFO2dDQUNQLElBQUksQ0FBQyxZQUFZLGVBQWUsRUFBRTtvQ0FDOUIsWUFBWSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUE7b0NBQ3hCLDJEQUEyRDtvQ0FDM0Qsc0JBQXNCO2lDQUN6QjtxQ0FBTTtvQ0FDSCxNQUFNLENBQUMsQ0FBQTtpQ0FDVjs2QkFDSjt5QkFDSjs2QkFBTTs0QkFDSCxHQUFHLEdBQUcsVUFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTs0QkFDcEMsSUFBSSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7NEJBQ3JDLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7Z0NBQzdCLE1BQU0sR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7Z0NBQzlCLE1BQU0sR0FBRyxHQUFHLENBQUMsNEJBQTRCLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0NBRXRFLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLENBQUE7Z0NBQ3hCLFVBQVUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7NkJBQzFCO2lDQUFNO2dDQUNILFlBQVksR0FBRyxzQkFBc0IsQ0FBQTs2QkFDeEM7eUJBQ0o7cUJBQ0o7aUJBQ0o7Z0JBRUQsSUFBSSxZQUFZLEtBQUssRUFBRSxFQUFFO29CQUNyQixPQUFPLE1BQU0sQ0FBQyxLQUFLLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQTtpQkFDckM7Z0JBRUQsSUFBSSxNQUFNLEdBQUcsQ0FBQyxFQUFFO29CQUNaLEdBQUcsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUE7b0JBQ3JCLHNCQUFzQjtvQkFDdEIsS0FBSyxHQUFHLENBQUMsQ0FBQyxZQUFZLENBQUMsVUFBVSxDQUFDLENBQUE7b0JBQ2xDLEdBQUcsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUE7aUJBQ25DO3FCQUFNO29CQUNILEdBQUcsQ0FBQyxRQUFRLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtpQkFDekM7Z0JBQ0QsU0FBUztnQkFDVCxPQUFPLE9BQU8sRUFBRSxDQUFBO2FBQ25CO1FBQ0wsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU8sTUFBTSxDQUFDLDRCQUE0QixDQUFDLEdBQVEsRUFBRSxJQUFTLEVBQUUsTUFBVztRQUN4RSxNQUFNLEtBQUssR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUE7UUFDekUsTUFBTSxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFBO1FBQ3pFLE1BQU0sSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQTtRQUN4RSxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUE7UUFFdkUsSUFDSSxLQUFLLEtBQUssU0FBUztlQUNoQixJQUFJLEtBQUssU0FBUztlQUNsQixJQUFJLEtBQUssU0FBUztlQUNsQixHQUFHLEtBQUssU0FBUyxFQUN2QjtZQUNHLE9BQU8sTUFBTSxDQUFBO1NBQ2hCO1FBRUQsSUFBSyxHQUFHLEtBQUssU0FBUyxFQUFFO1lBQ3BCLElBQ0ksS0FBSyxLQUFLLFNBQVM7bUJBQ2hCLElBQUksS0FBSyxTQUFTO21CQUNsQixJQUFJLEtBQUssU0FBUyxFQUN2QjtnQkFDRSxNQUFNLENBQUMsU0FBUyxDQUNaLG9EQUFvRDtvQkFDcEQsd0RBQXdELEdBQUcsSUFBSSxHQUFHLG9CQUFvQixHQUFHLEtBQUssR0FBRyxNQUFNO29CQUN2Ryx1REFBdUQ7b0JBQ3ZELHlCQUF5QixHQUFHLElBQUksR0FBRyxNQUFNO29CQUN6QyxRQUFRO29CQUNSLG9DQUFvQztvQkFDcEMsV0FBVyxHQUFHLElBQUksR0FBRyw4QkFBOEIsR0FBRyxHQUFHLEdBQUcsNEVBQTRFO29CQUN4SSxRQUFRO29CQUNSLFFBQVEsQ0FDWCxDQUFBO2FBQ0o7aUJBQU0sSUFDSCxLQUFLLEtBQUssU0FBUzttQkFDaEIsSUFBSSxLQUFLLFNBQVMsRUFDdkI7Z0JBQ0UsTUFBTSxDQUFDLFNBQVMsQ0FDWixxRUFBcUU7b0JBQ3JFLHFEQUFxRCxHQUFHLEtBQUssR0FBRyxTQUFTO29CQUN6RSx1REFBdUQ7b0JBQ3ZELHlCQUF5QixHQUFHLElBQUksR0FBRyxNQUFNO29CQUN6QyxRQUFRO29CQUNSLG9DQUFvQztvQkFDcEMsV0FBVyxHQUFHLEdBQUcsR0FBRyw4QkFBOEIsR0FBRyxHQUFHLEdBQUcsNEVBQTRFO29CQUN2SSxRQUFRO29CQUNSLFFBQVEsQ0FDWCxDQUFBO2FBQ0o7aUJBQU0sSUFDSCxLQUFLLEtBQUssU0FBUzttQkFDaEIsSUFBSSxLQUFLLFNBQVMsRUFDdkI7Z0JBQ0UsTUFBTSxDQUFDLFNBQVMsQ0FDWixxRUFBcUU7b0JBQ3JFLHdEQUF3RCxHQUFHLElBQUksR0FBRyxvQkFBb0IsR0FBRyxLQUFLLEdBQUcsTUFBTTtvQkFDdkcsb0NBQW9DO29CQUNwQyxXQUFXLEdBQUcsSUFBSSxHQUFHLDhCQUE4QixHQUFHLEdBQUcsR0FBRyw0RUFBNEU7b0JBQ3hJLFFBQVE7b0JBQ1IsUUFBUSxDQUNYLENBQUE7YUFDSjtpQkFBSyxJQUNGLEtBQUssS0FBSyxTQUFTLEVBQ3JCO2dCQUNFLE1BQU0sQ0FBQyxTQUFTLENBQ1oscUVBQXFFO29CQUNyRSxxREFBcUQsR0FBRyxLQUFLLEdBQUcsU0FBUztvQkFDekUsb0NBQW9DO29CQUNwQyxXQUFXLEdBQUcsR0FBRyxHQUFHLDhCQUE4QixHQUFHLEdBQUcsR0FBRyw0RUFBNEU7b0JBQ3ZJLFFBQVE7b0JBQ1IsUUFBUSxDQUNYLENBQUE7YUFDSjtpQkFBTTtnQkFDSCxNQUFNLENBQUMsU0FBUyxDQUNaLG9DQUFvQztvQkFDcEMsV0FBVyxHQUFHLEdBQUcsR0FBRyw4QkFBOEIsR0FBRyxHQUFHLEdBQUcsNEVBQTRFO29CQUN2SSxRQUFRLENBQ1gsQ0FBQTthQUNKO1NBQ0o7YUFBSTtZQUNELElBQ0ksS0FBSyxLQUFLLFNBQVM7bUJBQ2hCLElBQUksS0FBSyxTQUFTO21CQUNsQixJQUFJLEtBQUssU0FBUyxFQUN2QjtnQkFDRSxNQUFNLENBQUMsU0FBUyxDQUNaLHdEQUF3RCxHQUFHLElBQUksR0FBRyxvQkFBb0IsR0FBRyxLQUFLLEdBQUcsTUFBTTtvQkFDdkcseUJBQXlCLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FDNUMsQ0FBQTthQUNKO2lCQUFNLElBQ0gsS0FBSyxLQUFLLFNBQVM7bUJBQ2hCLElBQUksS0FBSyxTQUFTLEVBQ3ZCO2dCQUNFLE1BQU0sQ0FBQyxTQUFTLENBQ1oscURBQXFELEdBQUcsS0FBSyxHQUFHLFNBQVM7b0JBQ3pFLHlCQUF5QixHQUFHLElBQUksR0FBRyxNQUFNLENBQzVDLENBQUE7YUFDSjtpQkFBTSxJQUNILEtBQUssS0FBSyxTQUFTO21CQUNoQixJQUFJLEtBQUssU0FBUyxFQUN2QjtnQkFDRSxNQUFNLENBQUMsU0FBUyxDQUNaLHdEQUF3RCxHQUFHLElBQUksR0FBRyxvQkFBb0IsR0FBRyxLQUFLLEdBQUcsTUFBTSxDQUMxRyxDQUFBO2FBRUo7aUJBQUssSUFDRixLQUFLLEtBQUssU0FBUyxFQUNyQjtnQkFDRSxNQUFNLENBQUMsU0FBUyxDQUNaLHFEQUFxRCxHQUFHLEtBQUssR0FBRyxTQUFTLENBQzVFLENBQUE7YUFDSjtTQUNKO1FBQ0QsT0FBTyxNQUFNLENBQUM7SUFDbEIsQ0FBQztDQUNKIn0=","/**\n * @namespace leaflet\n */\nimport * as visualizationNS from './leaflet/visualization';\nexport const visualization = visualizationNS;\n// Class\nexport * from './leaflet/API';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGVhZmxldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9sZWFmbGV0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOztHQUVHO0FBQ0gsT0FBTyxLQUFLLGVBQWUsTUFBTSx5QkFBeUIsQ0FBQTtBQUMxRCxNQUFNLENBQUMsTUFBTSxhQUFhLEdBQUcsZUFBZSxDQUFBO0FBRTVDLFFBQVE7QUFDUixjQUFjLGVBQWUsQ0FBQSJ9","'use strict';\n// Namespace\nimport * as S from './sgvizler';\nexport const sgvizler = S;\nimport * as bordercloudNS from './bordercloud';\nexport const bordercloud = bordercloudNS;\nimport * as googleNS from './google';\nexport const google = googleNS;\nimport * as d3NS from './d3';\nexport const d3 = d3NS;\nimport * as leafletNS from './leaflet';\nexport const leaflet = leafletNS;\n/**\n * Todo\n * @const\n *\n */\nexport const VERSION = S.Core.VERSION;\n/**\n * Todo\n * @const\n */\nexport const HOMEPAGE = S.Core.HOMEPAGE;\n/**\n * Draws the sgvizler-containers with the given element id.\n *\n */\nexport function containerLoadAll() {\n    S.Container.loadAllDependencies();\n}\nfunction readOptions(options) {\n    if (options) {\n        if (typeof options === 'object') {\n            google.API.key = options.googleApiKey ? options.googleApiKey : '';\n            leaflet.API.osmAccessToken = options.osmAccessToken ? options.osmAccessToken : '';\n            if (options.path) {\n                S.Core.path = options.path.endsWith('/') ? options.path : options.path + '/';\n            }\n            else {\n                S.Core.path = '';\n            }\n        }\n    }\n}\n/**\n * Draws the sgvizler-containers with the given element id.\n * @param {string} elementID\n */\nexport function containerDraw(elementID, options) {\n    // S.Container.loadDependenciesId(elementID)\n    readOptions(options);\n    S.Container.drawWithElementId(elementID);\n    return S.Logger;\n}\n/**\n * Todo.\n */\nexport function containerDrawAll(options) {\n    // S.Container.loadAllDependencies()\n    readOptions(options);\n    S.Container.drawAll();\n    return S.Logger;\n}\n/**\n * Todo.\n */\nexport function selectDraw(elementID) {\n    // S.Select.loadDependencies()\n    S.Select.drawWithElementId(elementID);\n    return S.Logger;\n}\n/**\n * Todo.\n */\nexport function selectDrawAll() {\n    // S.Select.loadDependencies()\n    S.Select.drawAll();\n    return S.Logger;\n}\n/**\n * Todo.\n * @param {string} className\n * @param {string} pathDoc\n * @returns {string}\n */\nexport function getChartDoc(className, pathDoc) {\n    return S.Select.getChartDoc(className, pathDoc);\n}\n/**\n * Todo.\n * @param {string} className\n * @param {string} pathDoc\n * @returns {string}\n */\nexport function getChartOptions(elementID) {\n    let optionsChart = \"\";\n    S.Container.list.forEach((container) => {\n        if (container.id === elementID) {\n            optionsChart = container.chart.newOptionsRaw;\n        }\n    });\n    return optionsChart;\n}\nexport function encodeHtml(str) {\n    return S.Tools.encodeHtml(str);\n}\nexport function decodeHtml(str) {\n    return S.Tools.decodeHtml(str);\n}\nexport function giveHTMLAndScript(idDivOfSgvizler, idHtmlOfSgvizler, idScriptOfSgvizler, options) {\n    let div = document.getElementById(idDivOfSgvizler);\n    let htmlDiv = document.getElementById(idHtmlOfSgvizler);\n    let scriptDiv = document.getElementById(idScriptOfSgvizler);\n    if (div) {\n        if (htmlDiv) {\n            htmlDiv.textContent = new XMLSerializer().serializeToString(div)\n                .replace(/&#10;/g, \"\\n\")\n                .replace(/xmlns=\"http:\\/\\/www.w3.org\\/1999\\/xhtml\"/g, \"\")\n                .replace(/ data-/gm, \"\\ndata-\");\n        }\n        if (scriptDiv) {\n            let script = \"<script src=\\\"../browser/sgvizler2.js\\\"><\\/script>\\n\" +\n                \"<script>\\n\";\n            if (options) {\n                script += \"var options = {\\n\" +\n                    \"             googleApiKey : \\\"YOUR_GOOGLE_MAP_API_KEY\\\",\\n\" +\n                    \"             //OpenStreetMap Access Token\\n\" +\n                    \"             // https://www.mapbox.com/\\n\" +\n                    \"             osmAccessToken:  \\\"YOUR_OSM_ACCESS_TOKEN\\\"\\n\" +\n                    \"};\\n\";\n                script += \"//Draw a chart\\n\" +\n                    \"//sgvizler2.containerDraw('result',options);\\n\" +\n                    \"//or\\n\" +\n                    \"//$(\\\"#result\\\").containerchart(options);\\n\" +\n                    \"\\n\" +\n                    \"//Draw all Chart\\n\" +\n                    \"sgvizler2.containerDrawAll(options);\\n\";\n            }\n            else {\n                script +=\n                    \"//Draw a chart\\n\" +\n                        \"//sgvizler2.containerDraw('\" + idDivOfSgvizler + \"');\\n\" +\n                        \"//or\\n\" +\n                        \"//$(\\\"#\" + idDivOfSgvizler + \"\\\").containerchart();\\n\" +\n                        \"\\n\" +\n                        \"//Draw all Chart\\n\" +\n                        \"sgvizler2.containerDrawAll();\\n\";\n            }\n            script += \"<\\/script>\";\n            scriptDiv.textContent = script;\n        }\n    }\n}\nexport function showTabHtmlAndScript(idDivOfSgvizler, options) {\n    $(\"#\" + idDivOfSgvizler).before('<ul class=\"nav nav-tabs\" role=\"tablist\" idDivOfSgvizler=\"' + idDivOfSgvizler + 'tab\">\\n' +\n        '    <li class=\"nav-item\">\\n' +\n        '         <a class=\"nav-link active\" data-toggle=\"tab\" href=\"#' + idDivOfSgvizler + 'Tab\" role=\"tab\" aria-expanded=\"true\">Result</a>\\n' +\n        '         </li>\\n' +\n        '         <li class=\"nav-item\">\\n' +\n        '         <a class=\"nav-link\" data-toggle=\"tab\" href=\"#' + idDivOfSgvizler + 'htmlTab\" role=\"tab\" aria-expanded=\"false\">HTML</a>\\n' +\n        '         </li>\\n' +\n        '         <li class=\"nav-item\">\\n' +\n        '         <a class=\"nav-link\" data-toggle=\"tab\" href=\"#' + idDivOfSgvizler + 'scriptTab\" role=\"tab\" aria-expanded=\"false\">Javascript</a>\\n' +\n        '         </li>\\n' +\n        '</ul>\\n' +\n        '<div class=\"tab-content\">\\n' +\n        '         <div class=\"tab-pane active\" id=\"' + idDivOfSgvizler + 'Tab\" role=\"tabpanel\" aria-expanded=\"true\">' +\n        '              <div id=\"' + idDivOfSgvizler + 'example\" style=\"padding: 25px;\"></div>' +\n        '         </div>\\n' +\n        '         <div class=\"tab-pane\" id=\"' + idDivOfSgvizler + 'htmlTab\" role=\"tabpanel\" aria-expanded=\"false\">\\n' +\n        '            <div class=\"bg-faded\" style=\"padding: 25px;\"><pre lang=\"html\" id=\"' + idDivOfSgvizler + 'Html\"></pre></div>\\n' +\n        '         </div>\\n' +\n        '         <div class=\"tab-pane\" id=\"' + idDivOfSgvizler + 'scriptTab\" role=\"tabpanel\" aria-expanded=\"false\">\\n' +\n        '            <div class=\"bg-faded\" style=\"padding: 25px;\"><pre lang=\"html\" id=\"' + idDivOfSgvizler + 'Script\"></pre></div>\\n' +\n        '         </div>\\n' +\n        '</div>');\n    var element = $(\"#\" + idDivOfSgvizler).detach();\n    $('#' + idDivOfSgvizler + 'example').append(element);\n    giveHTMLAndScript(idDivOfSgvizler, idDivOfSgvizler + \"Html\", idDivOfSgvizler + \"Script\", options);\n}\n/**\n * Todo\n * @param {string} elementID\n * @param {string} endpoint\n * @param {string} query\n * @param {string} chartName\n * @param {string} options\n * @param {string} loglevel\n * @returns {string}\n */\nexport function create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter, lang) {\n    return S.Container.create(elementID, endpoint, query, chartName, options, loglevel, output, method, parameter, lang);\n}\n// noinspection JSPotentiallyInvalidConstructorUsage\njQuery.fn.extend({\n    selectchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index >= 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    S.Select.draw(obj, param);\n                }\n                else {\n                    S.Select.draw(obj);\n                }\n            }\n        });\n    },\n    containerchart: function (param, option) {\n        let $this = this;\n        let action = 'render';\n        if (param) {\n            if (typeof param === 'string') {\n                action = param;\n            }\n            else if (typeof param === 'object') {\n                action = param.action ? param.action : action;\n            }\n        }\n        // Return the jQuery object for chaining.\n        return $this.each(function (index, obj) {\n            if (index >= 0 && action === 'render') {\n                if (param && typeof param === 'object') {\n                    readOptions(param);\n                }\n                S.Container.drawWithElementId($(obj).attr('id'));\n            }\n        });\n    }\n});\nS.Loader.detectRoot();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFBO0FBS1osWUFBWTtBQUNaLE9BQU8sS0FBSyxDQUFDLE1BQU0sWUFBWSxDQUFBO0FBQy9CLE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBRyxDQUFDLENBQUE7QUFFekIsT0FBTyxLQUFLLGFBQWEsTUFBTSxlQUFlLENBQUE7QUFDOUMsTUFBTSxDQUFDLE1BQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQTtBQUV4QyxPQUFPLEtBQUssUUFBUSxNQUFNLFVBQVUsQ0FBQTtBQUNwQyxNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsUUFBUSxDQUFBO0FBRTlCLE9BQU8sS0FBSyxJQUFJLE1BQU0sTUFBTSxDQUFBO0FBQzVCLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUE7QUFFdEIsT0FBTyxLQUFLLFNBQVMsTUFBTSxXQUFXLENBQUE7QUFDdEMsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQTtBQUVoQzs7OztHQUlHO0FBQ0gsTUFBTSxDQUFDLE1BQU0sT0FBTyxHQUFXLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBO0FBRTdDOzs7R0FHRztBQUNILE1BQU0sQ0FBQyxNQUFNLFFBQVEsR0FBVyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQTtBQUUvQzs7O0dBR0c7QUFDSCxNQUFNLFVBQVUsZ0JBQWdCO0lBQzFCLENBQUMsQ0FBQyxTQUFTLENBQUMsbUJBQW1CLEVBQUUsQ0FBQTtBQUN2QyxDQUFDO0FBRUQsU0FBUyxXQUFXLENBQUUsT0FBWTtJQUM5QixJQUFJLE9BQU8sRUFBRTtRQUNULElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO1lBQzdCLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLE9BQU8s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"],"names":["CHART_PATTERN_OPTIONS","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Chart","[object Object]","this","options","_tabDependences","_patternOptions","EMPTY","_width","_height","_optionsRaw","_class","_style","_isDone","currentThis","Loader","on","container","isLoadedAllDependencies","_resultSparql","undefined","doDraw","Logger","log","id","loadDependencies","promisesArray","dep","push","load","all","patternOptions","classHtml","style","_container","optionsRaw","doParseOptionsRaw","newOptionsRaw","height","width","html","opts","CLASS","Object","keys","map","property","join","STYLE","url","loadBefore","ScriptDependency","CssDependency","isLoaded","isEmpty","cols","head","vars","rows","results","bindings","noCols","length","displayFeedback","MESSAGES","ERROR_DATA_EMPTY","draw","valeur","fireDoneEvent","error","console","ERROR_CHART","patternOption","typePattern","matchArray","raw","exec","Tools","assignProperty","trim","patternStyle","patternClass","patternWiki","UNKNOWN","indexOf","OBJECT","execPattern","WIKI","VARIABLE","i","ERROR_CHART_PATTERN_OPTION_UNKNOWN","SPARQL_RESULT","CONTAINER_STATE","icon","label","subtext","classFullName","tutorialFilename","super","currentChart","opt","assign","headings","getHTMLStyleOrClass","col","row","obj","document","getElementById","innerHTML","event","fn","_listCallEvent","srcScript","evaluate","XPathResult","STRING_TYPE","stringValue","match","_pathScripts","_load","_loaded","loadScript","loadCss","call","_dependenciesToLoad","filter","v","a","len","forEach","endDownload","isLoad","logSimple","getElementsByTagName","script","createElement","type","src","getAbsoluteURL","onload","callBack","fireEvent","checkDependenciesToLoad","appendChild","link","rel","href","Dependency","startDownload","SparqlError","xhr","errorWikidata","response","linkError","message","status","statusText","Select","elementID","element","nodesOption","getSelectOptions","node","cloneNode","nodesSnapshot","CLASS_NAME","UNORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","snapshotItem","pathDoc","chartClass","getObjectByPath","path","Core","DOCPATH","nodeOption","nodeOptgroup","attrLabel","attrValue","attrIcon","attrSub","attrSelected","nodes","classSelected","selected","classOfChartSelectedByDefault","optgroup","charts","createAttribute","setAttributeNode","chart","text","Messages","args","ERROR_CHART_UNKNOWN","ERROR_REQUEST","ERROR_DEPENDENCIES","ERROR_ENDPOINT_FORGOT","ERROR_DATA_NOROW","replace","object","segments","split","cursor","sgvizler2","window","assignJSON","getJSONByPath","str","buf","unshift","dec","String","fromCharCode","json","propertyName","nextPath","positionDot","search","Number","isNaN","convertToBoolean","JSON","stringify","substring","mergeInObject","parse","input","ref","key","isPlainObject","dest","data","o","constructor","prototype","x","val","parseInt","callback","_doneCallEvent","loadingIcon","hide","_failCallEvent","loglevel","elapsedTime","messageName","S.Messages","get","fireFailEvent","Date","now","_startTime","_path","VERSION","HOMEPAGE","SparqlTools","xml","jsonp","Request","_query","_endpoint","_endpointOutputFormat","_method","_queryParameter","listeners","method","query","endpoint","endpointOutputFormat","queryParameter","myRequest","XMLHttpRequest","toLowerCase","encodeURIComponent","getOutputLabel","open","setRequestHeader","getHeaderAccept","onprogress","oEvent","lengthComputable","percentComplete","loaded","total","readyState","DONE","getErrorMessageWithStatus200","onerror","getErrorWithOtherStatus","send","Container","_lang","_chartOptions","_chartName","_loglevel","_id","Error","self","_state","LOADING","elmAttrs","attributes","LANG","LOG_LEVEL_ATTRIBUTE_NAME","CHART_ATTRIBUTE_NAME","warn","CHART_OPTION_ATTRIBUTE_NAME","decodeHtml","request","QUERY_ATTRIBUTE_NAME","ENDPOINT_ATTRIBUTE_NAME","FAILED","OUTPUT_FORMAT_ATTRIBUTE_NAME","convertString","OUTPUT_METHOD_ATTRIBUTE_NAME","QUERY_PARAMETER_ATTRIBUTE_NAME","_request","chartName","$","widthCss","css","heightCss","_chart","saveRefOfContainer","index","list","_loadingIcon","LoadingIcon","show","ids","iterator","PREFIX","ANY_TYPE","thisNode","iterateNext","drawWithElementId","loadDependenciesId","output","parameter","lang","attrQuery","attrEndpoint","attrChart","attrOptions","attrLevel","attrOutput","attrMethod","attrQueryAttribut","chartOptions","sparqlResult","sendRequest","sparqlResultI","loadDependenciesAndDraw","_rotation","currentLoadingcon","canvas","sizeConvertInteger","setAttribute","image","Image","_processusWaiting","setInterval","ctx","getContext","xcenter","ycenter","sourceWidth","sourceHeight","clearRect","save","translate","rotate","Math","PI","drawImage","restore","_imgWait","display","clearInterval","WktLiteral","spatialReferenceSystem","regexPoint","resultPoint","PointWktLiteral","regexLinestring","regexLonLatList","resultLinestring","resultLinestringList","matchAll","line","LinestringWktLiteral","regexEnvelope","resultEnvelope","EnvelopeWktLiteral","regexPolygon","resultPolygon","resultPolygonList","polygon","PolygonWktLiteral","regexMultiPolygon","regexPolygonList","resultMultiPolygon","multipolygon","MultiPolygonWktLiteral","matchPolygon","resultPointList","ErrorWktLiteral","parameterName","valueNumber","parseFloat","long","lat","getNumber","p","arguments","points","pointWktLiteral","minLong","maxLong","maxLat","minLat","polygons","polygonWktLiteral","visualization","visualizationNS","DATATABLE_COL_OPTIONS","DataTable","addCss","jqueryDataTables","addScript","dataTablesBootstrap4","dataTablesResponsive","dataTablesButtons","buttonsBootstrap4","buttons","pdfmake","codeStyle","m","datasetColumnsFunc","optionCol","isModified","regex","datasetColumnsDefs","colOptions","c","TAG","lastIndex","getFunctionColumnDefImg","getFunctionColumnDefSpan","getFunctionColumnDefVideo","getFunctionColumnDefDefault","targets","render","full","meta","youtubePattern","RegExp","facebookPattern","mediawikiPattern","test","optionsDateTime","hour","minute","second","datasetRow","noRows","idChart","datasetColumns","dataset","tableElement","tableId","tableClass","tableCellSpacing","tableWidth","class","cellspacing","colstyle","title","buildColumnDefs","r","datatype","toLocaleDateString","dataTable","Buttons","defaults","dom","button","className","bSort","columns","columnDefs","extend","titleAttr","language","geti18n","sProcessing","sSearch","sLengthMenu","sInfo","sInfoEmpty","sInfoFiltered","sInfoPostFix","sLoadingRecords","sZeroRecords","sEmptyTable","oPaginate","sFirst","sPrevious","sNext","sLast","oAria","sSortAscending","sSortDescending","sInfoThousands","PivotTable","touch","pivot","plotly","d3","c3","gchart","google","packages","_isInit","idContainer","idSwith","divElement","divId","defaultOptions","renderers","pivotUtilities","plotly_renderers","d3_renderers","c3_renderers","gchart_renderers","export_renderers","rendererOptions","pivotUIOptions","config","pivotUI","txtchecked","showUI","prepend","checked","patternPercent","patternPixel","Data","convertResultRaw","convertResult","role","_dataTable","setColumnProperty","colName","addColumn","addRows","y","hasOwnProperty","setCell","time","getHours","getSeconds","getMilliseconds","toString","AnnotationChart","decodeFormatSize","init","setOnLoadCallback","getDataTable","AreaChart","BarChart","BubbleChart","Calendar","CandlestickChart","ColumnChart","reverseCategories","ComboChart","API","_key","GeoChart","mapsApiKey","Histogram","IntervalChart","setRole","LineChart","Map","showTooltip","showInfoWindow","enableScrollWheel","location","origin","startsWith","icons","default","normal","description","messageError","latitudeCol","longitudeCol","descriptionCol","img","OrgChart","allowHtml","Pie","PieChart","ScatterChart","SteppedAreaChart","Table","showRowNumber","Timeline","TreeMap","Trendline","trendlines","0","heightOpt","containerElement","select","containerElementNode","clientWidth","clientHeight","svg","append","attr","margin","top","right","bottom","left","widthChart","heightChart","xScale","scaleLinear","yScale","xAxisCall","axisBottom","yAxisCall","axisLeft","domain","range","scale","counter","count","selectAll","enter","j","scalePoint","entry","rangeRound","padding","xAxis","ticks","max","d","yAxis","valueline","radius","min","legendRectSize","legendSpacing","color","scaleOrdinal","schemeCategory10","arc","innerRadius","outerRadius","pie","sort","legend","offset","lets","osmAccessToken","_osmAccessToken","group","markers","marker","wktLiteralStr","wktLiteralType","wktLiteral","tileAttributionFinal","polylinelatlngs","polyline","rectangleBounds","rectangle","linestringWktLiteral","envelopeWktLiteral","multipolygonWktLiteral","polygonPointslatlngs","mapUri","geoJSON","messageErrorParameters","groupArray","tileLayerTemplate","tileLayerAttributionHTML","tileLayerAttribution","tileLayerAttributionLink","tileLayerId","tileLayerAccessToken","tileLayerTileSize","tileLayerZoomOffset","tileLayerTms","tileLayerZoom","tileLayer","L","attribution","tileSize","zoomOffset","maxZoom","accessToken","tms","zoom","tileZoom","layers","markerClusterGroup","chunkedLoading","spiderfyOnMaxZoom","showCoverageOnHover","zoomToBoundsOnClick","create","readOtherParametersWithPoint","slice","addLayer","point","addTo","weight","featureGroup","fitBounds","getBounds","fitWorld","reset","zoomIn","bindPopup","sgvizler","S","bordercloud","bordercloudNS","googleNS","d3NS","leaflet","S.Core","containerLoadAll","S.Container","loadAllDependencies","readOptions","googleApiKey","endsWith","containerDraw","S.Logger","containerDrawAll","drawAll","selectDraw","S.Select","selectDrawAll","getChartDoc","getChartOptions","optionsChart","encodeHtml","S.Tools","giveHTMLAndScript","idDivOfSgvizler","idHtmlOfSgvizler","idScriptOfSgvizler","div","htmlDiv","scriptDiv","textContent","XMLSerializer","serializeToString","showTabHtmlAndScript","before","detach","jQuery","selectchart","param","option","action","each","containerchart","detectRoot"],"mappings":"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"}